///<jscompress sourcefile="kendo.core.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.angular.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.data.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.binder.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.popup.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.list.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.dropdownlist.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.calendar.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.timepicker.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.columnsorter.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.userevents.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.draganddrop.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.color.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.slider.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.colorpicker.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.resizable.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.multiselect.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.autocomplete.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.combobox.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.datepicker.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.datetimepicker.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.editor.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.ooxml.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.excel.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.grid.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.listview.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.pager.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.treeview.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.upload.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.window.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.dom.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.editable.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.filtermenu.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.selectable.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.treelist.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.validator.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*////<jscompress sourcefile="kendo.treeview.draganddrop.js" />
/** 
 * Kendo UI v2016.1.412 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2016 Telerik AD. All rights reserved.                                                                                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/(function(b,k){k("kendo.core",["jquery"],b)})(function(){(function(b,k,q){function B(){}function u(a,d,c){a+="";d=d||2;return(c=d-a.length)?Aa[d].substring(0,c)+a:a}function z(d){d=(d=d.css(a.support.transitions.css+"box-shadow")||d.css("box-shadow"))?d.match(ha)||[0,0,0,0,0]:[0,0,0,0,0];var c=O.max(+d[3],+(d[4]||0));return{left:-d[1]+c,right:+d[1]+c,bottom:+d[2]+c}}function C(a){var d,c=arguments.length;for(d=1;d<c;d++)y(a,arguments[d]);return a}function y(d,c){var b=a.data.ObservableArray,g=a.data.LazyObservableArray,e=a.data.DataSource,r=a.data.HierarchicalDataSource,w,f,L,H;for(w in c)f=c[w],L=typeof f,(H="object"===L&&null!==f?f.constructor:null)&&H!==Array&&H!==b&&H!==g&&H!==e&&H!==r?f instanceof Date?d[w]=new Date(f.getTime()):na(f.clone)?d[w]=f.clone():(L=d[w],d[w]="object"===typeof L?L||{}:{},y(d[w],f)):"undefined"!==L&&(d[w]=f);return d}function F(a,d,c){for(var b in d)if(d.hasOwnProperty(b)&&d[b].test(a))return b;return c!==q?c:a}function A(a){return a.replace(/\-(\w)/g,function(a,d){return d.toUpperCase()})}function E(d,c){var g={},e;document.defaultView&&document.defaultView.getComputedStyle?(e=document.defaultView.getComputedStyle(d,""),c&&b.each(c,function(a,d){g[d]=e.getPropertyValue(d)})):(e=d.currentStyle,c&&b.each(c,function(a,d){g[d]=e[A(d)]}));a.size(g)||(g=e);return g}function x(a,d,c){d||(d="offset");a=a[d]();r.browser.msie&&(r.pointers||r.msPointers)&&!c&&(a.top-=k.pageYOffset-document.documentElement.scrollTop,a.left-=k.pageXOffset-document.documentElement.scrollLeft);return a}function t(a){var d={};g("string"===typeof a?a.split(" "):a,function(a){d[a]=this});return d}function m(d){return new a.effects.Element(d)}function e(a,c,b,g){"string"===typeof a&&(na(c)&&(g=c,c=400,b=!1),na(b)&&(g=b,b=!1),"boolean"===typeof c&&(b=c,c=400),a={effects:a,duration:c,reverse:b,complete:g});return d({effects:{},duration:400,reverse:!1,init:J,teardown:J,hide:!1},a,{completeCallback:a.complete,complete:J})}function h(a,d,c,g,r){for(var w=0,f=a.length,H;w<f;w++)H=b(a[w]),H.queue(function(){va.promise(H,e(d,c,g,r))});return a}function p(a,d,c,b){d&&(d=d.split(" "),g(d,function(d,c){a.toggleClass(c,b)}));return a}function n(d,c){var b;0===c.indexOf("data")&&(c=c.substring(4),c=c.charAt(0).toLowerCase()+c.substring(1));c=c.replace(ia,"-$1");b=d.getAttribute("data-"+a.ns+c);null===b?b=q:"null"===b?b=null:"true"===b?b=!0:"false"===b?b=!1:N.test(b)?b=parseFloat(b):wa.test(b)&&!la.test(b)&&(b=(new Function("return ("+b+")"))());return b}function D(d,c){var g={},e,r;for(e in c)r=n(d,e),r!==q&&(Ma.test(e)&&(r=a.template(b("#"+r).html())),g[e]=r);return g}function f(a,d){return b.contains(a,d)?-1:1}function l(){var d=b(this);return-1<b.inArray(d.attr("data-"+a.ns+"role"),["slider","rangeslider"])||d.is(":visible")}function c(a){return b.expr.filters.visible(a)&&!b(a).parents().addBack().filter(function(){return"hidden"===b.css(this,"visibility")}).length}function w(a,d){return new w.fn.init(a,d)}var a=k.kendo=k.kendo||{cultures:{}},d=b.extend,g=b.each,G=b.isArray,P=b.proxy,J=b.noop,O=Math,H,Y=k.JSON||{},r={},K=/%/,Q=/\{(\d+)(:[^\}]+)?\}/g,ha=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,N=/^(\+|-?)\d+(\.?)\d*$/,Z={},ca={},Ba=[].slice;a.version="2016.1.412".replace(/^\s+|\s+$/g,"");B.extend=function(a){var c=function(){},b,g=this,e=a&&a.init?a.init:function(){g.apply(this,arguments)},r;c.prototype=g.prototype;r=e.fn=e.prototype=new c;for(b in a)r[b]=null!=a[b]&&a[b].constructor===Object?d(!0,{},c.prototype[b],a[b]):a[b];r.constructor=e;e.extend=g.extend;return e};B.prototype._initOptions=function(a){this.options=C({},this.options,a)};var na=a.isFunction=function(a){return"function"===typeof a},Fa=function(){this._defaultPrevented=!0},qa=function(){return!0===this._defaultPrevented},R=B.extend({init:function(){this._events={}},bind:function(a,d,c){var b=this,g,e="string"===typeof a?[a]:a,r,w,L,f="function"===typeof d,H;if(d===q){for(g in a)b.bind(g,a[g]);return b}g=0;for(r=e.length;g<r;g++)if(a=e[g],L=f?d:d[a])c&&(w=L,L=function(){b.unbind(a,L);w.apply(b,arguments)},L.original=w),H=b._events[a]=b._events[a]||[],H.push(L);return b},one:function(a,d){return this.bind(a,d,!0)},first:function(a,d){var c,b="string"===typeof a?[a]:a,g,e,r="function"===typeof d,w;c=0;for(g=b.length;c<g;c++)if(a=b[c],e=r?d:d[a])w=this._events[a]=this._events[a]||[],w.unshift(e);return this},trigger:function(a,d){var c=this._events[a],b,g;if(c){d=d||{};d.sender=this;d._defaultPrevented=!1;d.preventDefault=Fa;d.isDefaultPrevented=qa;c=c.slice();b=0;for(g=c.length;b<g;b++)c[b].call(this,d);return!0===d._defaultPrevented}return!1},unbind:function(a,d){var c=this._events[a],b;if(a===q)this._events={};else if(c)if(d)for(b=c.length-1;0<=b;b--)c[b]!==d&&c[b].original!==d||c.splice(b,1);else this._events[a]=[];return this}}),ga=/^\w+/,oa=/\$\{([^}]*)\}/g,ra=/\\\}/g,Ha=/__CURLY__/g,xa=/\\#/g,Ca=/__SHARP__/g,Aa=["","0","00","000","0000"];H={paramName:"data",useWithBlock:!0,render:function(a,d){var c,b,g="";c=0;for(b=d.length;c<b;c++)g+=a(d[c]);return g},compile:function(c,b){var g=d({},this,b),e=g.paramName,r=e.match(ga)[0],g=g.useWithBlock,w="var $kendoOutput, $kendoHtmlEncode \x3d kendo.htmlEncode;",f,H;if(na(c))return c;w=w+(g?"with("+e+"){":"")+"$kendoOutput\x3d";e=c.replace(ra,"__CURLY__").replace(oa,"#\x3d$kendoHtmlEncode($1)#").replace(Ha,"}").replace(xa,"__SHARP__").split("#");for(H=0;H<e.length;H++){var L;L=e[H];if(0===H%2)L="'"+L.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";else{var l=L.charAt(0),h=L.substring(1);L="\x3d"===l?"+("+h+")+":":"===l?"+$kendoHtmlEncode("+h+")+":";"+L+";$kendoOutput+\x3d"}w+=L}w=w+(g?";}":";")+"return $kendoOutput;";w=w.replace(Ca,"#");try{return f=new Function(r,w),f._slotCount=Math.floor(e.length/2),f}catch(Ia){throw Error(a.format("Invalid template:'{0}' Generated code:'{1}'",c,w));}}};(function(){function a(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var d=e[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(c,e){var L,f,v,M,H=b,l,h=e[c];h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(c));"function"===typeof r&&(h=r.call(e,c,h));L=typeof h;if("string"===L)return a(h);if("number"===L)return isFinite(h)?String(h):"null";if("boolean"===L||"null"===L)return String(h);if("object"===L){if(!h)return"null";b+=g;l=[];if("[object Array]"===w.apply(h)){M=h.length;for(L=0;L<M;L++)l[L]=d(L,h)||"null";v=0===l.length?"[]":b?"[\n"+b+l.join(",\n"+b)+"\n"+H+"]":"["+l.join(",")+"]";b=H;return v}if(r&&"object"===typeof r)for(M=r.length,L=0;L<M;L++)"string"===typeof r[L]&&(f=r[L],(v=d(f,h))&&l.push(a(f)+(b?": ":":")+v));else for(f in h)Object.hasOwnProperty.call(h,f)&&(v=d(f,h))&&l.push(a(f)+(b?": ":":")+v);v=0===l.length?"{}":b?"{\n"+b+l.join(",\n"+b)+"\n"+H+"}":"{"+l.join(",")+"}";b=H;return v}}var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,g,e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r,w={}.toString;"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?u(this.getUTCFullYear(),4)+"-"+u(this.getUTCMonth()+1)+"-"+u(this.getUTCDate())+"T"+u(this.getUTCHours())+":"+u(this.getUTCMinutes())+":"+u(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});"function"!==typeof Y.stringify&&(Y.stringify=function(a,c,e){var L;g=b="";if("number"===typeof e)for(L=0;L<e;L+=1)g+=" ";else"string"===typeof e&&(g=e);if((r=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return d("",{"":a})})})();(function(){function d(v){if(v){if(v.numberFormat)return v;if("string"===typeof v){var d=a.cultures;return d[v]||d[v.split("-")[0]]||null}}return null}function c(v){v&&(v=d(v));return v||a.cultures.current}function b(a,d,b){b=c(b);var v=b.calendars.standard,M=v.days,g=v.months;d=v.patterns[d]||d;return d.replace(e,function(d){var c,b,e;if("d"===d)b=a.getDate();else if("dd"===d)b=u(a.getDate());else if("ddd"===d)b=M.namesAbbr[a.getDay()];else if("dddd"===d)b=M.names[a.getDay()];else if("M"===d)b=a.getMonth()+1;else if("MM"===d)b=u(a.getMonth()+1);else if("MMM"===d)b=g.namesAbbr[a.getMonth()];else if("MMMM"===d)b=g.names[a.getMonth()];else if("yy"===d)b=u(a.getFullYear()%100);else if("yyyy"===d)b=u(a.getFullYear(),4);else if("h"===d)b=a.getHours()%12||12;else if("hh"===d)b=u(a.getHours()%12||12);else if("H"===d)b=a.getHours();else if("HH"===d)b=u(a.getHours());else if("m"===d)b=a.getMinutes();else if("mm"===d)b=u(a.getMinutes());else if("s"===d)b=a.getSeconds();else if("ss"===d)b=u(a.getSeconds());else if("f"===d)b=O.floor(a.getMilliseconds()/100);else if("ff"===d)b=a.getMilliseconds(),99<b&&(b=O.floor(b/10)),b=u(b);else if("fff"===d)b=u(a.getMilliseconds(),3);else if("tt"===d)b=12>a.getHours()?v.AM[0]:v.PM[0];else if("zzz"===d)c=a.getTimezoneOffset(),e=0>c,b=O.abs(c/60).toString().split(".")[0],c=O.abs(c)-60*b,b=(e?"+":"-")+u(b),b+=":"+u(c);else if("zz"===d||"z"===d)b=a.getTimezoneOffset()/60,e=0>b,b=O.abs(b).toString().split(".")[0],b=(e?"+":"-")+("zz"===d?u(b):b);return b!==q?b:d.slice(1,d.length-1)})}function g(a,d,b){b=c(b);var v=b.numberFormat,M=v["."],g=v.decimals,e=v.pattern[0],L=[],da,h,G,n,p=0>a,K,D;D=G="";var J,m,Q,X,O;O=-1;var aa;if(a===q)return"";if(!isFinite(a))return a;if(!d)return b.name.length?a.toLocaleString():a.toString();if(n=r.exec(d)){d=n[1].toLowerCase();h="c"===d;b="p"===d;if(h||b)v=h?v.currency:v.percent,M=v["."],g=v.decimals,da=v.symbol,e=v.pattern[p?0:1];(G=n[2])&&(g=+G);if("e"===d)return G?a.toExponential(g):a.toExponential();b&&(a*=100);a=l(a,g);p=0>a;a=a.split(".");K=a[0];g=a[1];p&&(K=K.substring(1));D=H(K,0,K.length,v);g&&(D+=M+g);if("n"===d&&!p)return D;a="";n=0;for(J=e.length;n<J;n++)p=e.charAt(n),a="n"===p?a+D:"$"===p||"%"===p?a+da:a+p;return a}p&&(a=-a);if(-1<d.indexOf("'")||-1<d.indexOf('"')||-1<d.indexOf("\\"))d=d.replace(w,function(a){var v=a.charAt(0).replace("\\","");a=a.slice(1).replace(v,"");L.push(a);return"??"});d=d.split(";");if(p&&d[1])d=d[1],m=!0;else if(0===a){if(d=d[2]||d[0],-1==d.indexOf("#")&&-1==d.indexOf("0"))return d}else d=d[0];b=d.indexOf("%");g=d.indexOf("$");b=-1!=b;h=-1!=g;b&&(a*=100);h&&"\\"===d[g-1]&&(d=d.split("\\").join(""),h=!1);if(h||b)v=h?v.currency:v.percent,M=v["."],g=v.decimals,da=v.symbol;(e=-1<d.indexOf(","))&&(d=d.replace(f,""));Q=d.indexOf(".");J=d.length;-1!=Q?(g=a.toString().split("e"),g=g[1]?l(a,Math.abs(g[1])):g[0],g=g.split(".")[1]||"",X=d.lastIndexOf("0")-Q,D=d.lastIndexOf("#")-Q,O=-1<X,K=-1<D,n=g.length,O||K||(d=d.substring(0,Q)+d.substring(Q+1),J=d.length,Q=-1,n=0),O&&X>D?n=X:D>X&&(K&&n>D?n=D:O&&n<X&&(n=X)),-1<n&&(a=l(a,n))):a=l(a);D=d.indexOf("#");X=d.indexOf("0");O=-1==D&&-1!=X?X:-1!=D&&-1==X?D:D>X?X:D;D=d.lastIndexOf("#");X=d.lastIndexOf("0");aa=-1==D&&-1!=X?X:-1!=D&&-1==X?D:D>X?D:X;O==J&&(aa=O);if(-1!=O){D=a.toString().split(".");K=D[0];g=D[1]||"";D=K.length;p&&0<=-1*a&&(p=!1);a=d.substring(0,O);p&&!m&&(a+="-");for(n=O;n<J;n++){p=d.charAt(n);if(-1==Q){if(aa-n<D){a+=K;break}}else if(-1!=X&&X<n&&(G=""),Q-n<=D&&-1<Q-n&&(a+=K,n=Q),Q===n){a+=(g?M:"")+g;n+=aa-Q+1;continue}"0"===p?(a+=p,G=p):"#"===p&&(a+=G)}e&&(a=H(a,O,aa,v));aa>=O&&(a+=d.substring(aa+1));if(h||b){D="";n=0;for(J=a.length;n<J;n++)p=a.charAt(n),D+="$"===p||"%"===p?da:p;a=D}if(J=L.length)for(n=0;n<J;n++)a=a.replace("??",L[n])}return a}var e=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,r=/^(n|c|p|e)(\d*)$/i,w=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,f=/\,/g,L={}.toString;a.cultures["en-US"]={name:"en-US",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};a.culture=function(v){var c=a.cultures;if(v!==q)v=d(v)||c["en-US"],v.calendar=v.calendars.standard,c.current=v;else return c.current};a.findCulture=d;a.getCulture=c;a.culture("en-US");var H=function(a,d,c,b){var v=a.indexOf(b["."]),g=b.groupSize.slice(),M=g.shift(),e,L,r;c=-1!==v?v:c+1;v=a.substring(d,c);e=v.length;if(e>=M){for(L=[];-1<e;)if((r=v.substring(e-M,e))&&L.push(r),e-=M,r=g.shift(),M=r!==q?r:M,0===M){L.push(v.substring(0,e));break}v=L.reverse().join(b[","]);a=a.substring(0,d)+v+a.substring(c)}return a},l=function(a,d){d=d||0;a=a.toString().split("e");a=Math.round(+(a[0]+"e"+(a[1]?+a[1]+d:d)));a=a.toString().split("e");a=+(a[0]+"e"+(a[1]?+a[1]-d:-d));return a.toFixed(d)},h=function(a,d,c){if(d){if("[object Date]"===L.call(a))return b(a,d,c);if("number"===typeof a)return g(a,d,c)}return a!==q?a:""};a.format=function(a){var v=arguments;return a.replace(Q,function(a,d,c){a=v[parseInt(d,10)+1];return h(a,c?c.substring(1):"")})};a._extractFormat=function(a){"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1));return a};a._activeElement=function(){try{return document.activeElement}catch(v){return document.documentElement.activeElement}};a._round=l;a.toString=h})();(function(){function d(a){return a.charAt(0)}function c(a,v){v||23!==a.getHours()||a.setHours(a.getHours()+2)}function g(a){var v={},d;for(d in a){for(var c=d,b=a[d],g=0,M=b.length,e=[];g<M;g++)e[g]=(b[g]+"").toLowerCase();v[c]=e}return v}function e(v,e,L){if(!v)return null;var M=function(a){for(var v=0;e[Q]===a;)v++,Q++;0<v&&--Q;return v},r=function(a){var d=n[a]||new RegExp("^\\d{1,"+a+"}");return(a=v.substr(m,a).match(d))?(a=a[0],m+=a.length,parseInt(a,10)):null},w=function(a,d){for(var c=0,b=a.length,g,M,e=0,L=0,r;c<b;c++)g=a[c],M=g.length,r=v.substr(m,M),d&&(r=r.toLowerCase()),r==g&&M>e&&(e=M,L=c);return e?(m+=e,L+1):null},l=function(){var a=!1;v.charAt(m)===e[Q]&&(m++,a=!0);return a};L=L.calendars.standard;var h=null,da=null,G=null,p=null,K=null,D=null,J=null,Q=0,m=0,X=!1,Qa=new Date,O=L.twoDigitYearMax||2029,aa=Qa.getFullYear(),t,ha,Y,N,P,k,x;e||(e="d");(ha=L.patterns[e])&&(e=ha);e=e.split("");for(ha=e.length;Q<ha;Q++)if(t=e[Q],X)"'"===t?X=!1:l();else if("d"===t){if(t=M("d"),L._lowerDays||(L._lowerDays=g(L.days)),!(null!==G&&2<t||(G=3>t?r(2):w(L._lowerDays[3==t?"namesAbbr":"names"],!0),null!==G&&1<=G&&31>=G)))return null}else if("M"===t){t=M("M");L._lowerMonths||(L._lowerMonths=g(L.months));da=3>t?r(2):w(L._lowerMonths[3==t?"namesAbbr":"names"],!0);if(null===da||!(1<=da&&12>=da))return null;--da}else if("y"===t){t=M("y");h=r(t);if(null===h)return null;2==t&&("string"===typeof O&&(O=aa+parseInt(O,10)),h=aa-aa%100+h,h>O&&(h-=100))}else if("h"===t){if(M("h"),p=r(2),12==p&&(p=0),null===p||!(0<=p&&11>=p))return null}else if("H"===t){if(M("H"),p=r(2),null===p||!(0<=p&&23>=p))return null}else if("m"===t){if(M("m"),K=r(2),null===K||!(0<=K&&59>=K))return null}else if("s"===t){if(M("s"),D=r(2),null===D||!(0<=D&&59>=D))return null}else if("f"===t){if(t=M("f"),k=v.substr(m,t).match(n[3]),J=r(t),null!==J&&(J=parseFloat("0."+k[0],10),J=a._round(J,3),J*=1E3),null===J||!(0<=J&&999>=J))return null}else if("t"===t){if(t=M("t"),k=L.AM,Y=L.PM,1===t&&(k=b.map(k,d),Y=b.map(Y,d)),Y=w(Y),!Y&&!w(k))return null}else if("z"===t)if(N=!0,t=M("z"),"Z"===v.substr(m,1))l();else{P=v.substr(m,6).match(2<t?H:f);if(!P)return null;P=P[0].split(":");x=P[0];P=P[1];!P&&3<x.length&&(m=x.length-2,P=x.substring(m),x=x.substring(0,m));x=parseInt(x,10);if(!(-12<=x&&13>=x)||2<t&&(P=parseInt(P,10),isNaN(P)||!(0<=P&&59>=P)))return null}else if("'"===t)X=!0,l();else if(!l())return null;null!==h||null!==da||null!==G||null===p&&null===K&&!D?(null===h&&(h=aa),null===G&&(G=1)):(h=aa,da=Qa.getMonth(),G=Qa.getDate());Y&&12>p&&(p+=12);N?(x&&(p+=-x),P&&(K+=-P),v=new Date(Date.UTC(h,da,G,p,K,D,J))):(v=new Date(h,da,G,p,K,D,J),c(v,p));100>h&&v.setFullYear(h);return v.getDate()!==G&&N===q?null:v}var r=/\u00A0/g,w=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,H=/[+|\-]\d{1,2}:?\d{2}/,L=/^\/Date\((.*?)\)\/$/,l=/[+-]\d*/,h="GgdFDymTt".split(""),n={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},v={}.toString;a.parseDate=function(d,c,b){if("[object Date]"===v.call(d))return d;var g=0,M=null,r,w;if(d&&0===d.indexOf("/D")&&(M=L.exec(d)))return M=M[1],d=l.exec(M.substring(1)),M=new Date(parseInt(M,10)),d&&(d=d[0],c="-"===d.substr(0,1)?-1:1,d=d.substring(1),d=60*parseInt(d.substr(0,2),10)+parseInt(d.substring(2),10),d*=c,M=a.timezone.apply(M,0),M=a.timezone.convert(M,0,-1*d)),M;b=a.getCulture(b);if(!c){c=[];w=b.calendar.patterns;for(r=h.length;g<r;g++)c[g]=w[h[g]];g=0;c="yyyy/MM/dd HH:mm:ss;yyyy/MM/dd HH:mm;yyyy/MM/dd;ddd MMM dd yyyy HH:mm:ss;yyyy-MM-ddTHH:mm:ss.fffffffzzz;yyyy-MM-ddTHH:mm:ss.fffzzz;yyyy-MM-ddTHH:mm:sszzz;yyyy-MM-ddTHH:mm:ss.fffffff;yyyy-MM-ddTHH:mm:ss.fff;yyyy-MM-ddTHH:mmzzz;yyyy-MM-ddTHH:mmzz;yyyy-MM-ddTHH:mm:ss;yyyy-MM-ddTHH:mm;yyyy-MM-dd HH:mm:ss;yyyy-MM-dd HH:mm;yyyy-MM-dd;HH:mm:ss;HH:mm".split(";").concat(c)}c=G(c)?c:[c];for(r=c.length;g<r&&!(M=e(d,c[g],b));g++);return M};a.parseInt=function(v,d){var c=a.parseFloat(v,d);c&&(c|=0);return c};a.parseFloat=function(v,d,c){if(!v&&0!==v)return null;if("number"===typeof v)return v;v=v.toString();d=a.getCulture(d);d=d.numberFormat;var b=d.percent,g=d.currency,e=g.symbol,M=b.symbol,L=v.indexOf("-"),f;if(w.test(v))return v=parseFloat(v.replace(d["."],".")),isNaN(v)&&(v=null),v;if(0<L)return null;L=-1<L;-1<v.indexOf(e)||c&&-1<c.toLowerCase().indexOf("c")?(d=g,c=d.pattern[0].replace("$",e).split("n"),-1<v.indexOf(c[0])&&-1<v.indexOf(c[1])&&(v=v.replace(c[0],"").replace(c[1],""),L=!0)):-1<v.indexOf(M)&&(f=!0,d=b,e=M);v=v.replace("-","").replace(e,"").replace(r," ").split(d[","].replace(r," ")).join("").replace(d["."],".");v=parseFloat(v);isNaN(v)?v=null:L&&(v*=-1);v&&f&&(v/=100);return v}})();(function(){r._scrollbar=q;r.scrollbar=function(a){if(isNaN(r._scrollbar)||a){a=document.createElement("div");var d;a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";a.innerHTML="\x26nbsp;";document.body.appendChild(a);r._scrollbar=d=a.offsetWidth-a.scrollWidth;document.body.removeChild(a);return d}return r._scrollbar};r.isRtl=function(a){return 0<b(a).closest(".k-rtl").length};var a=document.createElement("table");try{a.innerHTML="\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e",r.tbodyInnerHtml=!0}catch(W){r.tbodyInnerHtml=!1}r.touch="ontouchstart"in k;r.msPointers=k.MSPointerEvent;r.pointers=k.PointerEvent;var d=r.transitions=!1,c=r.transforms=!1,e="HTMLElement"in k?HTMLElement.prototype:[];r.hasHW3D="WebKitCSSMatrix"in k&&"m11"in new k.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style;g(["Moz","webkit","O","ms"],function(){var b=this.toString(),g="string"===typeof a.style[b+"Transition"];if(g||"string"===typeof a.style[b+"Transform"]){var e=b.toLowerCase();c={css:"ms"!=e?"-"+e+"-":"",prefix:b,event:"o"===e||"webkit"===e?e:""};g&&(d=c,d.event=d.event?d.event+"TransitionEnd":"transitionend");return!1}});a=null;r.transforms=c;r.transitions=d;r.devicePixelRatio=k.devicePixelRatio===q?1:k.devicePixelRatio;try{r.screenWidth=k.outerWidth||k.screen?k.screen.availWidth:k.innerWidth,r.screenHeight=k.outerHeight||k.screen?k.screen.availHeight:k.innerHeight}catch(W){r.screenWidth=k.screen.availWidth,r.screenHeight=k.screen.availHeight}r.detectOS=function(a){var d=!1,c,b=!/mobile safari/i.test(a),g={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},e={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},v={tablet:/playbook|ipad|fire/i},M={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},w;for(w in g)if(g.hasOwnProperty(w)&&(c=a.match(g[w]))){if("windows"==w&&"plugins"in navigator)return!1;d={};d.device=w;d.tablet=F(w,v,!1);d.browser=F(a,M,"default");d.name=F(w,e);d[d.name]=!0;d.majorVersion=c[2];d.minorVersion=c[3].replace("_",".");a=d.minorVersion.replace(".","").substr(0,2);d.flatVersion=d.majorVersion+a+Array(3-(3>a.length?a.length:2)).join("0");d.cordova="undefined"!==typeof k.PhoneGap||"undefined"!==typeof k.cordova;d.appMode=k.navigator.standalone||/file|local|wmapp/.test(k.location.protocol)||d.cordova;d.android&&(1.5>r.devicePixelRatio&&400>d.flatVersion||b)&&(800<r.screenWidth||800<r.screenHeight)&&(d.tablet=w);break}return d};var w=r.mobileOS=r.detectOS(navigator.userAgent);r.wpDevicePixelRatio=w.wp?screen.width/320:0;r.kineticScrollNeeded=w&&(r.touch||r.msPointers||r.pointers);r.hasNativeScrolling=!1;if(w.ios||w.android&&2<w.majorVersion||w.wp)r.hasNativeScrolling=w;r.delayedClick=function(){if(r.touch){if(w.ios)return!0;if(w.android)return r.browser.chrome?32>r.browser.version?!1:!(b("meta[name\x3dviewport]").attr("content")||"").match(/user-scalable=no/i):!0}return!1};r.mouseAndTouchPresent=r.touch&&!(r.mobileOS.ios||r.mobileOS.android);r.detectBrowser=function(a){var d=!1,c,b={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},g;for(g in b)if(b.hasOwnProperty(g)&&(c=a.match(b[g]))){d={};d[g]=!0;d[c[1].toLowerCase().split(" ")[0].split("/")[0]]=!0;d.version=parseInt(document.documentMode||c[2],10);break}return d};r.browser=r.detectBrowser(navigator.userAgent);r.detectClipboardAccess=function(){var a={copy:document.queryCommandSupported?document.queryCommandSupported("copy"):!1,cut:document.queryCommandSupported?document.queryCommandSupported("cut"):!1,paste:document.queryCommandSupported?document.queryCommandSupported("paste"):!1};r.browser.chrome&&43<=r.browser.version&&(a.copy=!0,a.cut=!0);return a};r.clipboard=r.detectClipboardAccess();r.zoomLevel=function(){try{var a=r.browser,d=0,c=document.documentElement;a.msie&&11==a.version&&c.scrollHeight>c.clientHeight&&!r.touch&&(d=r.scrollbar());return r.touch?c.clientWidth/k.innerWidth:a.msie&&10<=a.version?((top||k).document.documentElement.offsetWidth+d)/(top||k).innerWidth:1}catch(X){return 1}};r.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(r.browser.msie&&8>r.browser.version);(function(a){var d="",c=b(document.documentElement),g=parseInt(a.version,10);a.msie?d="ie":a.mozilla?d="ff":a.safari?d="safari":a.webkit?d="webkit":a.opera?d="opera":a.edge&&(d="edge");d&&(d="k-"+d+" k-"+d+g);r.mobileOS&&(d+=" k-mobile");c.addClass(d)})(r.browser);r.eventCapture=document.documentElement.addEventListener;var f=document.createElement("input");r.placeholder="placeholder"in f;r.propertyChangeEvent="onpropertychange"in f;r.input=function(){for(var a="number date time month week datetime datetime-local".split(" "),d=a.length,c={},b=0,g;b<d;b++)g=a[b],f.setAttribute("type",g),f.value="test",c[g.replace("-","")]="text"!==f.type&&"test"!==f.value;return c}();f.style.cssText="float:left;";r.cssFloat=!!f.style.cssFloat;f=null;r.stableSort=function(){for(var a=[{index:0,field:"b"}],d=1;513>d;d++)a.push({index:d,field:"a"});a.sort(function(a,d){return a.field>d.field?1:a.field<d.field?-1:0});return 1===a[0].index}();r.matchesSelector=e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.matchesSelector||e.matches||function(a){a=document.querySelectorAll?(this.parentNode||document).querySelectorAll(a)||[]:b(a);for(var d=a.length;d--;)if(a[d]==this)return!0;return!1};r.pushState=k.history&&k.history.pushState;e=document.documentMode;r.hashChange="onhashchange"in k&&!(r.browser.msie&&(!e||8>=e));r.customElements="registerElement"in k.document})();var ba={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},va={};b.extend(va,{enabled:!0,Element:function(a){this.element=b(a)},promise:function(a,d){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display");d.hide&&a.data("olddisplay",a.css("display")).hide();d.init&&d.init();d.completeCallback&&d.completeCallback(a);a.dequeue()},disable:function(){this.enabled=!1;this.promise=this.promiseShim},enable:function(){this.enabled=!0;this.promise=this.animatedPromise}});va.promiseShim=va.promise;"kendoAnimate"in b.fn||d(b.fn,{kendoStop:function(a,d){return this.stop(a,d)},kendoAnimate:function(a,d,c,b){return h(this,a,d,c,b)},kendoAddClass:function(d,c){return a.toggleClass(this,d,c,!0)},kendoRemoveClass:function(d,c){return a.toggleClass(this,d,c,!1)},kendoToggleClass:function(d,c,b){return a.toggleClass(this,d,c,b)}});var ja=/&/g,Ja=/</g,Ka=/"/g,ya=/'/g,Na=/>/g,I=function(a){return a.target};r.touch&&(I=function(a){var d="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return d?document.elementFromPoint(d[0].clientX,d[0].clientY):a.target},g("swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap".split(" "),function(a,d){b.fn[d]=function(a){return this.bind(d,a)}}));r.touch?r.mobileOS?(r.mousedown="touchstart",r.mouseup="touchend",r.mousemove="touchmove",r.mousecancel="touchcancel",r.click="touchend",r.resize="orientationchange"):(r.mousedown="mousedown touchstart",r.mouseup="mouseup touchend",r.mousemove="mousemove touchmove",r.mousecancel="mouseleave touchcancel",r.click="click",r.resize="resize"):r.pointers?(r.mousemove="pointermove",r.mousedown="pointerdown",r.mouseup="pointerup",r.mousecancel="pointercancel",r.click="pointerup",r.resize="orientationchange resize"):r.msPointers?(r.mousemove="MSPointerMove",r.mousedown="MSPointerDown",r.mouseup="MSPointerUp",r.mousecancel="MSPointerCancel",r.click="MSPointerUp",r.resize="orientationchange resize"):(r.mousemove="mousemove",r.mousedown="mousedown",r.mouseup="mouseup",r.mousecancel="mouseleave",r.click="click",r.resize="resize");var pa=/^([a-z]+:)?\/\//i;d(a,{widgets:[],_widgetRegisteredCallbacks:[],ui:a.ui||{},fx:a.fx||m,effects:a.effects||va,mobile:a.mobile||{},data:a.data||{},dataviz:a.dataviz||{},drawing:a.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:a.support||r,animate:a.animate||h,ns:"",attr:function(d){return"data-"+a.ns+d},getShadows:z,wrap:function(a,d){var c=r.browser,g,e="rtl"==a.css("direction");if(a.parent().hasClass("k-animation-container"))e=a.parent(".k-animation-container"),g=e[0].style,e.is(":hidden")&&e.show(),(g=K.test(g.width)||K.test(g.height))||e.css({width:a.outerWidth(),height:a.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});else{var w=z(a),f=a[0].style.width,H=a[0].style.height,L=K.test(f),l=K.test(H);c.opera&&(w.left=w.right=w.bottom=5);g=L||l;!L&&(!d||d&&f)&&(f=a.outerWidth());!l&&(!d||d&&H)&&(H=a.outerHeight());a.wrap(b("\x3cdiv/\x3e").addClass("k-animation-container").css({width:f,height:H,marginLeft:w.left*(e?1:-1),paddingLeft:w.left,paddingRight:w.right,paddingBottom:w.bottom}));g&&a.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}c.msie&&7>=O.floor(c.version)&&(a.css({zoom:1}),a.children(".k-menu").width(a.width()));return a.parent()},deepExtend:C,getComputedStyles:E,webComponents:a.webComponents||[],isScrollable:function(a){if(a&&a.className&&"string"===typeof a.className&&-1<a.className.indexOf("k-auto-scrollable"))return!0;a=E(a,["overflow"]).overflow;return"auto"==a||"scroll"==a},scrollLeft:function(a,d){var c=r.browser.webkit,g=r.browser.mozilla,e=a instanceof b?a[0]:a,w;if(a)if(w=r.isRtl(a),d!==q)e.scrollLeft=w&&c?e.scrollWidth-e.clientWidth-d:w&&g?-d:d;else return w&&c?e.scrollWidth-e.clientWidth-e.scrollLeft:Math.abs(e.scrollLeft)},size:function(a){var d=0,c;for(c in a)a.hasOwnProperty(c)&&"toJSON"!=c&&d++;return d},toCamelCase:A,toHyphens:function(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})},getOffset:a.getOffset||x,parseEffects:a.parseEffects||t,toggleClass:a.toggleClass||p,directions:a.directions||ba,Observable:R,Class:B,Template:H,template:P(H.compile,H),render:P(H.render,H),stringify:P(Y.stringify,Y),eventTarget:I,htmlEncode:function(a){return(""+a).replace(ja,"\x26amp;").replace(Ja,"\x26lt;").replace(Na,"\x26gt;").replace(Ka,"\x26quot;").replace(ya,"\x26#39;")},isLocalUrl:function(a){return a&&!pa.test(a)},expr:function(a,d,c){a=a||"";"string"==typeof d&&(c=d,d=!1);c=c||"d";a&&"["!==a.charAt(0)&&(a="."+a);if(d){a=a.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');a=a.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");a=a.split(".");c=c||"d";var b,g,e,r=1;b=0;for(g=a.length;b<g;b++)e=a[b],""!==e&&(d=e.indexOf("["),0!==d&&(-1==d?e="."+e:(r++,e="."+e.substring(0,d)+" || {})"+e.substring(d))),r++,c+=e+(b<g-1?" || {})":")"));a=Array(r).join("(")+c;a=a.replace(/_\$DOT\$_/g,".")}else a=c+a;return a},getter:function(d,c){var b=d+c;return Z[b]=Z[b]||new Function("d","return "+a.expr(d,c))},setter:function(d){return ca[d]=ca[d]||new Function("d,value",a.expr(d)+"\x3dvalue")},accessor:function(d){return{get:a.getter(d),set:a.setter(d)}},guid:function(){var a="",d,c;for(d=0;32>d;d++){c=16*O.random()|0;if(8==d||12==d||16==d||20==d)a+="-";a+=(12==d?4:16==d?c&3|8:c).toString(16)}return a},roleSelector:function(d){return d.replace(/(\S+)/g,"["+a.attr("role")+"\x3d$1],").slice(0,-1)},directiveSelector:function(a){if(a=a.split(" "))for(var d=0;d<a.length;d++)"view"!=a[d]&&(a[d]=a[d].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return a.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},onWidgetRegistered:function(d){for(var c=0,b=a.widgets.length;c<b;c++)d(a.widgets[c]);a._widgetRegisteredCallbacks.push(d)},logToConsole:function(d,c){var b=k.console;if(!a.suppressLog&&"undefined"!=typeof b&&b.log)b[c||"log"](d)}});var za=R.extend({init:function(c,b){this.element=a.jQuery(c).handler(this);this.angular("init",b);R.fn.init.call(this);var g=b?b.dataSource:null;g&&(b=d({},b,{dataSource:{}}));b=this.options=d(!0,{},this.options,b);g&&(b.dataSource=g);this.element.attr(a.attr("role"))||this.element.attr(a.attr("role"),(b.name||"").toLowerCase());this.element.data("kendo"+b.prefix+b.name,this);this.bind(this.events,b)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(a){a=a||this.wrapper;var d=this.element,c=a.attr("tabindex")||d.attr("tabindex");d.removeAttr("tabindex");a.attr("tabindex",isNaN(c)?0:c)},setOptions:function(a){this._setEvents(a);b.extend(this.options,a)},_setEvents:function(a){for(var d=0,c=this.events.length,b;d<c;d++)b=this.events[d],this.options[b]&&a[b]&&this.unbind(b,this.options[b]);this.bind(this.events,a)},resize:function(a){var d=this.getSize(),c=this._size;if(a||(0<d.width||0<d.height)&&(!c||d.width!==c.width||d.height!==c.height))this._size=d,this._resize(d,a),this.trigger("resize",d)},getSize:function(){return a.dimensions(this.element)},size:function(a){if(a)this.setSize(a);else return this.getSize()},setSize:b.noop,_resize:b.noop,destroy:function(){this.element.removeData("kendo"+this.options.prefix+this.options.name);this.element.removeData("handler");this.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(a){this._muteRebind=!0;a.call(this);this._muteRebind=!1}}),P=za.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(a){var d=this;d.angular(a,function(){return{elements:d.items(),data:b.map(d.dataItems(),function(a){return{dataItem:a}})}})}});a.dimensions=function(a,d){var c=a[0];d&&a.css(d);return{width:c.offsetWidth,height:c.offsetHeight}};a.notify=J;var Ma=/template$/i,wa=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,la=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,ia=/([A-Z])/g;a.initWidget=function(d,c,g){var e,r,w,f,H;g?g.roles&&(g=g.roles):g=a.ui.roles;d=d.nodeType?d:d[0];if(w=d.getAttribute("data-"+a.ns+"role")){g=(f=-1===w.indexOf("."))?g[w]:a.getter(w)(k);H=b(d).data();var L=g?"kendo"+g.fn.options.prefix+g.fn.options.name:"";w=f?new RegExp("^kendo.*"+w+"$","i"):new RegExp("^"+L+"$","i");for(r in H)if(r.match(w))if(r===L)e=H[r];else return H[r];if(g){r=n(d,"dataSource");c=b.extend({},D(d,g.fn.options),c);r&&(c.dataSource="string"===typeof r?a.getter(r)(k):r);w=0;for(f=g.fn.events.length;w<f;w++)r=g.fn.events[w],H=n(d,r),H!==q&&(c[r]=a.getter(H)(k));e?b.isEmptyObject(c)||e.setOptions(c):e=new g(d,c);return e}}};a.rolesFromNamespaces=function(c){var b=[],g,e;c[0]||(c=[a.ui,a.dataviz.ui]);g=0;for(e=c.length;g<e;g++)b[g]=c[g].roles;return d.apply(null,[{}].concat(b.reverse()))};a.init=function(d){var c=a.rolesFromNamespaces(Ba.call(arguments,1));b(d).find("[data-"+a.ns+"role]").addBack().each(function(){a.initWidget(this,{},c)})};a.destroy=function(d){b(d).find("[data-"+a.ns+"role]").addBack().each(function(){var a=b(this).data(),d;for(d in a)0===d.indexOf("kendo")&&"function"===typeof a[d].destroy&&a[d].destroy()})};a.resize=function(d,c){var g=b(d).find("[data-"+a.ns+"role]").addBack().filter(l);g.length&&(g=b.makeArray(g),g.sort(f),b.each(g,function(){var d=a.widgetInstance(b(this));d&&d.resize(c)}))};a.parseOptions=D;d(a.ui,{Widget:za,DataBoundWidget:P,roles:{},progress:function(d,c){var g=d.find(".k-loading-mask"),e=a.support,r=e.browser,w;c?g.length||(g=(w=e.isRtl(d))?"right":"left",e=d.scrollLeft(),r=r.webkit?w?d[0].scrollWidth-d.width()-2*e:0:0,b("\x3cdiv class\x3d'k-loading-mask'\x3e\x3cspan class\x3d'k-loading-text'\x3eLoading...\x3c/span\x3e\x3cdiv class\x3d'k-loading-image'/\x3e\x3cdiv class\x3d'k-loading-color'/\x3e\x3c/div\x3e").width("100%").height("100%").css("top",d.scrollTop()).css(g,Math.abs(e)+r).prependTo(d)):g&&g.remove()},plugin:function(d,c,g){var e=d.fn.options.name;c=c||a.ui;g=g||"";c[e]=d;c.roles[e.toLowerCase()]=d;c="getKendo"+g+e;e="kendo"+g+e;g={name:e,widget:d,prefix:g||""};a.widgets.push(g);for(var r=0,w=a._widgetRegisteredCallbacks.length;r<w;r++)a._widgetRegisteredCallbacks[r](g);b.fn[e]=function(c){var g=this,r;"string"===typeof c?(r=Ba.call(arguments,1),this.each(function(){var d=b.data(this,e),L;if(!d)throw Error(a.format("Cannot call method '{0}' of {1} before it is initialized",c,e));L=d[c];if("function"!==typeof L)throw Error(a.format("Cannot find method '{0}' of {1}",c,e));d=L.apply(d,r);if(d!==q)return g=d,!1})):this.each(function(){return new d(this,c)});return g};b.fn[e].widget=d;b.fn[c]=function(){return this.data(e)}}});var S={bind:function(){return this},nullObject:!0,options:{}};H=za.extend({init:function(a,d){za.fn.init.call(this,a,d);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){za.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var d=this.element.closest(a.roleSelector("view splitview modalview drawer"));return a.widgetInstance(d,a.mobile.ui)||S},viewHasNativeScrolling:function(){var a=this.view();return a&&a.options.useNativeScrolling},container:function(){var d=this.element.closest(a.roleSelector("view layout modalview drawer splitview"));return a.widgetInstance(d.eq(0),a.mobile.ui)||S}});d(a.mobile,{init:function(d){a.init(d,a.mobile.ui,a.ui,a.dataviz.ui)},appLevelNativeScrolling:function(){return a.mobile.application&&a.mobile.application.options&&a.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:H,DataBoundWidget:P.extend(H.prototype),roles:{},plugin:function(d){a.ui.plugin(d,a.mobile.ui,"Mobile")}}});C(a.dataviz,{init:function(d){a.init(d,a.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(d){a.ui.plugin(d,a.dataviz.ui)}},roles:{}});a.touchScroller=function(d,c){c||(c={});c.useNative=!0;return b(d).map(function(d,g){g=b(g);return r.kineticScrollNeeded&&a.mobile.ui.Scroller&&!g.data("kendoMobileScroller")?(g.kendoMobileScroller(c),g.data("kendoMobileScroller")):!1})[0]};a.preventDefault=function(a){a.preventDefault()};a.widgetInstance=function(d,c){var b=d.data(a.ns+"role"),g=[],e,r;if(b){"content"===b&&(b="scroller");if(c)if(c[0])for(e=0,r=c.length;e<r;e++)g.push(c[e].roles[b]);else g.push(c.roles[b]);else g=[a.ui.roles[b],a.dataviz.ui.roles[b],a.mobile.ui.roles[b]];0<=b.indexOf(".")&&(g=[a.getter(b)(k)]);e=0;for(r=g.length;e<r;e++)if(b=g[e])if(b=d.data("kendo"+b.fn.options.prefix+b.fn.options.name))return b}};a.onResize=function(a){var d=a;r.mobileOS.android&&(d=function(){setTimeout(a,600)});b(k).on(r.resize,d);return d};a.unbindResize=function(a){b(k).off(r.resize,a)};a.attrValue=function(d,c){return d.data(a.ns+c)};a.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};b.extend(b.expr[":"],{kendoFocusable:function(a){var d=b.attr(a,"tabindex"),d=!isNaN(d)&&-1<d,g=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||d:d)&&c(a)}});var T="mousedown mousemove mouseenter mouseleave mouseover mouseout mouseup click".split(" "),ea={setupMouseMute:function(){var a=0,d=T.length,c=document.documentElement;if(!ea.mouseTrap&&r.eventCapture){ea.mouseTrap=!0;ea.bustClick=!1;ea.captureMouse=!1;for(var g=function(a){ea.captureMouse&&("click"===a.type?ea.bustClick&&!b(a.target).is("label, input, [data-rel\x3dexternal]")&&(a.preventDefault(),a.stopPropagation()):a.stopPropagation())};a<d;a++)c.addEventListener(T[a],g,!0)}},muteMouse:function(a){ea.captureMouse=!0;a.data.bustClick&&(ea.bustClick=!0);clearTimeout(ea.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(ea.mouseTrapTimeoutID);ea.mouseTrapTimeoutID=setTimeout(function(){ea.captureMouse=!1;ea.bustClick=!1},400)}},U={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};r.touch&&(r.mobileOS.ios||r.mobileOS.android)?U={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:r.pointers?U={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:r.msPointers&&(U={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"});!r.msPointers||"onmspointerenter"in k||b.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(a,d){b.event.special[a]={delegateType:d,bindType:d,handle:function(a){var c,g=a.relatedTarget,e=a.handleObj;if(!g||g!==this&&!b.contains(this,g))a.type=e.origType,c=e.handler.apply(this,arguments),a.type=d;return c}}});var sa=function(a){return U[a]||a},fa=/([^ ]+)/g;a.applyEventMap=function(a,d){a=a.replace(fa,sa);d&&(a=a.replace(fa,"$1."+d));return a};var Da=b.fn.on;d(!0,w,b);w.fn=w.prototype=new b;w.fn.constructor=w;w.fn.init=function(a,d){d&&d instanceof b&&!(d instanceof w)&&(d=w(d));return b.fn.init.call(this,a,d,V)};w.fn.init.prototype=w.fn;var V=w(document);d(w.fn,{handler:function(a){this.data("handler",a);return this},autoApplyNS:function(d){this.data("kendoNS",d||a.guid());return this},on:function(){var d=this.data("kendoNS");if(1===arguments.length)return Da.call(this,arguments[0]);var c=this,b=Ba.call(arguments);"undefined"===typeof b[b.length-1]&&b.pop();var g=b[b.length-1],d=a.applyEventMap(b[0],d);if(r.mouseAndTouchPresent&&-1<d.search(/mouse|click/)&&this[0]!==document.documentElement){ea.setupMouseMute();var e=2===b.length?null:b[1],w=-1<d.indexOf("click")&&-1<d.indexOf("touchend");Da.call(this,{touchstart:ea.muteMouse,touchend:ea.unMuteMouse},e,{bustClick:w})}"string"===typeof g&&(c=this.data("handler"),g=c[g],b[b.length-1]=function(a){g.call(c,a)});b[0]=d;Da.apply(this,b);return this},kendoDestroy:function(a){(a=a||this.data("kendoNS"))&&this.off("."+a);return this}});a.jQuery=w;a.eventMap=U;a.timezone=function(){function d(a,d){var c,b,r;b=d[3];r=d[4];var w=d[5],f=d[8];f||(d[8]=f={});if(f[a])return f[a];isNaN(r)?0===r.indexOf("last")?(c=new Date(Date.UTC(a,g[b]+1,1,w[0]-24,w[1],w[2],0)),b=e[r.substr(4,3)],r=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+b-r-(b>r?7:0))):0<=r.indexOf("\x3e\x3d")&&(c=new Date(Date.UTC(a,g[b],r.substr(5),w[0],w[1],w[2],0)),b=e[r.substr(0,3)],r=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+b-r+(b<r?7:0))):c=new Date(Date.UTC(a,g[b],r,w[0],w[1],w[2],0));return f[a]=c}function c(a,c,b){c=c[b];if(!c)return a=b.split(":"),c=0,1<a.length&&(c=60*a[0]+Number(a[1])),[-1E6,"max","-","Jan",1,[0,0,0],c,"-"];var g=(new Date(a)).getUTCFullYear();c=jQuery.grep(c,function(a){var d=a[0];a=a[1];return d<=g&&(a>=g||d==g&&"only"==a||"max"==a)});c.push(a);c.sort(function(a,c){"number"!=typeof a&&(a=Number(d(g,a)));"number"!=typeof c&&(c=Number(d(g,c)));return a-c});a=c[jQuery.inArray(a,c)-1]||c[c.length-1];return isNaN(a)?a:null}function b(a,d,b,g){"number"!=typeof a&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var e=d[g];"string"===typeof e&&(e=d[e]);if(!e)throw Error('Timezone "'+g+'" is either incorrect, or kendo.timezones.min.js is not included.');for(d=e.length-1;0<=d;d--){var r=e[d][3];if(r&&a>r)break}e=e[d+1];if(!e)throw Error('Timezone "'+g+'" not found on '+a+".");return{zone:e,rule:c(a,b,e[1])}}var g={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},e={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:function(d,c){if("Etc/UTC"==c||"Etc/GMT"==c)return 0;var g=b(d,this.zones,this.rules,c),e=g.zone,g=g.rule;return a.parseFloat(g?e[0]-g[6]:e[0])},convert:function(a,d,c){"string"==typeof d&&(d=this.offset(a,d));"string"==typeof c&&(c=this.offset(a,c));var b=a.getTimezoneOffset();a=new Date(a.getTime()+6E4*(d-c));d=a.getTimezoneOffset();return new Date(a.getTime()+6E4*(d-b))},apply:function(a,d){return this.convert(a,a.getTimezoneOffset(),d)},remove:function(a,d){return this.convert(a,d,a.getTimezoneOffset())},abbr:function(a,d){var c=b(a,this.zones,this.rules,d),g=c.rule,c=c.zone[2];return 0<=c.indexOf("/")?c.split("/")[g&&+g[6]?1:0]:0<=c.indexOf("%s")?c.replace("%s",g&&"-"!=g[7]?g[7]:""):c},toLocalDate:function(a){return this.apply(new Date(a),"Etc/UTC")}}}();a.date=function(){function d(a,d){return 0===d&&23===a.getHours()?(a.setHours(a.getHours()+2),!0):!1}function c(a,c,b){var g=a.getHours();b=b||1;c=(c-a.getDay()+7*b)%7;a.setDate(a.getDate()+c);d(a,g)}function b(a){return new Date(a.getFullYear(),a.getMonth(),1)}function g(a){a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);d(a,0);return a}function e(a){return a.getTime()-g(a)}function r(a,c){var b=a.getHours();a=new Date(a);w(a,864E5*c);d(a,b);return a}function w(a,d,c){var b=a.getTimezoneOffset();a.setTime(a.getTime()+d);c||(d=a.getTimezoneOffset()-b,a.setTime(a.getTime()+6E4*d))}function f(){return g(new Date)}return{adjustDST:d,dayOfWeek:function(a,d,b){a=new Date(a);c(a,d,b);return a},setDayOfWeek:c,getDate:g,isInDateRange:function(a,d,c){d=d.getTime();c=c.getTime();d>=c&&(c+=864E5);a=a.getTime();return a>=d&&a<=c},isInTimeRange:function(a,d,c){d=e(d);c=e(c);if(!a||d==c)return!0;a=e(a);d>a&&(a+=864E5);c<d&&(c+=864E5);return a>=d&&a<=c},isToday:function(a){return g(a).getTime()==f().getTime()},nextDay:function(a){return r(a,1)},previousDay:function(a){return r(a,-1)},toUtcTime:function(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())},MS_PER_DAY:864E5,MS_PER_HOUR:36E5,MS_PER_MINUTE:6E4,setTime:w,setHours:function(c,b){c=new Date(a.date.getDate(c).getTime()+a.date.getMilliseconds(b));d(c,b.getHours());return c},addDays:r,today:f,toInvariantTime:function(a){var d=new Date(1980,1,1,0,0,0);a&&d.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());return d},firstDayOfMonth:b,lastDayOfMonth:function(a){var d=new Date(a.getFullYear(),a.getMonth()+1,0);a=b(a);var c=Math.abs(d.getTimezoneOffset()-a.getTimezoneOffset());c&&d.setHours(a.getHours()+c/60);return d},getMilliseconds:e}}();a.stripWhitespace=function(d){if(document.createNodeIterator)for(var c=document.createNodeIterator(d,NodeFilter.SHOW_TEXT,function(a){return a.parentNode==d?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);c.nextNode();)c.referenceNode&&!c.referenceNode.textContent.trim()&&c.referenceNode.parentNode.removeChild(c.referenceNode);else for(c=0;c<d.childNodes.length;c++){var b=d.childNodes[c];3!=b.nodeType||/\S/.test(b.nodeValue)||(d.removeChild(b),c--);1==b.nodeType&&a.stripWhitespace(b)}};var Oa=k.requestAnimationFrame||k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||k.oRequestAnimationFrame||k.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};a.animationFrame=function(a){Oa.call(k,a)};var ta=[];a.queueAnimation=function(d){ta[ta.length]=d;1===ta.length&&a.runNextAnimation()};a.runNextAnimation=function(){a.animationFrame(function(){ta[0]&&(ta.shift()(),ta[0]&&a.runNextAnimation())})};a.parseQueryStringParams=function(a){var d={};a=(a.split("?")[1]||"").split(/&|=/);for(var c=a.length,b=0;b<c;b+=2)""!==a[b]&&(d[decodeURIComponent(a[b])]=decodeURIComponent(a[b+1]));return d};a.elementUnderCursor=function(a){if("undefined"!=typeof a.x.client)return document.elementFromPoint(a.x.client,a.y.client)};a.wheelDeltaY=function(a){a=a.originalEvent;var d=a.wheelDeltaY,c;if(a.wheelDelta){if(d===q||d)c=a.wheelDelta}else a.detail&&a.axis===a.VERTICAL_AXIS&&(c=10*-a.detail);return c};a.throttle=function(a,d){var c,b=0;if(!d||0>=d)return a;var g=function(){function g(){a.apply(e,w);b=+new Date}var e=this,r=+new Date-b,w=arguments;if(!b)return g();c&&clearTimeout(c);r>d?g():c=setTimeout(g,d-r)};g.cancel=function(){clearTimeout(c)};return g};a.caret=function(a,d,c){var g,e=d!==q;c===q&&(c=d);a[0]&&(a=a[0]);if(!e||!a.disabled){try{if(a.selectionStart!==q)e?(a.focus(),a.setSelectionRange(d,c)):d=[a.selectionStart,a.selectionEnd];else if(document.selection)if(b(a).is(":visible")&&a.focus(),g=a.createTextRange(),e)g.collapse(!0),g.moveStart("character",d),g.moveEnd("character",c-d),g.select();else{var r=g.duplicate(),w;g.moveToBookmark(document.selection.createRange().getBookmark());r.setEndPoint("EndToStart",g);w=r.text.length;d=[w,w+g.text.length]}}catch(Ea){d=[]}return d}};a.compileMobileDirective=function(d,c){var b=k.angular;d.attr("data-"+a.ns+"role",d[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));b.element(d).injector().invoke(["$compile",function(a){a(d)(c);/^\$(digest|apply)$/.test(c.$$phase)||c.$digest()}]);return a.widgetInstance(d,a.mobile.ui)};a.antiForgeryTokens=function(){var a={},d=b("meta[name\x3dcsrf-token],meta[name\x3d_csrf]").attr("content"),c=b("meta[name\x3dcsrf-param],meta[name\x3d_csrf_header]").attr("content");b("input[name^\x3d'__RequestVerificationToken']").each(function(){a[this.name]=this.value});c!==q&&d!==q&&(a[c]=d);return a};a.cycleForm=function(d){function c(d){var c=a.widgetInstance(d);c&&c.focus?c.focus():d.focus()}var b=d.find("input, .k-widget").first(),g=d.find("button, .k-button").last();g.on("keydown",function(d){d.keyCode!=a.keys.TAB||d.shiftKey||(d.preventDefault(),c(b))});b.on("keydown",function(d){d.keyCode==a.keys.TAB&&d.shiftKey&&(d.preventDefault(),c(g))})};(function(){function d(d,c,g,e){g=b("\x3cform\x3e").attr({action:g,method:"POST",target:e});e=a.antiForgeryTokens();e.fileName=c;d=d.split(";base64,");e.contentType=d[0].replace("data:","");e.base64=d[1];for(var r in e)e.hasOwnProperty(r)&&b("\x3cinput\x3e").attr({value:e[r],name:r,type:"hidden"}).appendTo(g);g.appendTo("body").submit().remove()}function c(a,d){var c=a;if("string"==typeof a){for(var b=a.split(";base64,"),c=b[0],b=atob(b[1]),g=new Uint8Array(b.length),e=0;e<b.length;e++)g[e]=b.charCodeAt(e);c=new Blob([g.buffer],{type:c})}navigator.msSaveBlob(c,d)}function g(a,d){k.Blob&&a instanceof Blob&&(a=URL.createObjectURL(a));e.download=d;e.href=a;var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!1,k,0,0,0,0,0,!1,!1,!1,!1,0,null);e.dispatchEvent(c)}var e=document.createElement("a"),r="download"in e&&!a.support.browser.edge;a.saveAs=function(a){var b=d;a.forceProxy||(r?b=g:navigator.msSaveBlob&&(b=c));b(a.dataURI,a.fileName,a.proxyURL,a.proxyTarget)}})();a.proxyModelSetters=function(a){var d={};Object.keys(a||{}).forEach(function(c){Object.defineProperty(d,c,{get:function(){return a[c]},set:function(d){a[c]=d;a.dirty=!0}})});return d}})(jQuery,window);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.angular",["kendo.core"],b)})(function(){(function(b,k,q){function B(a){var d=c;try{return c=function(a){return a()},a()}finally{c=d}}function u(a,g,e,r,w,f){function H(){var c;e.kRebind&&(c=b(b(g)[0].cloneNode(!0)));D=z(a,g,e,r,K).options;if(g.is("select")){var f=g[0].options;0<f.length&&(f=b(f[0]),!/\S/.test(f.text())&&/^\?/.test(f.val())&&f.remove())}f=K.call(g,d=D).data(r);if(e[w]){var H=l(e[w]).assign;if(H)H(a,f);else throw Error(w+" attribute used but expression in it is not assignable: "+e[r]);}a.$emit("kendoWidgetCreated",f);H=E(a,f);e.kRebind&&t(f,a,g,c,e.kRebind,H,e);e.kNgDisabled&&(c=e.kNgDisabled,(H=a.$eval(c))&&f.enable(!H),C(f,a,g,c));e.kNgReadonly&&(c=e.kNgReadonly,(H=a.$eval(c))&&f.readonly(H),y(f,a,g,c));e.kNgModel&&A(f,a,e.kNgModel);p&&F(f,a,g,p,n);f&&x(f,g);return f}if(!(g instanceof jQuery))throw Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.");var h=e.kNgDelay,G=a.$eval(h);f=f||[];var p=f[0],n=f[1],K=b(g)[r];if(!K)return window.console.error("Could not find: "+r),null;f=z(a,g,e,r,K);var D=f.options;if(f.unresolved.length){for(var G=[],J=0,m=f.unresolved.length;J<m;J++){var Q=f.unresolved[J],O=b.Deferred(function(d){var c=a.$watch(Q.path,function(a){a!==q&&(c(),d.resolve())})}).promise();G.push(O)}b.when.apply(null,G).then(H)}else if(h&&!G)f=function(){var d=a.$watch(h,function(a){a!==q&&(d(),g.removeAttr(e.$attr.kNgDelay),h=null,c(H))})},/^\$(digest|apply)$/.test((a.$root||a).$$phase)?f():a.$apply(f);else return H()}function z(a,d,c,e,r){function w(d,c){var b=k.copy(a.$eval(c));b===q?f.push({option:d,path:c}):h[d]=b}e=e.replace(/^kendo/,"");var f=[],H=c.kOptions||c.options,l=a.$eval(H);H&&l===q&&f.push({option:"options",path:H});var h=k.extend({},c.defaultOptions,l),p=r.widget.prototype.options,n=r.widget.prototype.events;b.each(c,function(a,d){if("source"!==a&&"kDataSource"!==a&&"kScopeField"!==a&&"scopeField"!==a){var c="data"+a.charAt(0).toUpperCase()+a.slice(1);if(0===a.indexOf("on")){var b=a.replace(/^on./,function(a){return a.charAt(2).toLowerCase()});-1<n.indexOf(b)&&(h[b]=d)}p.hasOwnProperty(c)?w(c,d):p.hasOwnProperty(a)&&!P[a]?w(a,d):!G[a]&&(c=a.match(/^k(On)?([A-Z].*)/))&&(b=c[2].charAt(0).toLowerCase()+c[2].slice(1),c[1]&&"kOnLabel"!=a?h[b]=d:("kOnLabel"==a&&(b="onLabel"),w(b,d)))}});if(c=c.kDataSource||c.source)h.dataSource=g(a,d,e,c);h.$angular=[a];return{options:h,unresolved:f}}function C(d,c,b,g){kendo.ui.PanelBar&&d instanceof kendo.ui.PanelBar||kendo.ui.Menu&&d instanceof kendo.ui.Menu?a.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+d.options.name):c.$watch(g,function(a,c){a!=c&&d.enable(!a)})}function y(d,c,b,g){"function"!=typeof d.readonly?a.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+d.options.name):c.$watch(g,function(a,c){a!=c&&d.readonly(a)})}function F(a,d,c,b,g){if(a.value){var e,r=!1;e=J.test(c[0].tagName)?function(){var a;a=/checkbox|radio/i.test(c.attr("type"))?c.prop("checked"):c.val();return a}:function(){return a.value()};b.$render=function(){var c=b.$viewValue;c===q&&(c=b.$modelValue);c===q&&(c=null);r=!0;setTimeout(function(){r=!1;if(a){var b=d[a.element.attr("k-ng-model")];b&&(c=b);!1!==a.options.autoBind||a.listView.bound()?a.value(c):c&&a.value(c)}},0)};if(J.test(c[0].tagName))c.on("change",function(){r=!0});var w=function(a){return function(){var c;r||(a&&g&&(c=g.$pristine),b.$setViewValue(e()),a&&(b.$setPristine(),c&&g.$setPristine()),p(d))}};a.first("change",w(!1));kendo.ui.AutoComplete&&a instanceof kendo.ui.AutoComplete||a.first("dataBound",w(!0));w=e();isNaN(b.$viewValue)||w==b.$viewValue||(b.$isEmpty(b.$viewValue)?null!=w&&""!==w&&w!=b.$viewValue&&b.$setViewValue(w):a.value(b.$viewValue));b.$setPristine()}}function A(d,c,g){if("function"!=typeof d.value)a.warn("k-ng-model specified on a widget that does not have the value() method: "+d.options.name);else{var e=b(d.element).parents("form"),r=c[e.attr("name")],w=l(g),f=w.assign,H=!1,h=kendo.ui.MultiSelect&&d instanceof kendo.ui.MultiSelect,G=function(a){return h?a.length:0},n=G(w(c));d.$angular_setLogicValue(w(c));e=function(a,c){a===q&&(a=null);H||a==c&&G(a)==n||(n=G(a),d.$angular_setLogicValue(a))};h?c.$watchCollection(g,e):c.$watch(g,e);d.first("change",function(){H=!0;r&&r.$pristine&&r.$setDirty();p(c,function(){f(c,d.$angular_getLogicValue());n=G(w(c))});H=!1})}}function E(a,d){var c=a.$on("$destroy",function(){c();d&&(kendo.destroy(d.element),d=null)});return c}function x(a,d){function c(){r.disconnect()}function g(){r.observe(b(d)[0],{attributes:!0})}if(window.MutationObserver&&a.wrapper){var e=[].slice.call(b(d)[0].classList),r=new MutationObserver(function(d){c();a&&(d.forEach(function(d){var c=b(a.wrapper)[0];switch(d.attributeName){case "class":var g=[].slice.call(d.target.classList);g.forEach(function(d){0>e.indexOf(d)&&(c.classList.add(d),kendo.ui.ComboBox&&a instanceof kendo.ui.ComboBox&&a.input[0].classList.add(d))});e.forEach(function(d){0>g.indexOf(d)&&(c.classList.remove(d),kendo.ui.ComboBox&&a instanceof kendo.ui.ComboBox&&a.input[0].classList.remove(d))});e=g;break;case "disabled":"function"!=typeof a.enable||a.element.attr("readonly")||a.enable(!b(d.target).attr("disabled"));break;case "readonly":"function"!=typeof a.readonly||a.element.attr("disabled")||a.readonly(!!b(d.target).attr("readonly"))}}),g())});g();a.first("destroy",c)}}function t(a,d,c,g,e,r,w){var f=d.$watch(e,function(e,H){if(!a._muteRebind&&e!==H){f();w._cleanUp&&w._cleanUp();var l=K[a.options.name];l&&l.forEach(function(a){var c=d.$eval(w["k"+a]);c&&g.append(b(c).attr(kendo.toHyphens("k"+a),""))});var l=b(a.wrapper)[0],h=b(a.element)[0];"Upload"===a.options.name&&(c=b(h));var G=c.injector().get("$compile");a._destroy();r&&r();a=null;h&&(l&&l.parentNode.replaceChild(h,l),b(c).replaceWith(g));G(g)(d)}},!0);p(d)}function m(a,d){return function(c,b){return a.call(d,c,b)}}function e(a,d){this[a]=kendo.stringify(d)}function h(a,d){function c(a,d){D.directive(a,["directiveFactory",function(c){return c.create(d,a)}])}var b,g=b=(d?"Mobile":"")+a.fn.options.name,e="kendo"+b.charAt(0)+b.substr(1).toLowerCase();b="kendo"+b;var r=b.replace(/([A-Z])/g,"-$1");-1==H.indexOf(b.replace("kendo",""))&&k.forEach(b===e?[b]:[b,e],function(a){D.directive(a,function(){return{restrict:"E",replace:!0,template:function(a,d){var c=O[g]||"div",b=d.kScopeField||d.scopeField;return"\x3c"+c+" "+r+(b?'\x3d"'+b+'"':"")+"\x3e"+a.html()+"\x3c/"+c+"\x3e"}}})});-1<Y.indexOf(b.replace("kendo",""))||(c(b,b),e!=b&&c(e,b))}function p(a,d){var c=a.$root||a,b=/^\$(digest|apply)$/.test(c.$$phase);d?b?d():c.$apply(d):b||c.$digest()}function n(a,d,c){if(b.isArray(a))return k.forEach(a,function(a){n(a,d,c)});if("string"==typeof a){for(var g=a.split("."),e=kendo;e&&0<g.length;)e=e[g.shift()];if(!e)return r.push([a,d,c]),!1;a=e.prototype}var w=a[d];a[d]=function(){var a=this,d=arguments;return c.apply({self:a,next:function(){return w.apply(a,0<arguments.length?arguments:d)}},d)};return!0}if(k&&k.injector){var D=k.module("kendo.directives",[]),f=k.injector(["ng"]),l=f.get("$parse"),c=f.get("$timeout"),w,a=f.get("$log"),d,g=function(){var a={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN",Menu:"$PLAIN",ContextMenu:"$PLAIN"};return function(d,c,g,e){var r=a[g]||"DataSource",w=d.$eval(e);g="$PLAIN"==r?w:kendo.data[r].create(w);d.$watch(e,function(a){var d;d=c;d=b(d);if((d=kendo.widgetInstance(d,kendo.ui)||kendo.widgetInstance(d,kendo.mobile.ui)||kendo.widgetInstance(d,kendo.dataviz.ui))&&"function"==typeof d.setDataSource&&a!==w){var g="$PLAIN"==r?a:kendo.data[r].create(a);d.setDataSource(g);w=a}});return g}}(),G={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0,kNgDelay:!0},P={name:!0,title:!0,style:!0},J=/^(input|select|textarea)$/i;D.factory("directiveFactory",["$compile",function(a){var d,c=!1;w=a;return{create:function(a,g){return{restrict:"AC",require:["?ngModel","^?form"],scope:!1,controller:["$scope","$attrs","$element",function(a,d){this.template=m(e,d);d._cleanUp=m(function(){this.template=null;d._cleanUp=null},this)}],link:function(e,r,w,f){var H=b(r),l=a.replace(/([A-Z])/g,"-$1");H.attr(l,H.attr("data-"+l));H[0].removeAttribute("data-"+l);u(e,r,w,a,g,f)&&(d&&clearTimeout(d),d=setTimeout(function(){e.$emit("kendoRendered");c||(c=!0,b("form").each(function(){var a=b(this).controller("form");a&&a.$setPristine()}))}))}}}}}]);var O={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"},H="MobileView MobileDrawer MobileLayout MobileSplitView MobilePane MobileModalView".split(" "),Y="MobileApplication MobileView MobileModalView MobileLayout MobileActionSheet MobileDrawer MobileSplitView MobilePane MobileScrollView MobilePopOver".split(" ");k.forEach("MobileNavBar MobileButton MobileBackButton MobileDetailButton MobileTabStrip MobileScrollView MobileScroller".split(" "),function(a){Y.push(a);a="kendo"+a;D.directive(a,function(){return{restrict:"A",link:function(d,c,b){u(d,c,b,a,a)}}})});var r=[];kendo.onWidgetRegistered(function(a){r=b.grep(r,function(a){return!n.apply(null,a)});h(a.widget,"Mobile"==a.prefix)});n(["ui.Widget","mobile.ui.Widget"],"angular",function(a,c){var g=this.self;if("init"==a)!c&&d&&(c=d),d=null,c&&c.$angular&&(g.$angular_scope=c.$angular[0],g.$angular_init(g.element,c));else{var e=g.$angular_scope;e&&B(function(){var d=c(),r=d.elements,f=d.data;if(0<r.length)switch(a){case "cleanup":k.forEach(r,function(a){var d=b(a).data("$$kendoScope");d&&d!==e&&d.$$kendoScope&&(d.$destroy(),a&&b(a).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope"))});break;case "compile":var H=g.element.injector(),l=H?H.get("$compile"):w;k.forEach(r,function(a,c){var g;d.scopeFrom?g=d.scopeFrom:(g=f&&f[c],g!==q?(g=b.extend(e.$new(),g),g.$$kendoScope=!0):g=e);b(a).data("$$kendoScope",g);l(a)(g)});p(e)}})}});n("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});n("ui.Widget","$angular_setLogicValue",function(a){this.self.value(a)});n("ui.Select","$angular_getLogicValue",function(){var a=this.self.dataItem(),d=this.self.options.dataValueField;return a?this.self.options.valuePrimitive?d?a[d]:a:a.toJSON():null});n("ui.Select","$angular_setLogicValue",function(a){var d=this.self,c=d.options,b=c.dataValueField,g=c.text||"";a===q&&(a="");b&&!c.valuePrimitive&&a&&(g=a[c.dataTextField]||"",a=a[b||c.dataTextField]);!1!==d.options.autoBind||d.listView.bound()?d.value(a):!g&&a&&c.valuePrimitive?d.value(a):d._preselect(a,g)});n("ui.MultiSelect","$angular_getLogicValue",function(){var a=this.self.dataItems().slice(0),d=this.self.options.dataValueField;d&&this.self.options.valuePrimitive&&(a=b.map(a,function(a){return a[d]}));return a});n("ui.MultiSelect","$angular_setLogicValue",function(a){null==a&&(a=[]);var d=this.self,c=d.options,g=c.dataValueField,e=a;g&&!c.valuePrimitive&&(a=b.map(a,function(a){return a[g]}));!1!==c.autoBind||c.valuePrimitive||d.listView.bound()?d.value(a):d._preselect(e,a)});n("ui.AutoComplete","$angular_getLogicValue",function(){for(var a=this.self.options,d=this.self.value().split(a.separator),c=a.valuePrimitive,b=this.self.dataSource.data(),g=[],e=0,r=b.length;e<r;e++)for(var w=b[e],f=a.dataTextField?w[a.dataTextField]:w,H=0;H<d.length;H++)if(f===d[H]){c?g.push(f):g.push(w.toJSON());break}return g});n("ui.AutoComplete","$angular_setLogicValue",function(a){null==a&&(a=[]);var d=this.self,c=d.options.dataTextField;c&&!d.options.valuePrimitive&&(a=a.length!==q?b.map(a,function(a){return a[c]}):a[c]);d.value(a)});n("ui.Widget","$angular_init",function(a,d){var c=this.self;if(d&&!b.isArray(d))for(var g=c.$angular_scope,e=c.events.length;0<=--e;){var r=c.events[e],w=d[r];w&&"string"==typeof w&&(d[r]=c.$angular_makeEventHandler(r,g,w))}});n("ui.Widget","$angular_makeEventHandler",function(a,d,c){c=l(c);return function(a){p(d,function(){c(d,{kendoEvent:a})})}});n(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(a,d,c){if("change"!=a)return this.next();c=l(c);return function(a){var b=a.sender,g=b.options,e,r,w={kendoEvent:a},f,H;k.isString(g.selectable)&&(e=-1!==g.selectable.indexOf("cell"),r=-1!==g.selectable.indexOf("multiple"));a=w.selected=this.select();g=w.data=[];f=w.columns=[];for(var l=0;l<a.length;l++)H=b.dataItem(e?a[l].parentNode:a[l]),e?(0>k.element.inArray(H,g)&&g.push(H),H=k.element(a[l]).index(),0>k.element.inArray(H,f)&&f.push(H)):g.push(H);r||(w.dataItem=w.data=g[0],w.angularDataItem=kendo.proxyModelSetters(w.dataItem),w.selected=a[0]);p(d,function(){c(d,w)})}});n("ui.Grid","$angular_init",function(a,d){this.next();if(d.columns){var c=b.extend({},kendo.Template,d.templateSettings);k.forEach(d.columns,function(a){!a.field||a.template||a.format||a.values||a.encoded!==q&&!a.encoded||(a.template="\x3cspan ng-bind\x3d'"+kendo.expr(a.field,"dataItem")+"'\x3e#: "+kendo.expr(a.field,c.paramName)+"#\x3c/span\x3e")})}});n("mobile.ui.ButtonGroup","value",function(a){var d=this.self;null!=a&&(d.select(d.element.children("li.km-button").eq(a)),d.trigger("change"),d.trigger("select",{index:d.selectedIndex}));return d.selectedIndex});n("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")});D.directive("kendoMobileApplication",function(){return{terminal:!0,link:function(a,d,c){u(a,d,c,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:!0,link:{pre:function(a,d,c){c.defaultOptions=a.viewOptions;c._instance=u(a,d,c,"kendoMobileView","kendoMobileView")},post:function(a,d,c){c._instance._layout();c._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:!0,link:{pre:function(a,d,c){c.defaultOptions=a.viewOptions;c._instance=u(a,d,c,"kendoMobileDrawer","kendoMobileDrawer")},post:function(a,d,c){c._instance._layout();c._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:!0,link:{pre:function(a,d,c){c.defaultOptions=a.viewOptions;c._instance=u(a,d,c,"kendoMobileModalView","kendoMobileModalView")},post:function(a,d,c){c._instance._layout();c._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:!0,link:{pre:function(a,d,c){c.defaultOptions=a.viewOptions;c._instance=u(a,d,c,"kendoMobileSplitView","kendoMobileSplitView")},post:function(a,d,c){c._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:!0,link:{pre:function(a,d,c){c.defaultOptions=a.viewOptions;u(a,d,c,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(a,d,c){u(a,d,c,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(a,d,c){d.find("a[k-action]").each(function(){b(this).attr("data-"+kendo.ns+"action",b(this).attr("k-action"))});u(a,d,c,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:!0,link:{pre:function(a,d,c){c.defaultOptions=a.viewOptions;u(a,d,c,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:!0,template:function(a){return"\x3cspan data-"+kendo.ns+"role\x3d'view-title'\x3e"+a.html()+"\x3c/span\x3e"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(a,d){d.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(a,d){d.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:!0,template:function(a){return"\x3cdiv data-"+kendo.ns+"role\x3d'page'\x3e"+a.html()+"\x3c/div\x3e"}}});k.forEach(["align","icon","rel","transition","actionsheetContext"],function(a){var d="k"+a.slice(0,1).toUpperCase()+a.slice(1);D.directive(d,function(){return{restrict:"A",priority:2,link:function(c,b,g){b.attr(kendo.attr(kendo.toHyphens(a)),c.$eval(g[d]))}}})});var K={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],TreeView:["Template"],Validator:["ErrorTemplate"]};(function(){var d={};k.forEach(K,function(a,c){k.forEach(a,function(a){d[a]||(d[a]=[]);d[a].push("?^^kendo"+c)})});k.forEach(d,function(d,c){var b="k"+c,g=kendo.toHyphens(b);D.directive(b,function(){return{restrict:"A",require:d,terminal:!0,compile:function(c,e){if(""===e[b]){c.removeAttr(g);var r=c[0].outerHTML;return function(c,e,w,f){for(var H;!H&&f.length;)H=f.shift();H?(H.template(b,r),e.remove()):a.warn(g+" without a matching parent widget found. It can be one of the following: "+d.join(", "))}}}}})})})()}})(window.kendo.jQuery,window.angular);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.data",["kendo.core","kendo.data.odata","kendo.data.xml"],b)})(function(){(function(b,k){function q(a,d,c,b){return function(v){var g={},e;for(e in v)g[e]=v[e];g.field=b?c+"."+v.field:c;"change"==d&&a._notifyChange&&a._notifyChange(g);a.trigger(d,g)}}function B(a,d){if(a===d)return!0;var c=b.type(a),g=b.type(d),v;if(c!==g)return!1;if("date"===c)return a.getTime()===d.getTime();if("object"!==c&&"array"!==c)return!1;for(v in a)if(!B(a[v],d[v]))return!1;return!0}function u(a){this.data=a||[]}function z(a,d){if(a){var c="string"===typeof a?{field:a,dir:d}:a,c=Z(c)?c:c!==k?[c]:[];return ca(c,function(a){return!!a.dir})}}function C(a){var d,c,b,v=a.filters;if(v)for(a=0,d=v.length;a<d;a++)c=v[a],(b=c.operator)&&"string"===typeof b&&(c.operator=V[b.toLowerCase()]||b),C(c)}function y(a){if(a&&!N(a)){if(Z(a)||!a.filters)a={logic:"and",filters:Z(a)?a:[a]};C(a);return a}}function F(a){a=a||{};return N(a)?{logic:"and",filters:[]}:y(a)}function A(a,d){return d.logic||a.field>d.field?1:a.field<d.field?-1:0}function E(a,d){a=F(a);d=F(d);if(a.logic!==d.logic)return!1;var c,b,v=(a.filters||[]).slice(),g=(d.filters||[]).slice();if(v.length!==g.length)return!1;for(var v=v.sort(A),g=g.sort(A),e=0;e<v.length;e++)if(c=v[e],b=g[e],c.logic&&b.logic){if(!E(c,b))return!1}else if(c=c.logic||b.logic?!1:c.field===b.field&&c.value===b.value&&c.operator===b.operator,!c)return!1;return!0}function x(a,d){var c="string"===typeof a?{field:a,dir:d}:a,c=Z(c)?c:c!==k?[c]:[];return na(c,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function t(a){return"number"===typeof a&&!isNaN(a)}function m(a){var d,c=a.length,b=Array(c);for(d=0;d<c;d++)b[d]=a[d].toJSON();return b}function e(a,d,c,b,v){var g,e,r={},w;e=0;for(w=a.length;e<w;e++)for(g in c=a[e],d)(b=v[g])&&b!==g&&(r[b]||(r[b]=R.setter(b)),r[b](c,d[g](c)),delete c[g])}function h(a,d,c,b,v){var g,e,r,w;r=0;for(w=a.length;r<w;r++)for(g in b=a[r],d)b[g]=c._parse(g,d[g](b)),(e=v[g])&&e!==g&&delete b[e]}function p(a,d,c,b,v){var g,e,r,w;e=0;for(w=a.length;e<w;e++)g=a[e],(r=b[g.field])&&r!=g.field&&(g.field=r),g.value=c._parse(g.field,g.value),g.hasSubgroups?p(g.items,d,c,b,v):h(g.items,d,c,b,v)}function n(a,d,c,b,v,g){return function(e){(e=a(e))&&!N(b)&&("[object Array]"===I.call(e)||e instanceof la||(e=[e]),c(e,b,new d,v,g));return e||[]}}function D(a,d,c,b){for(var v,g=0,e;d.length&&b;){v=d[g];e=v.items;var r=e.length;a&&a.field===v.field&&a.value===v.value?(a.hasSubgroups&&a.items.length?D(a.items[a.items.length-1],v.items,c,b):(e=e.slice(c,c+b),a.items=a.items.concat(e)),d.splice(g--,1)):(v.hasSubgroups&&e.length?D(v,e,c,b):(e=e.slice(c,c+b),v.items=e),v.items.length||d.splice(g--,1));0===e.length?c-=r:(c=0,b-=e.length);if(++g>=d.length)break}g<d.length&&d.splice(g,d.length-g)}function f(a){var d,c=[],b,v,g;d=0;for(b=a.length;d<b;d++)if(v=a.at(d),v.hasSubgroups)c=c.concat(f(v.items));else for(v=v.items,g=0;g<v.length;g++)c.push(v.at(g));return c}function l(a,d){var c,b,v;if(d)for(c=0,b=a.length;c<b;c++)v=a.at(c),v.hasSubgroups?l(v.items,d):v.items=new ia(v.items,d)}function c(a,d){for(var b=0,g=a.length;b<g;b++)if(a[b].hasSubgroups){if(c(a[b].items,d))return!0}else if(d(a[b].items,a[b]))return!0}function w(a,d,c){for(var b=0,v=a.length;b<v;b++){if(a[b]&&a[b].hasSubgroups)return w(a[b].items,d,c);if(a[b]===d||a[b]===c)return a[b]=c,!0}}function a(d,c,b,g,v){for(var e=0,r=d.length;e<r;e++){var f=d[e];if(f&&!(f instanceof g))if(f.hasSubgroups===k||v)for(var H=0;H<c.length;H++){if(c[H]===f){d[e]=c.at(H);for(var H=b,l=c,h=d[e],L=0;L<H.length&&H[L].data!==l&&!w(H[L].data,f,h);L++);break}}else a(f.items,c,b,g,v)}}function d(a,d){var c,b;c=0;for(b=a.length;c<b;c++){var v=a.at(c);if(v.uid==d.uid)return a.splice(c,1),v}}function g(a,d){return d?P(a,function(a){return a.uid&&a.uid==d.uid||a[d.idField]===d.id&&d.id!==d._defaultId}):-1}function G(a,d){return d?P(a,function(a){return a.uid==d.uid}):-1}function P(a,d){var c,b;c=0;for(b=a.length;c<b;c++)if(d(a[c]))return c;return-1}function J(a,d){if(a&&!N(a)){var c=a[d],c=ha(c)?c.from||c.field||d:a[d]||d;return ga(c)?d:c}return d}function O(a,d){var c,b,v={};for(c in a)"filters"!==c&&(v[c]=a[c]);if(a.filters)for(v.filters=[],c=0,b=a.filters.length;c<b;c++)v.filters[c]=O(a.filters[c],d);else v.field=J(d.fields,v.field);return v}function H(a,d){var c,b,v=[],g,e;c=0;for(b=a.length;c<b;c++){g={};e=a[c];for(var r in e)g[r]=e[r];g.field=J(d.fields,g.field);g.aggregates&&Z(g.aggregates)&&(g.aggregates=H(g.aggregates,d));v.push(g)}return v}function Y(a){return function(){var d=this._data,c=ma.fn[a].apply(this,ya.call(arguments));this._data!=d&&this._attachBubbleHandlers();return c}}function r(a,d){function c(a,d){return a.filter(d).add(a.find(d))}var g=b(a).children(),v,e,w=[],f,H=d[0].field,l=d[1]&&d[1].field,h=d[2]&&d[2].field,G=d[3]&&d[3].field,L,n,p,K;v=0;for(e=g.length;v<e;v++){f={_loaded:!0};L=g.eq(v);p=L[0].firstChild;K=L.children();a=K.filter("ul");K=K.filter(":not(ul)");if(n=L.attr("data-id"))f.id=n;p&&(f[H]=3==p.nodeType?p.nodeValue:K.text());l&&(f[l]=c(K,"a").attr("href"));G&&(f[G]=c(K,"img").attr("src"));h&&(n=c(K,".k-sprite").prop("className"),f[h]=n&&b.trim(n.replace("k-sprite","")));a.length&&(f.items=r(a.eq(0),d));"true"==L.attr("data-hasChildren")&&(f.hasChildren=!0);w.push(f)}return w}var K=b.extend,Q=b.proxy,ha=b.isPlainObject,N=b.isEmptyObject,Z=b.isArray,ca=b.grep,Ba=b.ajax,na,Fa=b.each,qa=b.noop,R=window.kendo,ga=R.isFunction,oa=R.Observable,ra=R.Class,Ha=["create","read","update","destroy"],xa=function(a){return a},Ca=R.getter,Aa=R.stringify,ba=Math,va=[].push,ja=[].pop,Ja=[].splice,Ka=[].shift,ya=[].slice,Na=[].unshift,I={}.toString,pa=R.support.stableSort,za=/^\/Date\((.*?)\)\/$/,Ma=/(\r+|\n+)/g,wa=/(?=['\\])/g,la=oa.extend({init:function(a,d){this.type=d||S;oa.fn.init.call(this);this.length=a.length;this.wrapAll(a,this)},at:function(a){return this[a]},toJSON:function(){var a,d=this.length,c,b=Array(d);for(a=0;a<d;a++)c=this[a],c instanceof S&&(c=c.toJSON()),b[a]=c;return b},parent:qa,wrapAll:function(a,d){var c=this,b,v,g=function(){return c};d=d||[];b=0;for(v=a.length;b<v;b++)d[b]=c.wrap(a[b],g);return d},wrap:function(a,d){var c=this,b;null!==a&&"[object Object]"===I.call(a)&&(b=a instanceof c.type||a instanceof U,b||(a=a instanceof S?a.toJSON():a,a=new c.type(a)),a.parent=d,a.bind("change",function(a){c.trigger("change",{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemloaded":"itemchange"})}));return a},push:function(){var a=this.length,d=this.wrapAll(arguments),c;c=va.apply(this,d);this.trigger("change",{action:"add",index:a,items:d});return c},slice:ya,sort:[].sort,join:[].join,pop:function(){var a=this.length,d=ja.apply(this);a&&this.trigger("change",{action:"remove",index:a-1,items:[d]});return d},splice:function(a,d,c){var b=this.wrapAll(ya.call(arguments,2)),v,g,e;v=Ja.apply(this,[a,d].concat(b));if(v.length)for(this.trigger("change",{action:"remove",index:a,items:v}),g=0,e=v.length;g<e;g++)v[g]&&v[g].children&&v[g].unbind("change");c&&this.trigger("change",{action:"add",index:a,items:b});return v},shift:function(){var a=this.length,d=Ka.apply(this);a&&this.trigger("change",{action:"remove",index:0,items:[d]});return d},unshift:function(){var a=this.wrapAll(arguments),d;d=Na.apply(this,a);this.trigger("change",{action:"add",index:0,items:a});return d},indexOf:function(a){var d,c;d=0;for(c=this.length;d<c;d++)if(this[d]===a)return d;return-1},forEach:function(a){for(var d=0,c=this.length;d<c;d++)a(this[d],d,this)},map:function(a){for(var d=0,c=[],b=this.length;d<b;d++)c[d]=a(this[d],d,this);return c},reduce:function(a){var d=0,c,b=this.length;for(2==arguments.length?c=arguments[1]:d<b&&(c=this[d++]);d<b;d++)c=a(c,this[d],d,this);return c},reduceRight:function(a){var d=this.length-1,c;for(2==arguments.length?c=arguments[1]:0<d&&(c=this[d--]);0<=d;d--)c=a(c,this[d],d,this);return c},filter:function(a){for(var d=0,c=[],b,v=this.length;d<v;d++)b=this[d],a(b,d,this)&&(c[c.length]=b);return c},find:function(a){for(var d=0,c,b=this.length;d<b;d++)if(c=this[d],a(c,d,this))return c},every:function(a){for(var d=0,c,b=this.length;d<b;d++)if(c=this[d],!a(c,d,this))return!1;return!0},some:function(a){for(var d=0,c,b=this.length;d<b;d++)if(c=this[d],a(c,d,this))return!0;return!1},remove:function(a){a=this.indexOf(a);-1!==a&&this.splice(a,1)},empty:function(){this.splice(0,this.length)}}),ia=la.extend({init:function(a,d){oa.fn.init.call(this);this.type=d||S;for(var c=0;c<a.length;c++)this[c]=a[c];this.length=c;this._parent=Q(function(){return this},this)},at:function(a){var d=this[a];d instanceof this.type?d.parent=this._parent:d=this[a]=this.wrap(d,this._parent);return d}}),S=oa.extend({init:function(a){var d=this,c,b,v=function(){return d};oa.fn.init.call(this);this._handlers={};for(b in a)c=a[b],"object"===typeof c&&c&&!c.getTime&&"_"!=b.charAt(0)&&(c=d.wrap(c,b,v)),d[b]=c;d.uid=R.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&"_handlers"!==a&&"_events"!==a&&"function"!==typeof this[a]&&"uid"!==a},forEach:function(a){for(var d in this)this.shouldSerialize(d)&&a(this[d],d)},toJSON:function(){var a={},d,c;for(c in this)if(this.shouldSerialize(c)){d=this[c];if(d instanceof S||d instanceof la)d=d.toJSON();a[c]=d}return a},get:function(a){this.trigger("get",{field:a});return"this"===a?this:R.getter(a,!0)(this)},_set:function(a,d){var c=0<=a.indexOf(".");if(c)for(var b=a.split("."),v="";1<b.length;){var v=v+b.shift(),g=R.getter(v,!0)(this);if(g instanceof S)return g.set(b.join("."),d),c;v+="."}R.setter(a)(this,d);return c},set:function(a,d){var c=this,b=!1,v=0<=a.indexOf("."),g=R.getter(a,!0)(c);g!==d&&(g instanceof oa&&this._handlers[a]&&(this._handlers[a].get&&g.unbind("get",this._handlers[a].get),g.unbind("change",this._handlers[a].change)),b=c.trigger("set",{field:a,value:d}),b||(v||(d=c.wrap(d,a,function(){return c})),(!c._set(a,d)||0<=a.indexOf("(")||0<=a.indexOf("["))&&c.trigger("change",{field:a})));return b},parent:qa,wrap:function(a,d,c){var b,v;b=I.call(a);if(null!=a&&("[object Object]"===b||"[object Array]"===b)){v=a instanceof la;var g=a instanceof ma;if("[object Object]"===b&&!g&&!v)a instanceof S||(a=new S(a)),b=q(this,"get",d,!0),a.bind("get",b),v=q(this,"change",d,!0),a.bind("change",v),this._handlers[d]={get:b,change:v};else if("[object Array]"===b||v||g)v||g||(a=new la(a)),v=q(this,"change",d,!1),a.bind("change",v),this._handlers[d]={change:v};a.parent=c}return a}}),T={number:function(a){return R.parseFloat(a)},date:function(a){return R.parseDate(a)},"boolean":function(a){return"string"===typeof a?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},ea={string:"",number:0,date:new Date,"boolean":!1,"default":""},U=S.extend({init:function(a){if(!a||b.isEmptyObject(a))if(a=b.extend({},this.defaults,a),this._initializers)for(var d=0;d<this._initializers.length;d++){var c=this._initializers[d];a[c]=this.defaults[c]()}S.fn.init.call(this,a);this.dirty=!1;this.idField&&(this.id=this.get(this.idField),this.id===k&&(this.id=this._defaultId))},shouldSerialize:function(a){return S.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,d){var c=a,b=this.fields||{},v;a=b[a];if(!a)a:{var g,e;for(e in b)if(g=b[e],ha(g)&&g.field&&g.field===c){a=g;break a}else if(g===c){a=g;break a}a=null}a&&(v=a.parse,!v&&a.type&&(v=T[a.type.toLowerCase()]));return v?v(d):d},_notifyChange:function(a){a=a.action;if("add"==a||"remove"==a)this.dirty=!0},editable:function(a){return(a=(this.fields||{})[a])?!1!==a.editable:!0},set:function(a,d,c){var b=this.dirty;this.editable(a)&&(d=this._parse(a,d),B(d,this.get(a))||(this.dirty=!0,S.fn.set.call(this,a,d,c)&&!b&&(this.dirty=b)))},accept:function(a){var d=this,c=function(){return d},b;for(b in a){var v=a[b];"_"!=b.charAt(0)&&(v=d.wrap(a[b],b,c));d._set(b,v)}d.idField&&(d.id=d.get(d.idField));d.dirty=!1},isNew:function(){return this.id===this._defaultId}});U.define=function(a,d){d===k&&(d=a,a=U);var c,b=K({defaults:{}},d),v,g,e,r,w;e={};g=b.id;var f=[];g&&(b.idField=g);b.id&&delete b.id;g&&(b.defaults[g]=b._defaultId="");if("[object Array]"===I.call(b.fields)){r=0;for(w=b.fields.length;r<w;r++)g=b.fields[r],"string"===typeof g?e[g]={}:g.field&&(e[g.field]=g);b.fields=e}for(v in b.fields)g=b.fields[v],e=g.type||"default",r=null,w=v,v="string"===typeof g.field?g.field:v,g.nullable||(r=b.defaults[w!==v?w:v]=g.defaultValue!==k?g.defaultValue:ea[e.toLowerCase()],"function"===typeof r&&f.push(v)),d.id===v&&(b._defaultId=r),b.defaults[w!==v?w:v]=r,g.parse=g.parse||T[e];0<f.length&&(b._initializers=f);c=a.extend(b);c.define=function(a){return U.define(c,a)};b.fields&&(c.fields=b.fields,c.idField=b.idField);return c};var sa={selector:function(a){return ga(a)?a:Ca(a)},compare:function(a){var d=this.selector(a);return function(a,c){a=d(a);c=d(c);return null==a&&null==c?0:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):a>c?1:a<c?-1:0}},create:function(a){var d=a.compare||this.compare(a.field);return"desc"==a.dir?function(a,c){return d(c,a,!0)}:d},combine:function(a){return function(d,c){var b=a[0](d,c),v,g;v=1;for(g=a.length;v<g;v++)b=b||a[v](d,c);return b}}},fa=K({},sa,{asc:function(a){var d=this.selector(a);return function(a,c){var v=d(a),b=d(c);v&&v.getTime&&b&&b.getTime&&(v=v.getTime(),b=b.getTime());return v===b?a.__position-c.__position:null==v?-1:null==b?1:v.localeCompare?v.localeCompare(b):v>b?1:-1}},desc:function(a){var d=this.selector(a);return function(a,c){var v=d(a),b=d(c);v&&v.getTime&&b&&b.getTime&&(v=v.getTime(),b=b.getTime());return v===b?a.__position-c.__position:null==v?1:null==b?-1:b.localeCompare?b.localeCompare(v):v<b?1:-1}},create:function(a){return this[a.dir](a.field)}});na=function(a,d){var c,b=a.length,v=Array(b);for(c=0;c<b;c++)v[c]=d(a[c],c,a);return v};var Da=function(){function a(a){return a.replace(wa,"\\").replace(Ma,"")}function d(d,c,b,g){var v;null!=b&&("string"===typeof b&&(b=a(b),(v=za.exec(b))?b=new Date(+v[1]):g?(b="'"+b.toLowerCase()+"'",c="(("+c+" || '')+'').toLowerCase()"):b="'"+b+"'"),b.getTime&&(c="("+c+"\x26\x26"+c+".getTime?"+c+".getTime():"+c+")",b=b.getTime()));return c+" "+d+" "+b}return{quote:function(d){return d&&d.getTime?"new Date("+d.getTime()+")":"string"==typeof d?"'"+a(d)+"'":""+d},eq:function(a,c,b){return d("\x3d\x3d",a,c,b)},neq:function(a,c,b){return d("!\x3d",a,c,b)},gt:function(a,c,b){return d("\x3e",a,c,b)},gte:function(a,c,b){return d("\x3e\x3d",a,c,b)},lt:function(a,c,b){return d("\x3c",a,c,b)},lte:function(a,c,b){return d("\x3c\x3d",a,c,b)},startswith:function(d,c,b){b&&(d="("+d+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=a(c));return d+".lastIndexOf('"+c+"', 0) \x3d\x3d 0"},doesnotstartwith:function(d,c,b){b&&(d="("+d+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=a(c));return d+".lastIndexOf('"+c+"', 0) \x3d\x3d -1"},endswith:function(d,c,b){b&&(d="("+d+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=a(c));return d+".indexOf('"+c+"', "+d+".length - "+(c||"").length+") \x3e\x3d 0"},doesnotendwith:function(d,c,b){b&&(d="("+d+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=a(c));return d+".indexOf('"+c+"', "+d+".length - "+(c||"").length+") \x3c 0"},contains:function(d,c,b){b&&(d="("+d+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=a(c));return d+".indexOf('"+c+"') \x3e\x3d 0"},doesnotcontain:function(d,c,b){b&&(d="("+d+" || '').toLowerCase()",c&&(c=c.toLowerCase()));c&&(c=a(c));return d+".indexOf('"+c+"') \x3d\x3d -1"},isempty:function(a){return a+" \x3d\x3d\x3d ''"},isnotempty:function(a){return a+" !\x3d\x3d ''"},isnull:function(a){return"("+a+" \x3d\x3d\x3d null || "+a+" \x3d\x3d\x3d undefined)"},isnotnull:function(a){return"("+a+" !\x3d\x3d null \x26\x26 "+a+" !\x3d\x3d undefined)"}}}();u.filterExpr=function(a){var d=[],c,b,v,g,e=[],r=[],w,f,H=a.filters;c=0;for(b=H.length;c<b;c++)v=H[c],w=v.field,f=v.operator,v.filters?(g=u.filterExpr(v),v=g.expression.replace(/__o\[(\d+)\]/g,function(a,d){return"__o["+(r.length+ +d)+"]"}).replace(/__f\[(\d+)\]/g,function(a,d){return"__f["+(e.length+ +d)+"]"}),r.push.apply(r,g.operators),e.push.apply(e,g.fields)):("function"===typeof w?(g="__f["+e.length+"](d)",e.push(w)):g=R.expr(w),"function"===typeof f?(v="__o["+r.length+"]("+g+", "+Da.quote(v.value)+")",r.push(f)):v=Da[(f||"eq").toLowerCase()](g,v.value,v.ignoreCase!==k?v.ignoreCase:!0)),d.push(v);return{expression:"("+d.join({and:" \x26\x26 ",or:" || "}[a.logic])+")",fields:e,operators:r}};var V={"\x3d\x3d":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!\x3d":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","\x3c":"lt",islessthan:"lt",lessthan:"lt",less:"lt","\x3c\x3d":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte","\x3e":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt","\x3e\x3d":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};u.normalizeFilter=y;u.compareFilters=E;u.prototype={toArray:function(){return this.data},range:function(a,d){return new u(this.data.slice(a,a+d))},skip:function(a){return new u(this.data.slice(a))},take:function(a){return new u(this.data.slice(0,a))},select:function(a){return new u(na(this.data,a))},order:function(a,d){var c={dir:d};a&&(a.compare?c.compare=a.compare:c.field=a);return new u(this.data.slice(0).sort(sa.create(c)))},orderBy:function(a){return this.order(a,"asc")},orderByDescending:function(a){return this.order(a,"desc")},sort:function(a,d,c){var b=z(a,d),v=[];c=c||sa;if(b.length){a=0;for(d=b.length;a<d;a++)v.push(c.create(b[a]));return this.orderBy({compare:c.combine(v)})}return this},filter:function(a){var d,c,b,v=this.data,g,e,r=[],w;a=y(a);if(!a||0===a.filters.length)return this;a=u.filterExpr(a);g=a.fields;e=a.operators;b=w=new Function("d, __f, __o","return "+a.expression);if(g.length||e.length)w=function(a){return b(a,g,e)};a=0;for(c=v.length;a<c;a++)d=v[a],w(d)&&r.push(d);return new u(r)},group:function(a,d){a=x(a||[]);d=d||this.data;var c=new u(this.data),b;0<a.length&&(b=a[0],c=c.groupBy(b).select(function(c){var v=(new u(d)).filter([{field:c.field,operator:"eq",value:c.value,ignoreCase:!1}]);return{field:c.field,value:c.value,items:1<a.length?(new u(c.items)).group(a.slice(1),v.toArray()).toArray():c.items,hasSubgroups:1<a.length,aggregates:v.aggregate(b.aggregates)}}));return c},groupBy:function(a){if(N(a)||!this.data.length)return new u([]);var d=a.field;a=this._sortForGrouping(d,a.dir||"asc");var c=R.accessor(d),b,v=c.get(a[0],d),g={field:d,value:v,items:[]},e,r,w,f=[g];r=0;for(w=a.length;r<w;r++){b=a[r];e=c.get(b,d);var H;H=v;var l=e;H=H&&H.getTime&&l&&l.getTime?H.getTime()===l.getTime():H===l;H||(v=e,g={field:d,value:v,items:[]},f.push(g));g.items.push(b)}return new u(f)},_sortForGrouping:function(a,d){var c,b,v=this.data;if(!pa){c=0;for(b=v.length;c<b;c++)v[c].__position=c;v=(new u(v)).sort(a,d,fa).toArray();c=0;for(b=v.length;c<b;c++)delete v[c].__position;return v}return this.sort(a,d).toArray()},aggregate:function(a){var d,c,b={},v={};if(a&&a.length)for(d=0,c=this.data.length;d<c;d++){var g=b,e=a,r=this.data[d],w=d,f=c,H=v,e=e||[],l,h,G,n=e.length;for(l=0;l<n;l++)h=e[l],G=h.aggregate,h=h.field,g[h]=g[h]||{},H[h]=H[h]||{},H[h][G]=H[h][G]||{},g[h][G]=Oa[G.toLowerCase()](g[h][G],r,R.accessor(h),w,f,H[h][G])}return b}};var Oa={sum:function(a,d,c){d=c.get(d);t(a)?t(d)&&(a+=d):a=d;return a},count:function(a){return(a||0)+1},average:function(a,d,c,b,v,g){d=c.get(d);g.count===k&&(g.count=0);t(a)?t(d)&&(a+=d):a=d;t(d)&&g.count++;b==v-1&&t(a)&&(a/=g.count);return a},max:function(a,d,c){d=c.get(d);t(a)||a&&a.getTime||(a=d);a<d&&(t(d)||d&&d.getTime)&&(a=d);return a},min:function(a,d,c){d=c.get(d);t(a)||a&&a.getTime||(a=d);a>d&&(t(d)||d&&d.getTime)&&(a=d);return a}};u.process=function(a,d){d=d||{};var c=new u(a),b=d.group,v=x(b||[]).concat(z(d.sort||[])),g,e=d.filterCallback,r=d.filter,w=d.skip,f=d.take;r&&(c=c.filter(r),e&&(c=e(c)),g=c.toArray().length);v&&(c=c.sort(v),b&&(a=c.toArray()));w!==k&&f!==k&&(c=c.range(w,f));b&&(c=c.group(b,a));return{total:g,data:c.toArray()}};var ta=ra.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),ua=ra.extend({init:function(a){var d;a=this.options=K({},this.options,a);Fa(Ha,function(d,c){"string"===typeof a[c]&&(a[c]={url:a[c]})});this.cache=a.cache?Ga.create(a.cache):{find:qa,add:qa};d=a.parameterMap;ga(a.push)&&(this.push=a.push);this.push||(this.push=xa);this.parameterMap=ga(d)?d:function(a){var c={};Fa(a,function(a,b){a in d&&(a=d[a],ha(a)&&(b=a.value(b),a=a.key));c[a]=b});return c}},options:{parameterMap:xa},create:function(a){return Ba(this.setup(a,"create"))},read:function(a){var d,c,g=this.cache;a=this.setup(a,"read");d=a.success||qa;c=g.find(a.data);c!==k?d(c):(a.success=function(c){g.add(a.data,c);d(c)},b.ajax(a))},update:function(a){return Ba(this.setup(a,"update"))},destroy:function(a){return Ba(this.setup(a,"destroy"))},setup:function(a,d){a=a||{};var c;c=this.options[d];var b=ga(c.data)?c.data(a.data):c.data;a=K(!0,{},c,a);c=K(!0,{},b,a.data);a.data=this.parameterMap(c,d);ga(a.url)&&(a.url=a.url(c));return a}}),Ga=ra.extend({init:function(){this._store={}},add:function(a,d){a!==k&&(this._store[Aa(a)]=d)},find:function(a){return this._store[Aa(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[Aa(a)]}});Ga.create=function(a){return ha(a)&&ga(a.find)?a:!0===a?new Ga:{inmemory:function(){return new Ga}}[a]()};var ra=ra.extend({init:function(a){var d,c;a=a||{};for(d in a)c=a[d],this[d]="string"===typeof c?Ca(c):c;d=a.modelBase||U;ha(this.model)&&(this.model=d=d.define(this.model));this._dataAccessFunction=c=Q(this.data,this);if(this.model){var b=Q(this.groups,this),v=Q(this.serialize,this),g={},r={},w={},f={},H=!1,l;d=this.model;d.fields&&(Fa(d.fields,function(a,d){var c;l=a;ha(d)&&d.field?l=d.field:"string"===typeof d&&(l=d);ha(d)&&d.from&&(c=d.from);H=H||c&&c!==a||l!==a;r[a]=Ca(c||l);w[a]=Ca(a);g[c||l]=a;f[a]=c||l}),!a.serialize&&H&&(this.serialize=n(v,d,e,w,g,f)));this._dataAccessFunction=c;this.data=n(c,d,h,r,g,f);this.groups=n(b,d,p,r,g,f)}},errors:function(a){return a?a.errors:null},parse:xa,data:xa,total:function(a){return a.length},groups:xa,aggregates:function(){return{}},serialize:function(a){return a}}),ma=oa.extend({init:function(a){var d=this,c;a&&(c=a.data);a=d.options=K({},d.options,a);d._map={};d._prefetch={};d._data=[];d._pristineData=[];d._ranges=[];d._view=[];d._pristineTotal=0;d._destroyed=[];d._pageSize=a.pageSize;d._page=a.page||(a.pageSize?1:k);d._sort=z(a.sort);d._filter=y(a.filter);d._group=x(a.group);d._aggregate=a.aggregate;d._total=a.total;d._shouldDetachObservableParents=!0;oa.fn.init.call(d);d.transport=Pa.create(a,c,d);ga(d.transport.push)&&d.transport.push({pushCreate:Q(d._pushCreate,d),pushUpdate:Q(d._pushUpdate,d),pushDestroy:Q(d._pushDestroy,d)});if(null!=a.offlineStorage)if("string"==typeof a.offlineStorage){var b=a.offlineStorage;d._storage={getItem:function(){return JSON.parse(localStorage.getItem(b))},setItem:function(a){localStorage.setItem(b,Aa(d.reader.serialize(a)))}}}else d._storage=a.offlineStorage;d.reader=new R.data.readers[a.schema.type||"json"](a.schema);d._detachObservableParents();d._data=d._observe(d._data);d._online=!0;d.bind("push error change requestStart sync requestEnd progress".split(" "),a)},options:{data:null,schema:{modelBase:U},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},clone:function(){return this},online:function(a){return a!==k?this._online!=a&&(this._online=a)?this.sync():b.Deferred().resolve().promise():this._online},offlineData:function(a){return null==this.options.offlineStorage?null:a!==k?this._storage.setItem(a):this._storage.getItem()||[]},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_pushCreate:function(a){this._push(a,"pushCreate")},_pushUpdate:function(a){this._push(a,"pushUpdate")},_pushDestroy:function(a){this._push(a,"pushDestroy")},_push:function(a,d){var c=this._readData(a);c||(c=a);this[d](c)},_flatData:function(a,d){if(a){if(this._isServerGrouped())return f(a);if(!d)for(var c=0;c<a.length;c++)a.at(c)}return a},parent:qa,get:function(a){var d,c,b=this._flatData(this._data);d=0;for(c=b.length;d<c;d++)if(b[d].id==a)return b[d]},getByUid:function(a){var d,c,b=this._flatData(this._data);if(b)for(d=0,c=b.length;d<c;d++)if(b[d].uid==a)return b[d]},indexOf:function(a){return G(this._data,a)},at:function(a){return this._data.at(a)},data:function(a){if(a!==k)this._detachObservableParents(),this._data=this._observe(a),this._pristineData=a.slice(0),this._storeData(),this._ranges=[],this.trigger("reset"),this._addRange(this._data),this._pristineTotal=this._total=this._data.length,this._process(this._data);else{if(this._data)for(a=0;a<this._data.length;a++)this._data.at(a);return this._data}},view:function(a){if(a===k)return this._view;this._view=this._observeView(a)},_observeView:function(d){var c=this;a(d,c._data,c._ranges,c.reader.model||S,c._isServerGrouped());d=new ia(d,c.reader.model);d.parent=function(){return c.parent()};return d},flatView:function(){return(this.group()||[]).length?f(this._view):this._view},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){return this.reader.model?new this.reader.model(a):a instanceof S?a:new S(a)},insert:function(a,d){d||(d=a,a=0);d instanceof U||(d=this._createNewModel(d));this._isServerGrouped()?this._data.splice(a,0,this._wrapInEmptyGroup(d)):this._data.splice(a,0,d);return d},pushCreate:function(a){Z(a)||(a=[a]);var d=[],c=this.options.autoSync;this.options.autoSync=!1;try{for(var b=0;b<a.length;b++){var v=this.add(a[b]);d.push(v);var g=v.toJSON();this._isServerGrouped()&&(g=this._wrapInEmptyGroup(g));this._pristineData.push(g)}}finally{this.options.autoSync=c}d.length&&this.trigger("push",{type:"create",items:d})},pushUpdate:function(a){Z(a)||(a=[a]);for(var d=[],c=0;c<a.length;c++){var b=a[c],v=this._createNewModel(b);(v=this.get(v.id))?(d.push(v),v.accept(b),v.trigger("change"),this._updatePristineForModel(v,b)):this.pushCreate(b)}d.length&&this.trigger("push",{type:"update",items:d})},pushDestroy:function(a){a=this._removeItems(a);a.length&&this.trigger("push",{type:"destroy",items:a})},_removeItems:function(a){Z(a)||(a=[a]);var d=[],c=this.options.autoSync;this.options.autoSync=!1;try{for(var b=0;b<a.length;b++){var v=this._createNewModel(a[b]),g=!1;this._eachItem(this._data,function(a){for(var c=0;c<a.length;c++){var b=a.at(c);if(b.id===v.id){d.push(b);a.splice(c,1);g=!0;break}}});g&&(this._removePristineForModel(v),this._destroyed.pop())}}finally{this.options.autoSync=c}return d},remove:function(a){var c,b=this,g=b._isServerGrouped();this._eachItem(b._data,function(v){if((c=d(v,a))&&g)return c.isNew&&c.isNew()||b._destroyed.push(c),!0});this._removeModelFromRanges(a);this._updateRangesLength();return a},destroyed:function(){return this._destroyed},created:function(){var a,d,c=[],b=this._flatData(this._data);a=0;for(d=b.length;a<d;a++)b[a].isNew&&b[a].isNew()&&c.push(b[a]);return c},updated:function(){var a,d,c=[],b=this._flatData(this._data);a=0;for(d=b.length;a<d;a++)b[a].isNew&&!b[a].isNew()&&b[a].dirty&&c.push(b[a]);return c},sync:function(){var a=this,d=[],c=[],g=a._destroyed,d=b.Deferred().resolve().promise();if(a.online()){if(!a.reader.model)return d;var d=a.created(),c=a.updated(),v=[];a.options.batch&&a.transport.submit?v=a._sendSubmit(d,c,g):(v.push.apply(v,a._send("create",d)),v.push.apply(v,a._send("update",c)),v.push.apply(v,a._send("destroy",g)));d=b.when.apply(null,v).then(function(){var d,c;d=0;for(c=arguments.length;d<c;d++)a._accept(arguments[d]);a._storeData(!0);a._change({action:"sync"});a.trigger("sync")})}else a._storeData(!0),a._change({action:"sync"});return d},cancelChanges:function(a){a instanceof R.data.Model?this._cancelModel(a):(this._destroyed=[],this._detachObservableParents(),this._data=this._observe(this._pristineData),this.options.serverPaging&&(this._total=this._pristineTotal),this._ranges=[],this._addRange(this._data),this._change(),this._markOfflineUpdatesAsDirty())},_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,function(a){for(var d=0;d<a.length;d++){var c=a.at(d);"update"==c.__state__&&(c.dirty=!0)}})},hasChanges:function(){var a,d,c=this._flatData(this._data);if(this._destroyed.length)return!0;a=0;for(d=c.length;a<d;a++)if(c[a].isNew&&c[a].isNew()||c[a].dirty)return!0;return!1},_accept:function(a){var d=a.models,c=a.response,g=0,v=this._isServerGrouped(),e=this._pristineData;a=a.type;var r;this.trigger("requestEnd",{response:c,type:a});if(c&&!N(c)){c=this.reader.parse(c);if(this._handleCustomErrors(c))return;c=this.reader.data(c);Z(c)||(c=[c])}else c=b.map(d,function(a){return a.toJSON()});"destroy"===a&&(this._destroyed=[]);g=0;for(r=d.length;g<r;g++)"destroy"!==a?(d[g].accept(c[g]),"create"===a?e.push(v?this._wrapInEmptyGroup(d[g]):c[g]):"update"===a&&this._updatePristineForModel(d[g],c[g])):this._removePristineForModel(d[g])},_updatePristineForModel:function(a,d){this._executeOnPristineForModel(a,function(a,c){R.deepExtend(c[a],d)})},_executeOnPristineForModel:function(a,d){this._eachPristineItem(function(c){var b=g(c,a);if(-1<b)return d(b,c),!0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,d){d.splice(a,1)})},_readData:function(a){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,a)},_eachPristineItem:function(a){this._eachItem(this._pristineData,a)},_eachItem:function(a,d){a&&a.length&&(this._isServerGrouped()?c(a,d):d(a))},_pristineForModel:function(a){var d,c;this._eachPristineItem(function(b){c=g(b,a);if(-1<c)return d=b[c],!0});return d},_cancelModel:function(a){var d=this._pristineForModel(a);this._eachItem(this._data,function(c){var b=G(c,a);0<=b&&(!d||a.isNew()&&!d.__state__?c.splice(b,1):(c[b].accept(d),"update"==d.__state__&&(c[b].dirty=!0)))})},_submit:function(a,d){var c=this;c.trigger("requestStart",{type:"submit"});c.transport.submit(K({success:function(d,c){var v=b.grep(a,function(a){return a.type==c})[0];v&&v.resolve({response:d,models:v.models,type:c})},error:function(d,b,g){for(var v=0;v<a.length;v++)a[v].reject(d);c.error(d,b,g)}},d))},_sendSubmit:function(a,d,c){var g=[];this.options.batch&&(a.length&&g.push(b.Deferred(function(d){d.type="create";d.models=a})),d.length&&g.push(b.Deferred(function(a){a.type="update";a.models=d})),c.length&&g.push(b.Deferred(function(a){a.type="destroy";a.models=c})),this._submit(g,{data:{created:this.reader.serialize(m(a)),updated:this.reader.serialize(m(d)),destroyed:this.reader.serialize(m(c))}}));return g},_promise:function(a,d,c){var g=this;return b.Deferred(function(b){g.trigger("requestStart",{type:c});g.transport[c].call(g.transport,K({success:function(a){b.resolve({response:a,models:d,type:c})},error:function(a,d,c){b.reject(a);g.error(a,d,c)}},a))}).promise()},_send:function(a,d){var c,b,v=[],g=this.reader.serialize(m(d));if(this.options.batch)d.length&&v.push(this._promise({data:{models:g}},d,a));else for(c=0,b=d.length;c<b;c++)v.push(this._promise({data:g[c]},[d[c]],a));return v},read:function(a){var d=this,c=d._params(a),g=b.Deferred();d._queueRequest(c,function(){var a=d.trigger("requestStart",{type:"read"});a?(d._dequeueRequest(),g.resolve(a)):(d.trigger("progress"),d._ranges=[],d.trigger("reset"),d.online()?d.transport.read({data:c,success:function(a){d.success(a,c);g.resolve()},error:function(){var a=ya.call(arguments);d.error.apply(d,a);g.reject.apply(g,a)}}):null!=d.options.offlineStorage&&(d.success(d.offlineData(),c),g.resolve()))});return g.promise()},_readAggregates:function(a){return this.reader.aggregates(a)},success:function(a){var d=this.options;this.trigger("requestEnd",{response:a,type:"read"});if(this.online()){a=this.reader.parse(a);if(this._handleCustomErrors(a)){this._dequeueRequest();return}this._total=this.reader.total(a);this._aggregate&&d.serverAggregates&&(this._aggregateResult=this._readAggregates(a));a=this._readData(a)}else{a=this._readData(a);var d=[],c={},b=this.reader.model,b=b?b.idField:"id",g;for(g=0;g<this._destroyed.length;g++){var e=this._destroyed[g][b];c[e]=e}for(g=0;g<a.length;g++)e=a[g],"destroy"==e.__state__?c[e[b]]||this._destroyed.push(this._createNewModel(e)):d.push(e);a=d;this._total=a.length}this._pristineTotal=this._total;this._pristineData=a.slice(0);this._detachObservableParents();this._data=this._observe(a);this._markOfflineUpdatesAsDirty();this._storeData();this._addRange(this._data);this._process(this._data);this._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var a=0;a<this._data.length;a++)this._data[a].parent&&(this._data[a].parent=qa)},_storeData:function(a){function d(a){for(var g=[],v=0;v<a.length;v++){var e=a.at(v),r=e.toJSON();c&&e.items?r.items=d(e.items):(r.uid=e.uid,b&&(e.isNew()?r.__state__="create":e.dirty&&(r.__state__="update")));g.push(r)}return g}var c=this._isServerGrouped(),b=this.reader.model;if(null!=this.options.offlineStorage){for(var g=d(this._data),e=[],r=0;r<this._destroyed.length;r++){var w=this._destroyed[r].toJSON();w.__state__="destroy";e.push(w)}this.offlineData(g.concat(e));a&&(this._pristineData=this._readData(g))}},_addRange:function(a){var d=this._skip||0,c=d+this._flatData(a,!0).length;this._ranges.push({start:d,end:c,data:a,timestamp:(new Date).getTime()});this._ranges.sort(function(a,d){return a.start-d.start})},error:function(a,d,c){this._dequeueRequest();this.trigger("requestEnd",{});this.trigger("error",{xhr:a,status:d,errorThrown:c})},_params:function(a){a=K({take:this.take(),skip:this.skip(),page:this.page(),pageSize:this.pageSize(),sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate},a);this.options.serverPaging||(delete a.take,delete a.skip,delete a.page,delete a.pageSize);this.options.serverGrouping?this.reader.model&&a.group&&(a.group=H(a.group,this.reader.model)):delete a.group;this.options.serverFiltering?this.reader.model&&a.filter&&(a.filter=O(a.filter,this.reader.model)):delete a.filter;this.options.serverSorting?this.reader.model&&a.sort&&(a.sort=H(a.sort,this.reader.model)):delete a.sort;this.options.serverAggregates?this.reader.model&&a.aggregate&&(a.aggregate=H(a.aggregate,this.reader.model)):delete a.aggregate;return a},_queueRequest:function(a,d){this._requestInProgress?this._pending={callback:Q(d,this),options:a}:(this._requestInProgress=!0,this._pending=k,d())},_dequeueRequest:function(){this._requestInProgress=!1;this._pending&&this._queueRequest(this._pending.options,this._pending.callback)},_handleCustomErrors:function(a){return this.reader.errors&&(a=this.reader.errors(a))?(this.trigger("error",{xhr:null,status:"customerror",errorThrown:"custom error",errors:a}),!0):!1},_shouldWrap:function(a){var d=this.reader.model;return d&&a.length?!(a[0]instanceof d):!1},_observe:function(a){var d=this,c=d.reader.model;d._shouldDetachObservableParents=!0;a instanceof la?(d._shouldDetachObservableParents=!1,d._shouldWrap(a)&&(a.type=d.reader.model,a.wrapAll(a,a))):(a=new (d.pageSize()&&!d.options.serverPaging?ia:la)(a,d.reader.model),a.parent=function(){return d.parent()});d._isServerGrouped()&&l(a,c);d._changeHandler&&d._data&&d._data instanceof la?d._data.unbind("change",d._changeHandler):d._changeHandler=Q(d._change,d);return a.bind("change",d._changeHandler)},_updateTotalForAction:function(a,d){var c=parseInt(this._total,10);t(this._total)||(c=parseInt(this._pristineTotal,10));"add"===a?c+=d.length:"remove"===a?c-=d.length:"itemchange"===a||"sync"===a||this.options.serverPaging?"sync"===a&&(c=this._pristineTotal=parseInt(this._total,10)):c=this._pristineTotal;this._total=c},_change:function(a){var d=this,c,b,g=a?a.action:"";if("remove"===g)for(c=0,b=a.items.length;c<b;c++)a.items[c].isNew&&a.items[c].isNew()||d._destroyed.push(a.items[c]);if(!d.options.autoSync||"add"!==g&&"remove"!==g&&"itemchange"!==g)d._updateTotalForAction(g,a?a.items:[]),d._process(d._data,a);else{var e=function(c){"sync"===c.action&&(d.unbind("change",e),d._updateTotalForAction(g,a.items))};d.first("change",e);d.sync()}},_calculateAggregates:function(a,d){d=d||{};var c=new u(a),b=d.aggregate,g=d.filter;g&&(c=c.filter(g));return c.aggregate(b)},_process:function(a,d){var c={};!0!==this.options.serverPaging&&(c.skip=this._skip,c.take=this._take||this._pageSize,c.skip===k&&this._page!==k&&this._pageSize!==k&&(c.skip=(this._page-1)*this._pageSize));!0!==this.options.serverSorting&&(c.sort=this._sort);!0!==this.options.serverFiltering&&(c.filter=this._filter);!0!==this.options.serverGrouping&&(c.group=this._group);!0!==this.options.serverAggregates&&(c.aggregate=this._aggregate,this._aggregateResult=this._calculateAggregates(a,c));c=this._queryProcess(a,c);this.view(c.data);c.total===k||this.options.serverFiltering||(this._total=c.total);d=d||{};d.items=d.items||this._view;this.trigger("change",d)},_queryProcess:function(a,d){return u.process(a,d)},_mergeState:function(a){if(a!==k&&(this._pageSize=a.pageSize,this._page=a.page,this._sort=a.sort,this._filter=a.filter,this._group=a.group,this._aggregate=a.aggregate,this._skip=this._currentRangeStart=a.skip,this._take=a.take,this._skip===k&&(this._skip=this._currentRangeStart=this.skip(),a.skip=this.skip()),this._take===k&&this._pageSize!==k&&(this._take=this._pageSize,a.take=this._take),a.sort&&(this._sort=a.sort=z(a.sort)),a.filter&&(this._filter=a.filter=y(a.filter)),a.group&&(this._group=a.group=x(a.group)),a.aggregate)){var d;d=a.aggregate;d=Z(d)?d:[d];this._aggregate=a.aggregate=d}return a},query:function(a){var d;if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===k||0===this._data.length)&&!this._destroyed.length)return this.read(this._mergeState(a));var c=this.trigger("requestStart",{type:"read"});c||(this.trigger("progress"),d=this._queryProcess(this._data,this._mergeState(a)),this.options.serverFiltering||(this._total=d.total!==k?d.total:this._data.length),this._aggregateResult=this._calculateAggregates(this._data,a),this.view(d.data),this.trigger("requestEnd",{type:"read"}),this.trigger("change",{items:d.data}));return b.Deferred().resolve(c).promise()},fetch:function(a){var d=this;return this._query().then(function(c){!0!==c&&ga(a)&&a.call(d)})},_query:function(a){return this.query(K({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate()},a))},next:function(a){var d=this.page(),c=this.total();a=a||{};if(d&&!(c&&d+1>this.totalPages()))return this._skip=this._currentRangeStart=d*this.take(),d+=1,a.page=d,this._query(a),d},prev:function(a){var d=this.page();a=a||{};if(d&&1!==d)return this._skip=this._currentRangeStart=this._skip-this.take(),--d,a.page=d,this._query(a),d},page:function(a){if(a!==k)a=ba.max(ba.min(ba.max(a,1),this.totalPages()),1),this._query({page:a});else return a=this.skip(),a!==k?ba.round((a||0)/(this.take()||1))+1:k},pageSize:function(a){if(a!==k)this._query({pageSize:a,page:1});else return this.take()},sort:function(a){if(a!==k)this._query({sort:a});else return this._sort},filter:function(a){if(a===k)return this._filter;this.trigger("reset");this._query({filter:a,page:1})},group:function(a){if(a!==k)this._query({group:a});else return this._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a){if(a!==k)this._query({aggregate:a});else return this._aggregate},aggregates:function(){var a=this._aggregateResult;N(a)&&(a=this._emptyAggregates(this.aggregate()));return a},_emptyAggregates:function(a){var d={};if(!N(a)){var c={};Z(a)||(a=[a]);for(var b=0;b<a.length;b++)c[a[b].aggregate]=0,d[a[b].field]=c}return d},_wrapInEmptyGroup:function(a){var d=this.group(),c,b,g;for(g=d.length-1;0<=g;g--)b=d[g],c={value:a.get(b.field),field:b.field,items:c?[c]:[a],hasSubgroups:!!c,aggregates:this._emptyAggregates(b.aggregates)};return c},totalPages:function(){var a=this.pageSize()||this.total();return ba.ceil((this.total()||0)/a)},inRange:function(a,d){var c=ba.min(a+d,this.total());return!this.options.serverPaging&&0<this._data.length?!0:0<this._findRange(a,c).length},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(a,d){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=!0;a=ba.min(a||0,this.total());var c=this,b=ba.max(ba.floor(a/d),0)*d,g=ba.min(b+d,c.total()),e;e=c._findRange(a,ba.min(a+d,c.total()));if(e.length){c._pending=k;c._skip=a>c.skip()?ba.min(g,(c.totalPages()-1)*c.take()):b;c._currentRangeStart=a;c._take=d;var r=c.options.serverPaging,w=c.options.serverSorting,f=c.options.serverFiltering,H=c.options.serverAggregates;try{c.options.serverPaging=!0,c._isServerGrouped()||c.group()&&c.group().length||(c.options.serverSorting=!0),c.options.serverFiltering=!0,c.options.serverPaging=!0,c.options.serverAggregates=!0,r&&(c._detachObservableParents(),c._data=e=c._observe(e)),c._process(e)}finally{c.options.serverPaging=r,c.options.serverSorting=w,c.options.serverFiltering=f,c.options.serverAggregates=H}}else d!==k&&(c._rangeExists(b,g)?b<a&&c.prefetch(g,d,function(){c.range(a,d)}):c.prefetch(b,d,function(){a>b&&g<c.total()&&!c._rangeExists(g,ba.min(g+d,c.total()))?c.prefetch(g,d,function(){c.range(a,d)}):c.range(a,d)}))},_findRange:function(a,d){var c=this._ranges,b,g=[],e,r,w,f,H;b=this.options;var l=b.serverSorting||b.serverPaging||b.serverFiltering||b.serverGrouping||b.serverAggregates,h,G;e=0;for(G=c.length;e<G;e++)if(b=c[e],a>=b.start&&a<=b.end){for(h=0;e<G;e++)if(b=c[e],w=this._flatData(b.data,!0),w.length&&a+h>=b.start&&(f=b.data,H=b.end,l||(f=x(this.group()||[]).concat(z(this.sort()||[])),r=this._queryProcess(b.data,{sort:f,filter:this.filter()}),w=f=r.data,r.total!==k&&(H=r.total)),r=0,a+h>b.start&&(r=a+h-b.start),w=w.length,H>d&&(w-=H-d),h+=w-r,g=this._mergeGroups(g,f,r,w),d<=b.end&&h==d-a))return g;break}return[]},_mergeGroups:function(a,d,c,b){if(this._isServerGrouped()){d=d.toJSON();var g;a.length&&(g=a[a.length-1]);D(g,d,c,b);return a.concat(d)}return a.concat(d.slice(c,b))},skip:function(){return this._skip===k?this._page!==k?(this._page-1)*(this.take()||1):k:this._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,d,c,b){var g=this,e=g._timeStamp();return function(v){var r=!1,w={start:a,end:d,data:[],timestamp:g._timeStamp()},f,H,l;g._dequeueRequest();g.trigger("requestEnd",{response:v,type:"read"});v=g.reader.parse(v);l=g._readData(v);if(l.length){f=0;for(H=g._ranges.length;f<H;f++)if(g._ranges[f].start===a){r=!0;w=g._ranges[f];break}r||g._ranges.push(w)}w.data=g._observe(l);w.end=w.start+g._flatData(w.data,!0).length;g._ranges.sort(function(a,d){return a.start-d.start});g._total=g.reader.total(v);if(b||e>=g._currentRequestTimeStamp||!g._skipRequestsInProgress)c&&l.length?c():g.trigger("change",{})}},prefetch:function(a,d,c){var b=this,g=ba.min(a+d,b.total()),e={take:d,skip:a,page:a/d+1,pageSize:d,sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate};b._rangeExists(a,g)?c&&c():(clearTimeout(b._timeout),b._timeout=setTimeout(function(){b._queueRequest(e,function(){b.trigger("requestStart",{type:"read"})?b._dequeueRequest():b.transport.read({data:b._params(e),success:b._prefetchSuccessHandler(a,g,c),error:function(){var a=ya.call(arguments);b.error.apply(b,a)}})})},100))},_multiplePrefetch:function(a,d,c){var b=ba.min(a+d,this.total());d={take:d,skip:a,page:a/d+1,pageSize:d,sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate};this._rangeExists(a,b)?c&&c():this.trigger("requestStart",{type:"read"})||this.transport.read({data:this._params(d),success:this._prefetchSuccessHandler(a,b,c,!0)})},_rangeExists:function(a,d){var c=this._ranges,b,g;b=0;for(g=c.length;b<g;b++)if(c[b].start<=a&&c[b].end>=d)return!0;return!1},_removeModelFromRanges:function(a){for(var c,b,g,v=0,e=this._ranges.length;v<e&&(g=this._ranges[v],this._eachItem(g.data,function(g){(c=d(g,a))&&(b=!0)}),!b);v++);},_updateRangesLength:function(){for(var a=0,d,c,b=0,g=this._ranges.length;b<g;b++)d=this._ranges[b],d.start-=a,c=this._flatData(d.data,!0).length,a=d.end-c,d.end=d.start+c}}),Pa={create:function(a,d,c){var g,v=a.transport?b.extend({},a.transport):null;v?(v.read="string"===typeof v.read?{url:v.read}:v.read,"jsdo"===a.type&&(v.dataSource=c),a.type&&(R.data.transports=R.data.transports||{},R.data.schemas=R.data.schemas||{},R.data.transports[a.type]?ha(R.data.transports[a.type])?v=K(!0,{},R.data.transports[a.type],v):g=new R.data.transports[a.type](K(v,{data:d})):R.logToConsole("Unknown DataSource transport type '"+a.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),a.schema=K(!0,{},R.data.schemas[a.type],a.schema)),g||(g=ga(v.read)?v:new ua(v))):g=new ta({data:a.data||[]});return g}};ma.create=function(a){if(Z(a)||a instanceof la)a={data:a};a=a||{};var d=a.data,c=a.fields,g=a.table,v=a.select,e={},r;if(!d&&c&&!a.transport)if(g){for(var d=(d=b(g)[0].tBodies[0])?d.rows:[],w=c.length,f=[],H,l,h,G,g=0,v=d.length;g<v;g++){l={};G=!0;H=d[g].cells;for(r=0;r<w;r++)h=H[r],"th"!==h.nodeName.toLowerCase()&&(G=!1,l[c[r].field]=h.innerHTML);G||f.push(l)}d=f}else if(v){d=b(v)[0];g=d.options;v=c[0];r=c[1];w=[];f=0;for(H=g.length;f<H;f++)h={},l=g[f],G=l.parentNode,G===d&&(G=null),l.disabled||G&&G.disabled||(G&&(h.optgroup=G.label),h[v.field]=l.text,G=(G=l.attributes.value)&&G.specified?l.value:l.text,h[r.field]=G,w.push(h));d=w;a.group===k&&d[0]&&d[0].optgroup!==k&&(a.group="optgroup")}if(R.data.Model&&c&&(!a.schema||!a.schema.model)){g=0;for(v=c.length;g<v;g++)r=c[g],r.type&&(e[r.field]=r);N(e)||(a.schema=K(!0,a.schema,{model:{fields:e}}))}a.data=d;a.select=null;a.table=null;return a instanceof ma?a:new ma(a)};var La=U.define({idField:"id",init:function(a){var d=this.hasChildren||a&&a.hasChildren,c="items";R.data.Model.fn.init.call(this,a);"string"===typeof this.children&&(c=this.children);c={schema:{data:c,model:{hasChildren:d,id:this.idField,fields:this.fields}}};"string"!==typeof this.children&&K(c,this.children);c.data=a;d||(d=c.schema.data);"string"===typeof d&&(d=R.getter(d));ga(d)&&(this.hasChildren=!!d.call(this,this));this._childrenOptions=c;this.hasChildren&&this._initChildren();this._loaded=!(!a||!a._loaded)},_initChildren:function(){var a=this,d,c,b;a.children instanceof ka||(d=a.children=new ka(a._childrenOptions),c=d.transport,b=c.parameterMap,c.parameterMap=function(d,c){d[a.idField||"id"]=a.id;b&&(d=b(d,c));return d},d.parent=function(){return a},d.bind("change",function(d){d.node=d.node||a;a.trigger("change",d)}),d.bind("error",function(d){var c=a.parent();c&&(d.node=d.node||a,c.trigger("error",d))}),a._updateChildrenField())},append:function(a){this._initChildren();this.loaded(!0);this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),d=0;a&&a.parentNode;)d++,a=a.parentNode?a.parentNode():null;return d},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0;this._updateChildrenField()},load:function(){var a={},d="_query",c;this.hasChildren?(this._initChildren(),c=this.children,a[this.idField||"id"]=this.id,this._loaded||(c._data=k,d="read"),c.one("change",Q(this._childrenLoaded,this)),c=c[d](a)):this.loaded(!0);return c||b.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(a){if(a!==k)this._loaded=a;else return this._loaded},shouldSerialize:function(a){return U.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),ka=ma.extend({init:function(a){var d=La.define({children:a});ma.fn.init.call(this,K(!0,{},{schema:{modelBase:d,model:d}},a));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind("error",function(d){a.trigger("error",d)})},remove:function(a){var d=a.parentNode(),c=this;d&&d._initChildren&&(c=d.children);a=ma.fn.remove.call(c,a);d&&!c.data().length&&(d.hasChildren=!1);return a},success:Y("success"),data:Y("data"),insert:function(a,d){var c=this.parent();c&&c._initChildren&&(c.hasChildren=!0,c._initChildren());return ma.fn.insert.call(this,a,d)},_find:function(a,d){var c,b,g,e=this._data;if(e){if(g=ma.fn[a].call(this,d))return g;e=this._flatData(this._data);c=0;for(b=e.length;c<b;c++)if(g=e[c].children,g instanceof ka&&(g=g[a](d)))return g}},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});ka.create=function(a){a=(a=a&&a.push?{data:a}:a)||{};var d=a.data,c=a.fields,b=a.list;if(d&&d._dataSource)return d._dataSource;d||!c||a.transport||b&&(d=r(b,c));a.data=d;return a instanceof ka?a:new ka(a)};var W=R.Observable.extend({init:function(a,d,c){R.Observable.fn.init.call(this);this._prefetching=!1;this.dataSource=a;this.prefetch=!c;var b=this;a.bind("change",function(){b._change()});a.bind("reset",function(){b._reset()});this._syncWithDataSource();this.setViewSize(d)},setViewSize:function(a){this.viewSize=a;this._recalculate()},at:function(a){var d=this.pageSize,c=!0;if(a>=this.total())return this.trigger("endreached",{index:a}),null;if(!this.useRanges)return this.dataSource.view()[a];if(this.useRanges){if(a<this.dataOffset||a>=this.skip+d)c=this.range(Math.floor(a/d)*d);a===this.prefetchThreshold&&this._prefetch();a===this.midPageThreshold?this.range(this.nextMidRange,!0):a===this.nextPageThreshold?this.range(this.nextFullRange):a===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange));if(c)return this.dataSource.at(a-this.dataOffset);this.trigger("endreached",{index:a});return null}},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a=this,d=a.pageSize,c=a.skip-a.viewSize+d,b=ba.max(ba.floor(c/d),0)*d;this.offset=c;this.dataSource.prefetch(b,d,function(){a._goToRange(c,!0)})},range:function(a,d){if(this.offset===a)return!0;var c=this,b=this.pageSize,g=ba.max(ba.floor(a/b),0)*b,e=this.dataSource;d&&(g+=b);if(e.inRange(a,b))this.offset=a,this._recalculate(),this._goToRange(a);else if(this.prefetch)return e.prefetch(g,b,function(){c.offset=a;c._recalculate();c._goToRange(a,!0)}),!1;return!0},syncDataSource:function(){var a=this.offset;this.offset=null;this.range(a)},destroy:function(){this.unbind()},_prefetch:function(){var a=this,d=this.pageSize,c=this.skip+d,b=this.dataSource;b.inRange(c,d)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:c,take:d}),b.prefetch(c,d,function(){a._prefetching=!1;a.trigger("prefetched",{skip:c,take:d})}))},_goToRange:function(a,d){this.offset===a&&(this.dataOffset=a,this._expanding=d,this.dataSource.range(a,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var a=this.dataSource;this.length=this.useRanges?a.lastRange().end:a.view().length;this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset}));this.trigger("resize");this._expanding&&this.trigger("expand");delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid();this.dataOffset=this.offset=a.skip()||0;this.pageSize=a.pageSize();this.useRanges=a.options.serverPaging},_recalculate:function(){var a=this.pageSize,d=this.offset,c=this.viewSize,b=Math.ceil(d/a)*a;this.skip=b;this.midPageThreshold=b+a-1;this.nextPageThreshold=b+c-1;this.prefetchThreshold=b+Math.floor(a/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=b+a-c;this.nextFullRange=b;this.previousMidRange=d-c;this.previousFullRange=b-a}}),Ea=R.Observable.extend({init:function(a,d){var c=this;R.Observable.fn.init.call(c);this.dataSource=a;this.batchSize=d;this._total=0;this.buffer=new W(a,3*d);this.buffer.bind({endreached:function(a){c.trigger("endreached",{index:a.index})},prefetching:function(a){c.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){c.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){c._total=0;c.trigger("reset")},resize:function(){c._total=Math.ceil(this.length/c.batchSize);c.trigger("resize",{total:c.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a){var d=this.buffer;a*=this.batchSize;var c=this.batchSize,b=[],g;d.offset>a&&d.at(d.offset-1);for(var e=0;e<c;e++){g=d.at(a+e);if(null===g)break;b.push(g)}return b},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});K(!0,R.data,{readers:{json:ra},Query:u,DataSource:ma,HierarchicalDataSource:ka,Node:La,ObservableObject:S,ObservableArray:la,LazyObservableArray:ia,LocalTransport:ta,RemoteTransport:ua,Cache:Ga,DataReader:ra,Model:U,Buffer:W,BatchBuffer:Ea})})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.binder",["kendo.core","kendo.data"],b)})(function(){(function(b,k){function q(d,c,g){return a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d;this._dataBinding=D(this.dataBinding,this);this._dataBound=D(this.dataBound,this);this._itemChange=D(this.itemChange,this)},itemChange:function(a){z(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings[d]._parents()))},dataBinding:function(a){var d;d=this.widget;var c=a.removedItems||d.items();a=0;for(d=c.length;a<d;a++)F(c[a],!1)},_ns:function(a){a=a||x.ui;var d=[x.ui,x.dataviz.ui,x.mobile.ui];d.splice(b.inArray(a,d),1);d.unshift(a);return x.rolesFromNamespaces(d)},dataBound:function(a){var b,g;b=this.widget;var e=a.addedItems||b.items();b=b[c];var r,w;g=x.data.HierarchicalDataSource;if(!(g&&b instanceof g)&&e.length)for(r=a.addedDataItems||b.flatView(),w=this.bindings[d]._parents(),b=0,g=r.length;b<g;b++)z(e[b],r[b],this._ns(a.ns),[r[b]].concat(w))},refresh:function(a){var b=this.widget,e;a=a||{};if(!a.action&&(this.destroy(),b.bind("dataBinding",this._dataBinding),b.bind("dataBound",this._dataBound),b.bind("itemChange",this._itemChange),a=this.bindings[d].get(),b[c]instanceof x.data.DataSource&&b[c]!=a))if(a instanceof x.data.DataSource)b[g](a);else if(a&&a._dataSource)b[g](a._dataSource);else b[c].data(a),a=x.ui.Select&&b instanceof x.ui.Select,e=x.ui.MultiSelect&&b instanceof x.ui.MultiSelect,this.bindings.value&&(a||e)&&b.value(E(this.bindings.value.get(),b.options.dataValueField))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding);a.unbind("dataBound",this._dataBound);a.unbind("itemChange",this._itemChange)}})}function B(a){var d={},c,b,g,e,w;w=a.match(J);a=0;for(c=w.length;a<c;a++)b=w[a],g=b.indexOf(":"),e=b.substring(0,g),b=b.substring(g+1),"{"==b.charAt(0)&&(b=B(b)),d[e]=b;return d}function u(a,d,c){var b,g={};for(b in a)g[b]=new c(d,a[b]);return g}function z(a,d,b,g){var e=a.getAttribute("data-"+x.ns+"role"),r=a.getAttribute("data-"+x.ns+"bind"),f=a.children,H=[],h=!0,n={},p;g=g||[d];(e||r)&&y(a,!1);e&&(p=(p=x.initWidget(a,{},b))?new P(p):void 0);r&&(r=B(r.replace(O,"")),p||(n=x.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:"change",valuePrimitive:!1,autoBind:!0}),n.roles=b,p=new G(a,n)),p.source=d,e=u(r,g,l),n.template&&(e.template=new w(g,"",n.template)),e.click&&(r.events=r.events||{},r.events.click=r.click,e.click.destroy(),delete e.click),e.source&&(h=!1),r.attr&&(e.attr=u(r.attr,g,l)),r.style&&(e.style=u(r.style,g,l)),r.events&&(e.events=u(r.events,g,c)),r.css&&(e.css=u(r.css,g,l)),p.bind(e));p&&(a.kendoBindingTarget=p);if(h&&f){for(a=0;a<f.length;a++)H[a]=f[a];for(a=0;a<H.length;a++)z(H[a],d,b,g)}}function C(a,d){var c,g,e,w=x.rolesFromNamespaces([].slice.call(arguments,2));d=x.observable(d);a=b(a);c=0;for(g=a.length;c<g;c++)e=a[c],1===e.nodeType&&z(e,d,w)}function y(a,d){var c=a.kendoBindingTarget;c&&(c.destroy(),f?delete a.kendoBindingTarget:a.removeAttribute?a.removeAttribute("kendoBindingTarget"):a.kendoBindingTarget=null);d&&(c=x.widgetInstance(b(a)))&&"function"===typeof c.destroy&&c.destroy()}function F(a,d){y(a,d);A(a,d)}function A(a,d){var c=a.children;if(c)for(var b=0,g=c.length;b<g;b++)F(c[b],d)}function E(a,d){var c=[],b=0,g,w;if(!d)return a;if(a instanceof e){for(g=a.length;b<g;b++)w=a[b],c[b]=w.get?w.get(d):w[d];a=c}else a instanceof m&&(a=a.get(d));return a}var x=window.kendo,t=x.Observable,m=x.data.ObservableObject,e=x.data.ObservableArray,h={}.toString,p={},n=x.Class,D=b.proxy,f=!0;(function(){var a=document.createElement("a");try{delete a.test}catch(Y){f=!1}})();var l=t.extend({init:function(a,d){var c=this;t.fn.init.call(c);c.source=a[0];c.parents=a;c.path=d;c.dependencies={};c.dependencies[d]=!0;c.observable=c.source instanceof t;c._access=function(a){c.dependencies[a.field]=!0};c.observable&&(c._change=function(a){c.change(a)},c.source.bind("change",c._change))},_parents:function(){var a=this.parents,d=this.get();d&&"function"==typeof d.parent&&(d=d.parent(),0>b.inArray(d,a)&&(a=[d].concat(a)));return a},change:function(a){var d,c,b=a.field;if("this"===this.path)this.trigger("change",a);else for(d in this.dependencies)if(0===d.indexOf(b)&&(c=d.charAt(b.length),!c||"."===c||"["===c)){this.trigger("change",a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this.source,d=0,c=this.path,b=a;if(!this.observable)return b;this.start(this.source);for(b=a.get(c);b===k&&a;)a=this.parents[++d],a instanceof m&&(b=a.get(c));if(b===k)for(a=this.source;b===k&&a;)a=a.parent(),a instanceof m&&(b=a.get(c));"function"===typeof b&&(d=c.lastIndexOf("."),0<d&&(a=a.get(c.substring(0,d))),this.start(a),b=a!==this.source?b.call(a,this.source):b.call(a),this.stop(a));a&&a!==this.source&&(this.currentSource=a,a.unbind("change",this._change).bind("change",this._change));this.stop(this.source);return b},set:function(a){var d=this.currentSource||this.source,c=x.getter(this.path)(d);"function"===typeof c?d!==this.source?c.call(d,this.source,a):c.call(d,a):d.set(this.path,a)},destroy:function(){this.observable&&(this.source.unbind("change",this._change),this.currentSource&&this.currentSource.unbind("change",this._change));this.unbind()}}),c=l.extend({get:function(){var a=this.source,d=this.path,c=0,b;for(b=a.get(d);!b&&a;)a=this.parents[++c],a instanceof m&&(b=a.get(d));return D(b,a)}}),w=l.extend({init:function(a,d,c){l.fn.init.call(this,a,d);this.template=c},render:function(a){this.start(this.source);a=x.render(this.template,a);this.stop(this.source);return a}}),a=n.extend({init:function(a,d,c){this.element=a;this.bindings=d;this.options=c},bind:function(a,d){var c=this;a=d?a[d]:a;a.bind("change",function(a){c.refresh(d||a)});c.refresh(d)},destroy:function(){}}),d=a.extend({dataType:function(){return(this.element.getAttribute("data-type")||this.element.type||"text").toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(a,d){"date"==d?a=x.parseDate(a,"yyyy-MM-dd"):"datetime-local"==d?a=x.parseDate(a,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==d?a=x.parseFloat(a):"boolean"==d&&(a=a.toLowerCase(),a=null!==x.parseFloat(a)?!!x.parseFloat(a):"true"===a.toLowerCase());return a}});p.attr=a.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}});p.css=a.extend({init:function(d,c,b){a.fn.init.call(this,d,c,b);this.classes={}},refresh:function(a){var d=b(this.element);(this.classes[a]=this.bindings.css[a].get())?d.addClass(a):d.removeClass(a)}});p.style=a.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()||""}});p.enabled=a.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}});p.readonly=a.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}});p.disabled=a.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}});p.events=a.extend({init:function(d,c,b){a.fn.init.call(this,d,c,b);this.handlers={}},refresh:function(a){var d=b(this.element),c=this.bindings.events[a],g=this.handlers[a];g&&d.off(a,g);g=this.handlers[a]=c.get();d.on(a,c.source,g)},destroy:function(){var a=b(this.element),d;for(d in this.handlers)a.off(d,this.handlers[d])}});p.text=a.extend({refresh:function(){var a=this.bindings.text.get(),d=this.element.getAttribute("data-format")||"";null==a&&(a="");b(this.element).text(x.toString(a,d))}});p.visible=a.extend({refresh:function(){this.bindings.visible.get()?this.element.style.display="":this.element.style.display="none"}});p.invisible=a.extend({refresh:function(){this.bindings.invisible.get()?this.element.style.display="none":this.element.style.display=""}});p.html=a.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});p.value=d.extend({init:function(a,c,g){d.fn.init.call(this,a,c,g);this._change=D(this.change,this);this.eventName=g.valueUpdate||"change";b(this.element).on(this.eventName,this._change);this._initChange=!1},change:function(){this._initChange="change"!=this.eventName;this.bindings.value.set(this.parsedValue());this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings.value.get();null==a&&(a="");var d=this.dataType();"date"==d?a=x.toString(a,"yyyy-MM-dd"):"datetime-local"==d&&(a=x.toString(a,"yyyy-MM-ddTHH:mm:ss"));this.element.value=a}this._initChange=!1},destroy:function(){b(this.element).off(this.eventName,this._change)}});p.source=a.extend({init:function(d,c,b){a.fn.init.call(this,d,c,b);d=this.bindings.source.get();d instanceof x.data.DataSource&&!1!==b.autoBind&&d.fetch()},refresh:function(a){var d=this.bindings.source.get();d instanceof e||d instanceof x.data.DataSource?(a=a||{},"add"==a.action?this.add(a.index,a.items):"remove"==a.action?this.remove(a.index,a.items):"itemchange"!=a.action&&this.render()):this.render()},container:function(){var a=this.element;"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]);return a},template:function(){var a=this.options,d=a.template,c=this.container().nodeName.toLowerCase();d||(d="select"==c?a.valueField||a.textField?x.format('\x3coption value\x3d"#:{0}#"\x3e#:{1}#\x3c/option\x3e',a.valueField||a.textField,a.textField||a.valueField):"\x3coption\x3e#:data#\x3c/option\x3e":"tbody"==c?"\x3ctr\x3e\x3ctd\x3e#:data#\x3c/td\x3e\x3c/tr\x3e":"ul"==c||"ol"==c?"\x3cli\x3e#:data#\x3c/li\x3e":"#:data#",d=x.template(d));return d},add:function(a,d){var c=this.container(),g,e,w,f,l=c.cloneNode(!1),h=c.children[a];b(l).html(x.render(this.template(),d));if(l.children.length)for(g=this.bindings.source._parents(),e=0,w=d.length;e<w;e++)f=l.children[0],c.insertBefore(f,h||null),z(f,d[e],this.options.roles,[d[e]].concat(g))},remove:function(a,d){var c,b=this.container();for(c=0;c<d.length;c++){var g=b.children[a];F(g,!0);b.removeChild(g)}},render:function(){var a=this.bindings.source.get(),d,c,g,w=this.container();d=this.template();if(null!=a)if(a instanceof x.data.DataSource&&(a=a.view()),a instanceof e||"[object Array]"===h.call(a)||(a=[a]),this.bindings.template){if(A(w,!0),b(w).html(this.bindings.template.render(a)),w.children.length)for(d=this.bindings.source._parents(),c=0,g=a.length;c<g;c++)z(w.children[c],a[c],this.options.roles,[a[c]].concat(d))}else b(w).html(x.render(d,a))}});p.input={checked:d.extend({init:function(a,c,g){d.fn.init.call(this,a,c,g);this._change=D(this.change,this);b(this.element).change(this._change)},change:function(){var a=this.element,d=this.value();if("radio"==a.type)d=this.parsedValue(),this.bindings.checked.set(d);else if("checkbox"==a.type){var a=this.bindings.checked.get(),c;if(a instanceof e){d=this.parsedValue();if(d instanceof Date)for(var b=0;b<a.length;b++){if(a[b]instanceof Date&&+a[b]===+d){c=b;break}}else c=a.indexOf(d);-1<c?a.splice(c,1):a.push(d)}else this.bindings.checked.set(d)}},refresh:function(){var a=this.bindings.checked.get(),d=a,c=this.dataType(),b=this.element;if("checkbox"==b.type)if(d instanceof e){c=-1;a=this.parsedValue();if(a instanceof Date)for(var g=0;g<d.length;g++){if(d[g]instanceof Date&&+d[g]===+a){c=g;break}}else c=d.indexOf(a);b.checked=0<=c}else b.checked=d;else"radio"==b.type&&null!=a&&("date"==c?a=x.toString(a,"yyyy-MM-dd"):"datetime-local"==c&&(a=x.toString(a,"yyyy-MM-ddTHH:mm:ss")),b.checked=b.value===a.toString()?!0:!1)},value:function(){var a=this.element,d=a.value;"checkbox"==a.type&&(d=a.checked);return d},destroy:function(){b(this.element).off("change",this._change)}})};p.select={source:p.source.extend({refresh:function(a){var d=this.bindings.source.get();if(d instanceof e||d instanceof x.data.DataSource)if(a=a||{},"add"==a.action)this.add(a.index,a.items);else if("remove"==a.action)this.remove(a.index,a.items);else{if("itemchange"==a.action||a.action===k)this.render(),this.bindings.value&&this.bindings.value&&(a=E(this.bindings.value.get(),b(this.element).data("valueField")),null===a?this.element.selectedIndex=-1:this.element.value=a)}else this.render()}}),value:d.extend({init:function(a,c,g){d.fn.init.call(this,a,c,g);this._change=D(this.change,this);b(this.element).change(this._change)},parsedValue:function(){var a=this.dataType(),d=[],c,b,g,e;g=0;for(e=this.element.options.length;g<e;g++)b=this.element.options[g],b.selected&&(c=(c=b.attributes.value)&&c.specified?b.value:b.text,d.push(this._parseValue(c,a)));return d},change:function(){var a=[],d=this.element,c=this.options.valueField||this.options.textField,b=this.options.valuePrimitive,g,w,f,l;f=0;for(l=d.options.length;f<l;f++)g=d.options[f],g.selected&&(w=(w=g.attributes.value)&&w.specified?g.value:g.text,a.push(this._parseValue(w,this.dataType())));if(c)for(d=this.bindings.source.get(),d instanceof x.data.DataSource&&(d=d.view()),g=0;g<a.length;g++)for(f=0,l=d.length;f<l;f++)if(w=this._parseValue(d[f].get(c),this.dataType()),String(w)===a[g]){a[g]=d[f];break}w=this.bindings.value.get();w instanceof e?w.splice.apply(w,[0,w.length].concat(a)):b||!(w instanceof m||null===w||w===k)&&c?this.bindings.value.set(a[0].get(c)):this.bindings.value.set(a[0])},refresh:function(){var a;a=this.element;var d=a.options,c=this.bindings.value.get(),b=c,g=this.options.valueField||this.options.textField,w=this.dataType(),f;b instanceof e||(b=new e([c]));a.selectedIndex=-1;for(var l=0;l<b.length;l++)for(c=b[l],g&&c instanceof m&&(c=c.get(g)),"date"==w?c=x.toString(b[l],"yyyy-MM-dd"):"datetime-local"==w&&(c=x.toString(b[l],"yyyy-MM-ddTHH:mm:ss")),a=0;a<d.length;a++)f=d[a].value,""===f&&""!==c&&(f=d[a].text),null!=c&&f==c.toString()&&(d[a].selected=!0)},destroy:function(){b(this.element).off("change",this._change)}})};p.widget={events:a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d;this.handlers={}},refresh:function(a){var d=this.bindings.events[a],c=this.handlers[a];c&&this.widget.unbind(a,c);c=d.get();this.handlers[a]=function(a){a.data=d.source;c(a);a.data===d.source&&delete a.data};this.widget.bind(a,this.handlers[a])},destroy:function(){for(var a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d;this._change=D(this.change,this);this.widget.bind("change",this._change)},change:function(){this.bindings.checked.set(this.value())},refresh:function(){this.widget.check(!0===this.bindings.checked.get())},value:function(){var a=this.element,d=a.value;if("on"==d||"off"==d)d=a.checked;return d},destroy:function(){this.widget.unbind("change",this._change)}}),visible:a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:a.extend({init:function(d,c,b){a.fn.init.call(this,d.element[0],c,b);this.widget=d},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:q("source","dataSource","setDataSource"),value:a.extend({init:function(d,c,g){a.fn.init.call(this,d.element[0],c,g);this.widget=d;this._change=b.proxy(this.change,this);this.widget.first("change",this._change);d=this.bindings.value.get();this._valueIsObservableObject=!g.valuePrimitive&&(null==d||d instanceof m);this._valueIsObservableArray=d instanceof e;this._initChange=!1},_source:function(){var a;if(this.widget.dataItem&&(a=this.widget.dataItem())&&a instanceof m)return[a];this.bindings.source&&(a=this.bindings.source.get());if(!a||a instanceof x.data.DataSource)a=this.widget.dataSource.flatView();return a},change:function(){var a=this.widget.value(),d=this.options.dataValueField||this.options.dataTextField,c="[object Array]"===h.call(a),b=this._valueIsObservableObject,g,e,w=[],f,l,G,n,p;this._initChange=!0;if(d)if(""===a&&(b||this.options.valuePrimitive))a=null;else{p=this._source();c&&(e=a.length,w=a.slice(0));G=0;for(n=p.length;G<n;G++)if(f=p[G],l=f.get(d),c)for(g=0;g<e;g++){if(l==w[g]){w[g]=f;break}}else if(l==a){a=b?f:l;break}w[0]&&(a=this._valueIsObservableArray?w:b||!d?w[0]:w[0].get(d))}this.bindings.value.set(a);this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.widget,d=a.options,c=d.dataTextField,b=d.dataValueField||c,g=this.bindings.value.get(),w=d.text||"",f=0,l,h=[];g===k&&(g=null);if(b)if(g instanceof e){for(l=g.length;f<l;f++)h[f]=g[f].get(b);g=h}else g instanceof m&&(w=g.get(c),g=g.get(b));!1!==d.autoBind||d.cascadeFrom||!a.listView||a.listView.bound()?a.value(g):(c!==b||w||(w=g),w||!g&&0!==g||!d.valuePrimitive?a._preselect(g,w):a.value(g))}this._initChange=!1},destroy:function(){this.widget.unbind("change",this._change)}}),gantt:{dependencies:q("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:a.extend({init:function(d,c,g){a.fn.init.call(this,d.element[0],c,g);this.widget=d;this._change=b.proxy(this.change,this);this.widget.first("change",this._change);this._initChange=!1},change:function(){var a=this.bindings.value.get(),d=this.options.valuePrimitive,c=d?this.widget.value():this.widget.dataItems(),b=this.options.dataValueField||this.options.dataTextField,c=c.slice(0);this._initChange=!0;if(a instanceof e){for(var w=[],f=c.length,l=0,h,G=a[l],p,n,D;G!==k;){D=!1;for(h=0;h<f;h++)if(d?p=c[h]==G:(p=c[h],p=p.get?p.get(b):p,p=p==(G.get?G.get(b):G)),p){c.splice(h,1);--f;D=!0;break}D?l+=1:(w.push(G),g(a,l,1),n=l);G=a[l]}g(a,a.length,0,c);w.length&&a.trigger("change",{action:"remove",items:w,index:n});c.length&&a.trigger("change",{action:"add",items:c,index:a.length-1})}else this.bindings.value.set(c);this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.options,d=this.widget,c=a.dataValueField||a.dataTextField,b=this.bindings.value.get(),g=b,w=0,f,l=[],h;b===k&&(b=null);if(c)if(b instanceof e){for(f=b.length;w<f;w++)h=b[w],l[w]=h.get?h.get(c):h;b=l}else b instanceof m&&(b=b.get(c));!1!==a.autoBind||!0===a.valuePrimitive||d._isBound()?d.value(b):d._preselect(g,b)}},destroy:function(){this.widget.unbind("change",this._change)}})},scheduler:{source:q("source","dataSource","setDataSource").extend({dataBound:function(a){var d,c;d=this.widget;var b=a.addedItems||d.items(),g,e;if(b.length)for(g=a.addedDataItems||d.dataItems(),e=this.bindings.source._parents(),d=0,c=g.length;d<c;d++)z(b[d],g[d],this._ns(a.ns),[g[d]].concat(e))}})}};var g=function(a,d,c,b){b=b||[];c=c||0;var g=b.length,e=a.length,w=[].slice.call(a,d+c),f=w.length;if(g){g=d+g;for(c=0;d<g;d++)a[d]=b[c],c++;a.length=g}else if(c)for(a.length=d,c+=d;d<c;)delete a[--c];if(f){f=d+f;for(c=0;d<f;d++)a[d]=w[c],c++;a.length=f}for(d=a.length;d<e;)delete a[d],d++},G=n.extend({init:function(a,d){this.target=a;this.options=d;this.toDestroy=[]},bind:function(a){var d,c,b,g,e,w,f=this instanceof P,l=this.binders();for(d in a)"value"==d?c=!0:"source"==d?b=!0:"events"!=d||f?"checked"==d?e=!0:"css"==d?w=!0:this.applyBinding(d,a,l):g=!0;b&&this.applyBinding("source",a,l);c&&this.applyBinding("value",a,l);e&&this.applyBinding("checked",a,l);g&&!f&&this.applyBinding("events",a,l);w&&!f&&this.applyBinding("css",a,l)},binders:function(){return p[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(a,d,c){c=c[a]||p[a];var b=this.toDestroy,g,e=d[a];if(c)if(c=new c(this.target,d,this.options),b.push(c),e instanceof l)c.bind(e),b.push(e);else for(g in e)c.bind(e,g),b.push(e[g]);else if("template"!==a)throw Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element");},destroy:function(){var a,d,c=this.toDestroy;a=0;for(d=c.length;a<d;a++)c[a].destroy()}}),P=G.extend({binders:function(){return p.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(a,d,c){c=c[a]||p.widget[a];var b=this.toDestroy,g,e=d[a];if(c)if(c=new c(this.target,d,this.target.options),b.push(c),e instanceof l)c.bind(e),b.push(e);else for(g in e)c.bind(e,g),b.push(e[g]);else throw Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");}}),J=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,O=/\s/g;x.unbind=function(a){var d,c;a=b(a);d=0;for(c=a.length;d<c;d++)F(a[d],!1)};x.bind=C;x.data.binders=p;x.data.Binder=a;x.notify=function(a,d){var c=a.element,b=c[0].kendoBindingTarget;b&&C(c,b.source,d)};x.observable=function(a){a instanceof m||(a=new m(a));return a};x.observableHierarchy=function(a){function d(a){var c,b;for(c=0;c<a.length;c++)a[c]._initChildren(),b=a[c].children,b.fetch(),a[c].items=b.data(),d(a[c].items)}a=x.data.HierarchicalDataSource.create(a);a.fetch();d(a.data());a._data._dataSource=a;return a._data}})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.popup",["kendo.core"],b)})(function(){(function(b,k){function q(e,p){return e===p||b.contains(e,p)}var B=window.kendo,u=B.ui,z=u.Widget,C=B.support,y=B.getOffset,F=/k-state-border-(\w+)/,A=b(document.documentElement),E=b(window),x=C.transitions.css+"transform",t=b.extend,m="font-size font-family font-stretch font-style font-weight line-height".split(" "),e=z.extend({init:function(e,p){var h=this,D;p=p||{};p.isRtl&&(p.origin=p.origin||"bottom right",p.position=p.position||"top right");z.fn.init.call(h,e,p);e=h.element;p=h.options;h.collisions=p.collision?p.collision.split(" "):[];h.downEvent=B.applyEventMap("down",B.guid());1===h.collisions.length&&h.collisions.push(h.collisions[0]);D=b(h.options.anchor).closest(".k-popup,.k-group").filter(":not([class^\x3dkm-])");p.appendTo=b(b(p.appendTo)[0]||D[0]||"body");h.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!p.isRtl).css({position:"absolute"}).appendTo(p.appendTo).on("mouseenter.kendoPopup",function(){h._hovered=!0}).on("mouseleave.kendoPopup",function(){h._hovered=!1});h.wrapper=b();!1===p.animation&&(p.animation={open:{effects:{}},close:{hide:!0,effects:{}}});t(p.animation.open,{complete:function(){h.wrapper.css({overflow:"visible"});h._activated=!0;h._trigger("activate")}});t(p.animation.close,{complete:function(){h._animationClose()}});h._mousedownProxy=function(b){h._mousedown(b)};h._resizeProxy=C.mobileOS.android?function(b){setTimeout(function(){h._resize(b)},600)}:function(b){h._resize(b)};if(p.toggleTarget)b(p.toggleTarget).on(p.toggleEvent+".kendoPopup",b.proxy(h.toggle,h))},events:["open","activate","close","deactivate"],options:{name:"Popup",toggleEvent:"click",origin:"bottom left",position:"top left",anchor:"body",appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var b=this.wrapper.data("location");this.wrapper.hide();b&&this.wrapper.css(b);"body"!=this.options.anchor&&this._hideDirClass();this._closing=!1;this._trigger("deactivate")},destroy:function(){var e=this.options,p=this.element.off(".kendoPopup");z.fn.destroy.call(this);e.toggleTarget&&b(e.toggleTarget).off(".kendoPopup");e.modal||(A.unbind(this.downEvent,this._mousedownProxy),this._toggleResize(!1));B.destroy(this.element.children());p.removeData();e.appendTo[0]===document.body&&(e=p.parent(".k-animation-container"),e[0]?e.remove():p.remove())},open:function(e,p){var h={isFixed:!isNaN(parseInt(p,10)),x:e,y:p},D=this.element,f=this.options,l;l=b(f.anchor);var c=D[0]&&D.hasClass("km-widget");this.visible()||(f.copyAnchorStyles&&(c&&"font-size"==m[0]&&m.shift(),D.css(B.getComputedStyles(l[0],m))),D.data("animating")||this._trigger("open")||(this._activated=!1,f.modal||(A.unbind(this.downEvent,this._mousedownProxy).bind(this.downEvent,this._mousedownProxy),this._toggleResize(!1),this._toggleResize(!0)),this.wrapper=l=B.wrap(D,f.autosize).css({overflow:"hidden",display:"block",position:"absolute"}),C.mobileOS.android&&l.css(x,"translatez(0)"),l.css("position"),b(f.appendTo)[0]==document.body&&l.css("top","-10000px"),this.flipped=this._position(h),h=this._openAnimation(),"body"!=f.anchor&&this._showDirClass(h),D.data("effects",h.effects).kendoStop(!0).kendoAnimate(h)))},_openAnimation:function(){var b=t(!0,{},this.options.animation.open);b.effects=B.parseEffects(b.effects,this.flipped);return b},_hideDirClass:function(){var e=b(this.options.anchor),p=((e.attr("class")||"").match(F)||["","down"])[1],n="k-state-border-"+p;e.removeClass(n).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").removeClass("k-state-active").removeClass(n);this.element.removeClass("k-state-border-"+B.directions[p].reverse)},_showDirClass:function(e){e=e.effects.slideIn?e.effects.slideIn.direction:"down";var h="k-state-border-"+e;b(this.options.anchor).addClass(h).children(".k-picker-wrap, .k-dropdown-wrap, .k-link").addClass("k-state-active").addClass(h);this.element.addClass("k-state-border-"+B.directions[e].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?"close":"open"]()},visible:function(){return this.element.is(":visible")},close:function(e){var h=this.options,n,D,f;this.visible()&&(n=this.wrapper[0]?this.wrapper:B.wrap(this.element).hide(),this._toggleResize(!1),this._closing||this._trigger("close")?this._toggleResize(!0):(this.element.find(".k-popup").each(function(){var f=b(this).data("kendoPopup");f&&f.close(e)}),A.unbind(this.downEvent,this._mousedownProxy),e?h={hide:!0,effects:{}}:(h=t(!0,{},h.animation.close),D=this.element.data("effects"),f=h.effects,!f&&!B.size(f)&&D&&B.size(D)&&(h.effects=D,h.reverse=!0),this._closing=!0),this.element.kendoStop(!0),n.css({overflow:"hidden"}),this.element.kendoAnimate(h)))},_trigger:function(b){return this.trigger(b,{type:b})},_resize:function(b){var e=this;-1!==C.resize.indexOf(b.type)?(clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e._position();e._resizeTimeout=null},50)):(!e._hovered||e._activated&&e.element.hasClass("k-list-container"))&&e.close()},_toggleResize:function(b){b=b?"on":"off";var e=C.resize;C.mobileOS.ios||C.mobileOS.android||(e+=" scroll");this._scrollableParents()[b]("scroll",this._resizeProxy);E[b](e,this._resizeProxy)},_mousedown:function(e){var h=this.element[0],n=this.options,D=b(n.anchor)[0],n=n.toggleTarget,f=B.eventTarget(e),l=b(f).closest(".k-popup"),c=l.parent().parent(".km-shim").length,l=l[0];!c&&l&&l!==this.element[0]||"popover"===b(e.target).closest("a").data("rel")||q(h,f)||q(D,f)||n&&q(b(n)[0],f)||this.close()},_fit:function(b,e,n){var h=0;b+e>n&&(h=n-(b+e));0>b&&(h=-b);return h},_flip:function(b,e,n,D,f,l,c){var w=0;l!==f&&"center"!==l&&"center"!==f&&(b+(c||e)>D&&(w+=-(n+e)),0>b+w&&(w+=n+e));return w},_scrollableParents:function(){return b(this.options.anchor).parentsUntil("body").filter(function(b,e){return B.isScrollable(e)})},_position:function(e){var h=this.element,n=this.wrapper,D=this.options,f=b(D.viewport),l=f.offset(),c=b(D.anchor),w=D.origin.toLowerCase().split(" "),a=D.position.toLowerCase().split(" "),d=this.collisions,g=C.zoomLevel(),G,m,J=10002;m=!!(f[0]==window&&window.innerWidth&&1.02>=g);var O=0;G=document.documentElement;var H,k,r;k=m?window.innerWidth:f.width();r=m?window.innerHeight:f.height();m&&0<G.scrollHeight-G.clientHeight&&(k-=B.support.scrollbar());G=c.parents().filter(n.siblings());if(G[0])if(m=Math.max(Number(G.css("zIndex")),0))J=m+10;else for(G=c.parentsUntil(G),H=G.length;O<H;O++)(m=Number(b(G[O]).css("zIndex")))&&J<m&&(J=m+10);n.css("zIndex",J);e&&e.isFixed?n.css({left:e.x,top:e.y}):n.css(this._align(w,a));e=y(n,"position",c[0]===n.offsetParent()[0]);J=y(n);c.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(e=y(n,"position",!0),J=y(n));f[0]===window?(J.top-=window.pageYOffset||document.documentElement.scrollTop||0,J.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(J.top-=l.top,J.left-=l.left);this.wrapper.data("location")||n.data("location",t({},e));f=t({},J);l=t({},e);D=D.adjustSize;"fit"===d[0]&&(l.top+=this._fit(f.top,n.outerHeight()+D.height,r/g));"fit"===d[1]&&(l.left+=this._fit(f.left,n.outerWidth()+D.width,k/g));D=t({},l);e=h.outerHeight();J=n.outerHeight();!n.height()&&e&&(J+=e);"flip"===d[0]&&(l.top+=this._flip(f.top,e,c.outerHeight(),r/g,w[0],a[0],J));"flip"===d[1]&&(l.left+=this._flip(f.left,h.outerWidth(),c.outerWidth(),k/g,w[1],a[1],n.outerWidth()));h.css("position","absolute");n.css(l);return l.left!=D.left||l.top!=D.top},_align:function(e,p){var h=this.wrapper,D=b(this.options.anchor),f=e[0],l=e[1],c=p[0],w=p[1],a=y(D),d=b(this.options.appendTo),g=h.outerWidth(),h=h.outerHeight(),G=D.outerWidth(),D=D.outerHeight(),m=a.top,a=a.left,J=Math.round;d[0]!=document.body&&(d=y(d),m-=d.top,a-=d.left);"bottom"===f&&(m+=D);"center"===f&&(m+=J(D/2));"bottom"===c&&(m-=h);"center"===c&&(m-=J(h/2));"right"===l&&(a+=G);"center"===l&&(a+=J(G/2));"right"===w&&(a-=g);"center"===w&&(a-=J(g/2));return{top:m,left:a}}});u.plugin(e)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.list",["kendo.data","kendo.popup"],b)})(function(){(function(b,k){function q(c,b){c!==k&&""!==c&&null!==c&&("boolean"===b?c=!!c:"number"===b?c=Number(c):"string"===b&&(c=c.toString()));return c}function B(c,e){var a,d=!1;c.filters&&(a=b.grep(c.filters,function(a){d=B(a,e);return a.filters?a.filters.length:a.field!=e}),d||c.filters.length===a.length||(d=!0),c.filters=a);return d}var u=window.kendo,z=u.ui,C=z.Widget,y=u.keys,F=u.support,A=u.htmlEncode,E=u._activeElement,x=u.data.ObservableArray,t=b.extend,m=b.proxy,e=b.isArray,h=F.browser,p=h.msie&&9>h.version,n=/"/g,D={ComboBox:"DropDownList",DropDownList:"ComboBox"},f=u.ui.DataBoundWidget.extend({init:function(c,e){var a=this.ns;C.fn.init.call(this,c,e);c=this.element;e=this.options;(this._isSelect=c.is("select"))&&this.element[0].length&&!e.dataSource&&(e.dataTextField=e.dataTextField||"text",e.dataValueField=e.dataValueField||"value");this.ul=b('\x3cul unselectable\x3d"on" class\x3d"k-list k-reset"/\x3e').attr({tabIndex:-1,"aria-hidden":!0});this.list=b("\x3cdiv class\x3d'k-list-container'/\x3e").append(this.ul).on("mousedown"+a,m(this._listMousedown,this));if(a=c.attr("id"))this.list.attr("id",a+"-list"),this.ul.attr("id",a+"_listbox");this._header();this._accessors();this._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(c){C.fn.setOptions.call(this,c);c&&c.enable!==k&&(c.enabled=c.enable)},focus:function(){this._focused.focus()},readonly:function(c){this._editable({readonly:c===k?!0:c,disable:!1})},enable:function(c){this._editable({readonly:!1,disable:!(c===k||c)})},_listOptions:function(c){var e=this,a=e.options,d=a.virtual,g=m(e._listBound,e),d="object"===typeof d?d:{};c=b.extend({autoBind:!1,selectable:!0,dataSource:e.dataSource,click:m(e._click,e),change:m(e._listChange,e),activate:m(e._activateItem,e),deactivate:m(e._deactivateItem,e),dataBinding:function(){e.trigger("dataBinding");e._angularItems("cleanup")},dataBound:g,listBound:g,height:a.height,dataValueField:a.dataValueField,dataTextField:a.dataTextField,groupTemplate:a.groupTemplate,fixedGroupTemplate:a.fixedGroupTemplate,template:a.template},c,d);c.template||(c.template="#:"+u.expr(c.dataTextField,"data")+"#");return c},_initList:function(){var c=this._listOptions({selectedItemChange:m(this._listChange,this)});this.listView=this.options.virtual?new u.ui.VirtualList(this.ul,c):new u.ui.StaticList(this.ul,c);this._setListValue()},_setListValue:function(c){c=c||this.options.value;c!==k&&this.listView.value(c).done(m(this._updateSelectionState,this))},_updateSelectionState:b.noop,_listMousedown:function(c){this.filterInput&&this.filterInput[0]===c.target||c.preventDefault()},_isFilterEnabled:function(){var c=this.options.filter;return c&&"none"!==c},_filterSource:function(c,b){var a=this.options,d=this.dataSource,g=t({},d.filter()||{}),a=B(g,a.dataTextField);(c||a)&&this.trigger("filtering",{filter:c})||(g={filters:g.filters||[],logic:"and"},c&&g.filters.push(c),this._cascading&&this.listView.setDSFilter(g),b?d.read({filter:g}):d.filter(g))},_header:function(){var c=this,e=c.options.headerTemplate;b.isFunction(e)&&(e=e({}));e&&(c.list.prepend(e),e=c.ul.prev(),c.header=e[0]?e:null,c.header&&c.angular("compile",function(){return{elements:c.header}}))},_initValue:function(){var c=this.options.value;null!==c?this.element.val(c):(c=this._accessor(),this.options.value=c);this._old=c},_ignoreCase:function(){var c=this.dataSource.reader.model;c&&c.fields&&(c=c.fields[this.options.dataTextField])&&c.type&&"string"!==c.type&&(this.options.ignoreCase=!1)},_focus:function(c){return this.listView.focus(c)},current:function(c){return this._focus(c)},items:function(){return this.ul[0].children},destroy:function(){var c=this.ns;C.fn.destroy.call(this);this._unbindDataSource();this.listView.destroy();this.list.off(c);this.popup.destroy();this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(c){if(c===k)return this.listView.selectedDataItems()[0];if("number"!==typeof c){if(this.options.virtual)return this.dataSource.getByUid(b(c).data("uid"));c=b(this.items()).index(c)}return this.dataSource.flatView()[c]},_activateItem:function(){var c=this.listView.focus();c&&this._focused.add(this.filterInput).attr("aria-activedescendant",c.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var c=this.element,b=this.options,a=u.getter,d=c.attr(u.attr("text-field")),c=c.attr(u.attr("value-field"));!b.dataTextField&&d&&(b.dataTextField=d);!b.dataValueField&&c&&(b.dataValueField=c);this._text=a(b.dataTextField);this._value=a(b.dataValueField)},_aria:function(c){var b=this.options,a=this._focused.add(this.filterInput);b.suggest!==k&&a.attr("aria-autocomplete",b.suggest?"both":"list");c=c?c+" "+this.ul[0].id:this.ul[0].id;a.attr("aria-owns",c);this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off")},_blur:function(){this._change();this.close()},_change:function(){var c=this.selectedIndex,b=this.options.value,a=this.value(),d;this._isSelect&&!this.listView.bound()&&b&&(a=b);a!==q(this._old,typeof a)?d=!0:c!==k&&c!==this._oldIndex&&(d=!0);d&&(this._old=a,this._oldIndex=c,this._typing||this.element.trigger("change"),this.trigger("change"));this.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var c=this.options,b=this.element.is("[disabled]");c.enable!==k&&(c.enabled=c.enable);!c.enabled||b?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(c){var b=this._value(c);b===k&&(b=this._text(c));return b},_offsetHeight:function(){var c=0;this.listView.content.prevAll(":visible").each(function(){var e=b(this);c=e.hasClass("k-list-filter")?c+e.children().outerHeight():c+e.outerHeight()});return c},_height:function(c){var b=this.list,a=this.options.height,d=this.popup.visible();if(c){c=b.add(b.parent(".k-animation-container")).show();if(!b.is(":visible")){c.hide();return}a=this.listView.content[0].scrollHeight>a?a:"auto";c.height(a);"auto"!==a&&(b=this._offsetHeight())&&(a-=b);this.listView.content.height(a);d||c.hide()}return a},_adjustListWidth:function(){var c=this.list,b=c[0].style.width,a=this.wrapper,d;if(c.data("width")||!b)return b=window.getComputedStyle?window.getComputedStyle(a[0],null):0,d=parseFloat(b&&b.width)||a.outerWidth(),b&&h.msie&&(d+=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)+parseFloat(b.borderLeftWidth)+parseFloat(b.borderRightWidth)),b="border-box"!==c.css("box-sizing")?d-(c.outerWidth()-c.width()):d,c.css({fontFamily:a.css("font-family"),width:b}).data("width",b),!0},_openHandler:function(c){this._adjustListWidth();this.trigger("open")?c.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(c){this.trigger("close")?c.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var c=this.listView,b=c.focus(),a=c.select(),a=a[a.length-1];a===k&&this.options.highlightFirst&&!b&&(a=0);a!==k?c.focus(a):c.scrollToIndex(0)},_calculateGroupPadding:function(c){var b=this.ul.children(".k-first:first"),a=this.listView.content.prev(".k-group-header"),d=0;a[0]&&"none"!==a[0].style.display&&("auto"!==c&&(d=u.support.scrollbar()),d+=parseFloat(b.css("border-right-width"),10)+parseFloat(b.children(".k-group").css("padding-right"),10),a.css("padding-right",d))},_calculatePopupHeight:function(c){c=this._height(this.dataSource.flatView().length||c);this._calculateGroupPadding(c)},_resizePopup:function(c){if(!this.options.virtual)if(this.popup.element.is(":visible"))this._calculatePopupHeight(c);else this.popup.one("open",function(c){return m(function(){this._calculatePopupHeight(c)},this)}.call(this,c))},_popup:function(){this.popup=new z.Popup(this.list,t({},this.options.popup,{anchor:this.wrapper,open:m(this._openHandler,this),close:m(this._closeHandler,this),animation:this.options.animation,isRtl:F.isRtl(this.wrapper)}))},_makeUnselectable:function(){p&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(c){b(c.currentTarget).toggleClass("k-state-hover","mouseenter"===c.type)},_toggle:function(c,b){var a=F.mobileOS&&(F.touch||F.MSPointers||F.pointers);c=c!==k?c:!this.popup.visible();b||a||this._focused[0]===E()||(this._prevent=!0,this._focused.focus(),this._prevent=!1);this[c?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this._old===this.value()&&this._oldIndex===this.selectedIndex||(this._cascadeTriggered=!0,this.trigger("cascade",{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger("change")},_unbindDataSource:function(){this.dataSource.unbind("requestStart",this._requestStartHandler).unbind("requestEnd",this._requestEndHandler).unbind("error",this._errorHandler)}});t(f,{inArray:function(c,b){var a,d,g=b.children;if(!c||c.parentNode!==b)return-1;a=0;for(d=g.length;a<d;a++)if(c===g[a])return a;return-1},unifyType:q});u.ui.List=f;z.Select=f.extend({init:function(c,b){f.fn.init.call(this,c,b);this._initial=this.element.val()},setDataSource:function(c){this.options.dataSource=c;this._dataSource();this.listView.bound()&&(this._initialIndex=null);this.listView.setDataSource(this.dataSource);this.options.autoBind&&this.dataSource.fetch();(c=this._parentWidget())&&this._cascadeSelect(c)},close:function(){this.popup.close()},select:function(c){if(c===k)return this.selectedIndex;this._select(c);this._old=this._accessor();this._oldIndex=this.selectedIndex},search:function(c){c="string"===typeof c?c:this.text();var b=c.length,a=this.options,d=a.ignoreCase,g=a.dataTextField;clearTimeout(this._typingTimeout);if(!b||b>=a.minLength)this._state="filter",this._isFilterEnabled()?(this._open=!0,this._filterSource({value:d?c.toLowerCase():c,field:g,operator:a.filter,ignoreCase:d})):this._filter(c)},_accessor:function(c,b){return this[this._isSelect?"_accessorSelect":"_accessorInput"](c,b)},_accessorInput:function(c){var b=this.element[0];if(c===k)return b.value;null===c&&(c="");b.value=c},_accessorSelect:function(c,b){var a=this.element[0],d=a.selectedIndex,g;if(c===k)return-1<d&&(g=a.options[d]),g&&(c=g.value),c||"";-1<d&&(a.options[d].removeAttribute("selected"),a.options[d].selected=!1);b===k&&(b=-1);null!==c&&""!==c&&-1==b?this._custom(c):(c?a.value=c:a.selectedIndex=b,-1<a.selectedIndex&&(g=a.options[a.selectedIndex]),g&&g.setAttribute("selected","selected"))},_custom:function(c){var e=this.element,a=this._customOption;a||(this._customOption=a=b("\x3coption/\x3e"),e.append(a));a.text(c);a[0].setAttribute("selected","selected");a[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy);this._arrow.removeClass("k-loading");this._focused.attr("aria-busy",!1);this._busy=null},_showBusy:function(){var c=this;c._request=!0;c._busy||(c._busy=setTimeout(function(){c._arrow&&(c._focused.attr("aria-busy",!0),c._arrow.addClass("k-loading"))},100))},_requestEnd:function(){this._request=!1;this._hideBusy()},_dataSource:function(){var c=this.element,e=this.options,a=e.dataSource||{},d,a=b.isArray(a)?{data:a}:a;this._isSelect&&(d=c[0].selectedIndex,-1<d&&(e.index=d),a.select=c,a.fields=[{field:e.dataTextField},{field:e.dataValueField}]);this.dataSource?this._unbindDataSource():(this._requestStartHandler=m(this._showBusy,this),this._requestEndHandler=m(this._requestEnd,this),this._errorHandler=m(this._hideBusy,this));this.dataSource=u.data.DataSource.create(a).bind("requestStart",this._requestStartHandler).bind("requestEnd",this._requestEndHandler).bind("error",this._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(c){var b=this,a=c.keyCode,d=a===y.DOWN,g;if(a===y.UP||d){if(c.altKey)b.toggle(d);else{if(!b.listView.bound())return b._fetch||(b.dataSource.one("change",function(){b._fetch=!1;b._move(c)}),b._fetch=!0,b._filterSource()),c.preventDefault(),!0;g=b._focus();b._fetch||g&&!g.hasClass("k-state-selected")||(d?(b._nextItem(),b._focus()||b._lastItem()):(b._prevItem(),b._focus()||b._firstItem()));if(b.trigger("select",{item:b._focus()})){b._focus(g);return}b._select(b._focus(),!0);b.popup.visible()||b._blur()}c.preventDefault();g=!0}else if(a===y.ENTER||a===y.TAB){b.popup.visible()&&c.preventDefault();g=b._focus();d=b.dataItem();b.popup.visible()||d&&b.text()===b._text(d)||(g=null);d=b.filterInput&&b.filterInput[0]===E();if(g){if(b.trigger("select",{item:g}))return;b._select(g)}else b.input&&(b._accessor(b.input.val()),b.listView.value(b.input.val()));b._focusElement&&b._focusElement(b.wrapper);d&&a===y.TAB?b.wrapper.focusout():b._blur();b.close();g=!0}else a===y.ESC&&(b.popup.visible()&&c.preventDefault(),b.close(),g=!0);return g},_fetchData:function(){var c=this,b=!!c.dataSource.view().length;c._request||c.options.cascadeFrom||c.listView.bound()||c._fetch||b||(c._fetch=!0,c.dataSource.fetch().done(function(){c._fetch=!1}))},_options:function(c,b,a){var d=this.element,g=c.length,e="",f,w,l=0;for(b&&(e=b);l<g;l++)b="\x3coption",f=c[l],w=this._text(f),f=this._value(f),f!==k&&(f+="",-1!==f.indexOf('"')&&(f=f.replace(n,"\x26quot;")),b+=' value\x3d"'+f+'"'),b+="\x3e",w!==k&&(b+=A(w)),b+="\x3c/option\x3e",e+=b;d.html(e);a!==k&&(d[0].value=a,d[0].value&&!a&&(d[0].selectedIndex=-1))},_reset:function(){var c=this,e=c.element,a=e.attr("form"),e=a?b("#"+a):e.closest("form");e[0]&&(c._resetHandler=function(){setTimeout(function(){c.value(c._initial)})},c._form=e.on("reset",c._resetHandler))},_parentWidget:function(){var c=this.options.name,e=b("#"+this.options.cascadeFrom),a=e.data("kendo"+c);a||(a=e.data("kendo"+D[c]));return a},_cascade:function(){var c=this,b=c.options,a;b.cascadeFrom&&(a=c._parentWidget(),c._cascadeHandlerProxy=m(c._cascadeHandler,c),a&&(b.autoBind=!1,a.bind("set",function(){c.one("set",function(a){c._selectedValue=a.value})}),a.first("cascade",c._cascadeHandlerProxy),a.listView.bound()?(c._toggleCascadeOnFocus(),c._cascadeSelect(a)):(a.one("dataBound",function(){c._toggleCascadeOnFocus()}),a.value()||c.enable(!1))))},_toggleCascadeOnFocus:function(){var c=this,b=c._parentWidget();b._focused.bind("focus",function(){b.unbind("cascade",c._cascadeHandlerProxy);b.first("change",c._cascadeHandlerProxy)});b._focused.bind("focusout",function(){b.unbind("change",c._cascadeHandlerProxy);b.first("cascade",c._cascadeHandlerProxy)})},_cascadeHandler:function(c){var b=this._parentWidget(),a=this.value();this._userTriggered=c.userTriggered;this.listView.bound()&&this._clearSelection(b,!0);this._cascadeSelect(b,a)},_cascadeChange:function(c){var b=this._accessor()||this._selectedValue;this._selectedValue=null;this._userTriggered?this._clearSelection(c,!0):b?(b!==this.listView.value()[0]&&this.value(b),this.dataSource.view()[0]&&-1!==this.selectedIndex||this._clearSelection(c,!0)):this.dataSource.flatView().length&&this.select(this.options.index);this.enable();this._triggerCascade();this._triggerChange();this._userTriggered=!1},_cascadeSelect:function(c,b){var a=this,d=c.dataItem(),d=d?c._value(d):null,g=a.options.cascadeFromField||c.options.dataValueField,e;a._valueBeforeCascade=b!==k?b:a.value();if(d||0===d){e=a.dataSource.filter()||{};B(e,g);var f=function(){a.unbind("dataBound",f);a._cascadeChange(c)};a.first("dataBound",f);a._cascading=!0;a._filterSource({field:g,operator:"eq",value:d});a._cascading=!1}else a.enable(!1),a._clearSelection(c),a._triggerCascade(),a._triggerChange(),a._userTriggered=!1}});var l=u.ui.DataBoundWidget.extend({init:function(c,e){C.fn.init.call(this,c,e);this.element.attr("role","listbox").on("click.StaticList","li",m(this._click,this)).on("mouseenter.StaticList","li",function(){b(this).addClass("k-state-hover")}).on("mouseleave.StaticList","li",function(){b(this).removeClass("k-state-hover")});this.content=this.element.wrap("\x3cdiv class\x3d'k-list-scroller' unselectable\x3d'on'\x3e\x3c/div\x3e").parent();this.header=this.content.before('\x3cdiv class\x3d"k-group-header" style\x3d"display:none"\x3e\x3c/div\x3e').prev();this.bound(!1);this._optionID=u.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var a=this.options.value;a&&(this._values=b.isArray(a)?a.slice(0):[a]);this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=m(function(){var a=this;clearTimeout(a._scrollId);a._scrollId=setTimeout(function(){a._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:"click change activate deactivate dataBinding dataBound selectedItemChange".split(" "),setDataSource:function(c){c=c||{};var e;c=b.isArray(c)?{data:c}:c;c=u.data.DataSource.create(c);this.dataSource?(this.dataSource.unbind("change",this._refreshHandler),e=this.value(),this.value([]),this.bound(!1),this.value(e)):this._refreshHandler=m(this.refresh,this);this.setDSFilter(c.filter());this.dataSource=c.bind("change",this._refreshHandler);this._fixedHeader()},skip:function(){return this.dataSource.skip()},setOptions:function(c){C.fn.setOptions.call(this,c);this._getter();this._templates();this._render()},destroy:function(){this.element.off(".StaticList");this._refreshHandler&&this.dataSource.unbind("change",this._refreshHandler);clearTimeout(this._scrollId);C.fn.destroy.call(this)},scrollToIndex:function(c){(c=this.element[0].children[c])&&this.scroll(c)},scroll:function(c){if(c){c[0]&&(c=c[0]);var b=this.content[0],a=c.offsetTop,d=b.scrollTop,g=b.clientHeight;c=a+c.offsetHeight;d>a?d=a:c>d+g&&(d=c-g);b.scrollTop=d}},selectedDataItems:function(c){if(c===k)return this._dataItems.slice();this._dataItems=c;this._values=this._getValues(c)},_getValues:function(c){var e=this._valueGetter;return b.map(c,function(a){return e(a)})},focusNext:function(){var c=this.focus(),c=c?c.next():0;this.focus(c)},focusPrev:function(){var c=this.focus(),c=c?c.prev():this.element[0].children.length-1;this.focus(c)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(this.element[0].children[this.element[0].children.length-1])},focus:function(c){var e=this._optionID,a;if(c===k)return this._current;c=this._get(c);c=c[c.length-1];c=b(this.element[0].children[c]);this._current&&(this._current.removeClass("k-state-focused").removeAttr("aria-selected").removeAttr("id"),this.trigger("deactivate"));if(a=!!c[0])c.addClass("k-state-focused"),this.scroll(c),c.attr("id",e);this._current=a?c:null;this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():k},skipUpdate:function(c){this._skipUpdate=c},select:function(c){var e=this.options.selectable,e="multiple"!==e&&!1!==e,a=this._selectedIndices,d=[];if(c===k)return a.slice();c=this._get(c);1===c.length&&-1===c[0]&&(c=[]);var g=this.isFiltered();if(!g||e||!this._deselectFiltered(c))if(e&&!g&&-1!==b.inArray(c[c.length-1],a))this._dataItems.length&&this._view.length&&(this._dataItems=[this._view[a[0]].item]);else if(c=this._deselect(c),a=c.removed,c=c.indices,c.length&&(e&&(c=[c[c.length-1]]),d=this._select(c)),d.length||a.length)this._valueComparer=null,this.trigger("change",{added:d,removed:a})},removeAt:function(c){this._selectedIndices.splice(c,1);this._values.splice(c,1);this._valueComparer=null;return{position:c,dataItem:this._dataItems.splice(c,1)[0]}},setValue:function(c){this._values=c=b.isArray(c)||c instanceof x?c.slice(0):[c];this._valueComparer=null},value:function(c){var e=this._valueDeferred;if(c===k)return this._values.slice();this.setValue(c);e&&"resolved"!==e.state()||(this._valueDeferred=e=b.Deferred());this.bound()&&(c=this._valueIndices(this._values),"multiple"===this.options.selectable&&this.select(-1),this.select(c),e.resolve());this._skipUpdate=!1;return e},items:function(){return this.element.children(".k-item")},_click:function(c){c.isDefaultPrevented()||this.trigger("click",{item:b(c.currentTarget)})||this.select(c.currentTarget)},_valueExpr:function(c,b){var a=0,d,g=[];if(!this._valueComparer||this._valueType!==c){for(this._valueType=c;a<b.length;a++)g.push(q(b[a],c));a="for (var idx \x3d 0; idx \x3c "+g.length+"; idx++) { if (current \x3d\x3d\x3d values[idx]) {   return idx; }} return -1;";d=new Function("current","values",a);this._valueComparer=function(a){return d(a,g)}}return this._valueComparer},_dataItemPosition:function(c,b){var a=this._valueGetter(c);return this._valueExpr(typeof a,b)(a)},_getter:function(){this._valueGetter=u.getter(this.options.dataValueField)},_deselect:function(c){var e=this.element[0].children,a=this.options.selectable,d=this._selectedIndices,g=this._dataItems,f=this._values,l=[],h=0,p,n,D=0;c=c.slice();if(!0===a||!c.length){for(;h<d.length;h++)b(e[d[h]]).removeClass("k-state-selected"),l.push({position:h,dataItem:g[h]});this._values=[];this._dataItems=[];this._selectedIndices=[]}else if("multiple"===a)for(;h<c.length;h++)if(p=c[h],b(e[p]).hasClass("k-state-selected"))for(a=0;a<d.length;a++)if(n=d[a],n===p){b(e[n]).removeClass("k-state-selected");l.push({position:a+D,dataItem:g.splice(a,1)[0]});d.splice(a,1);c.splice(h,1);f.splice(a,1);D+=1;--h;break}return{indices:c,removed:l}},_deselectFiltered:function(c){for(var e=this.element[0].children,a,d,g=[],f=0;f<c.length;f++)d=c[f],a=this._view[d].item,a=this._dataItemPosition(a,this._values),-1<a&&(g.push(this.removeAt(a)),b(e[d]).removeClass("k-state-selected"));return g.length?(this.trigger("change",{added:[],removed:g}),!0):!1},_select:function(c){var e=this.element[0].children,a=this._view,d,g,f=[],l=0;for(-1!==c[c.length-1]&&this.focus(c);l<c.length;l++)g=c[l],d=a[g],-1!==g&&d&&(d=d.item,this._selectedIndices.push(g),this._dataItems.push(d),this._values.push(this._valueGetter(d)),b(e[g]).addClass("k-state-selected").attr("aria-selected",!0),f.push({dataItem:d}));return f},_get:function(c){"number"===typeof c?c=[c]:e(c)||(c=b(c).data("offset-index"),c===k&&(c=-1),c=[c]);return c},_template:function(){var c=this.options,b=c.template;b?(b=u.template(b),b=function(a){return'\x3cli tabindex\x3d"-1" role\x3d"option" unselectable\x3d"on" class\x3d"k-item"\x3e'+b(a)+"\x3c/li\x3e"}):b=u.template('\x3cli tabindex\x3d"-1" role\x3d"option" unselectable\x3d"on" class\x3d"k-item"\x3e${'+u.expr(c.dataTextField,"data")+"}\x3c/li\x3e",{useWithBlock:!1});return b},_templates:function(){var c,b={template:this.options.template,groupTemplate:this.options.groupTemplate,fixedGroupTemplate:this.options.fixedGroupTemplate},a;for(a in b)(c=b[a])&&"function"!==typeof c&&(b[a]=u.template(c));this.templates=b},_normalizeIndices:function(c){for(var b=[],a=0;a<c.length;a++)c[a]!==k&&b.push(c[a]);return b},_valueIndices:function(c,b){var a=this._view,d=0,g;b=b?b.slice():[];if(!c.length)return[];for(;d<a.length;d++)g=this._dataItemPosition(a[d].item,c),-1!==g&&(b[g]=d);return this._normalizeIndices(b)},_firstVisibleItem:function(){for(var c=this.element[0],e=this.content[0].scrollTop,a=b(c.children[0]).height(),c=c.children[Math.floor(e/a)||0]||c.lastChild,d=c.offsetTop<e;c;)if(d){if(c.offsetTop+a>e||!c.nextSibling)break;c=c.nextSibling}else{if(c.offsetTop<=e||!c.previousSibling)break;c=c.previousSibling}return this._view[b(c).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var c=this.templates.fixedGroupTemplate;if(c){var b=this._firstVisibleItem();b&&this.header.html(c(b.group))}},_renderItem:function(c){var b='\x3cli tabindex\x3d"-1" role\x3d"option" unselectable\x3d"on" class\x3d"k-item',a=c.item,d=0!==c.index,g=c.selected;d&&c.newGroup&&(b+=" k-first");g&&(b+=" k-state-selected");b+='"'+(g?' aria-selected\x3d"true"':"")+' data-offset-index\x3d"'+c.index+'"\x3e';b+=this.templates.template(a);d&&c.newGroup&&(b+='\x3cdiv class\x3d"k-group"\x3e'+this.templates.groupTemplate(c.group)+"\x3c/div\x3e");return b+"\x3c/li\x3e"},_render:function(){var c="",b,a=0,d,g=[],e=this.dataSource.view(),f=this.value(),l,h,p=this.isGrouped();if(p)for(b=0;b<e.length;b++)for(l=e[b],d=!0,h=0;h<l.items.length;h++)d={selected:this._selected(l.items[h],f),item:l.items[h],group:l.value,newGroup:d,index:a},g[a]=d,a+=1,c+=this._renderItem(d),d=!1;else for(b=0;b<e.length;b++)d={selected:this._selected(e[b],f),item:e[b],index:b},g[b]=d,c+=this._renderItem(d);this._view=g;this.element[0].innerHTML=c;p&&g.length&&this._renderHeader()},_selected:function(c,b){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(c,b)},setDSFilter:function(c){this._lastDSFilter=t({},c)},isFiltered:function(){this._lastDSFilter||this.setDSFilter(this.dataSource.filter());return!u.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(c){var b=c&&c.action,a=this.options.skipUpdateOnBind,d="itemchange"===b;this.trigger("dataBinding");this._fixedHeader();this._render();this.bound(!0);if(d||"remove"===b){b=this._dataItems;c=c.items;var a=c.length,g=b.length,e,f,l,h,p=[],n=[];if(g)for(l=0;l<g;l++){e=b[l];f=!1;for(h=0;h<a;h++)if(e===c[h]){f=!0;p.push({index:l,item:e});break}f||n.push(e)}p.length&&(d?this.trigger("selectedItemChange",{items:p}):this.value(this._getValues(n)))}else this.isFiltered()||this._skipUpdate?(this.focus(0),this._skipUpdate&&(this._skipUpdate=!1,this._selectedIndices=this._valueIndices(this._values,this._selectedIndices))):a||b&&"add"!==b||this.value(this._values);this._valueDeferred&&this._valueDeferred.resolve();this.trigger("dataBound")},bound:function(c){if(c===k)return this._bound;this._bound=c},isGrouped:function(){return(this.dataSource.group()||[]).length}});z.plugin(l)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller"],b)})(function(){(function(b,k){function q(b,h,p){for(var e=0,D=h.length-1,f;e<D;++e)f=h[e],f in b||(b[f]={}),b=b[f];b[h[D]]=p}function B(b,h){b>=h&&(b-=h);return b}var u=window.kendo,z=u.ui,C=z.List,y=z.Select,F=u.support,A=u._activeElement,E=u.data.ObservableObject,x=u.keys,t=b.proxy,m=y.extend({init:function(e,h){var p=h&&h.index,n;this.ns=".kendoDropDownList";h=b.isArray(h)?{dataSource:h}:h;y.fn.init.call(this,e,h);h=this.options;e=this.element.on("focus.kendoDropDownList",t(this._focusHandler,this));this._focusInputHandler=b.proxy(this._focusInput,this);this.optionLabel=b();this._optionLabel();this._inputTemplate();this._reset();this._word=this._prev="";this._wrapper();this._tabindex();this.wrapper.data("tabindex",this.wrapper.attr("tabindex"));this._span();this._popup();this._mobile();this._dataSource();this._ignoreCase();this._filterHeader();this._aria();this._enable();this._oldIndex=this.selectedIndex=-1;p!==k&&(h.index=p);this._initialIndex=h.index;this._initList();this._cascade();h.autoBind?this.dataSource.fetch():-1===this.selectedIndex&&(n=h.text||"",n||((p=h.optionLabel)&&0===h.index?n=p:this._isSelect&&(n=e.children(":selected").text())),this._textAccessor(n));b(this.element).parents("fieldset").is(":disabled")&&this.enable(!1);this.listView.bind("click",function(b){b.preventDefault()});u.notify(this)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:"open close change select filtering dataBinding dataBound cascade set".split(" "),setOptions:function(b){y.fn.setOptions.call(this,b);this.listView.setOptions(this._listOptions(b));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){y.fn.destroy.call(this);this.wrapper.off(".kendoDropDownList");this.element.off(".kendoDropDownList");this._inputWrapper.off(".kendoDropDownList");this._arrow.off();this._arrow=null;this.optionLabel.off()},open:function(){this.popup.visible()||(this.listView.bound()&&"accept"!==this._state?this._allowOpening()&&(this.popup.one("activate",this._focusInputHandler),this.popup.open(),this._focusItem()):(this._open=!0,this._state="rebind",this.filterInput&&(this.filterInput.val(""),this._prev=""),this._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||this.dataSource.view().length},toggle:function(b){this._toggle(b,!0)},current:function(b){if(b===k)return b=this.listView.focus(),!b&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:b;this._focus(b)},dataItem:function(e){if(null===e)return e;if(e===k)e=this.listView.selectedDataItems()[0];else{if("number"!==typeof e){if(this.options.virtual)return this.dataSource.getByUid(b(e).data("uid"));e=e.hasClass("k-list-optionlabel")?-1:b(this.items()).index(e)}else this.hasOptionLabel()&&--e;e=this.dataSource.flatView()[e]}e||(e=this._optionLabelDataItem());return e},refresh:function(){this.listView.refresh()},text:function(b){var e=this,p,n,D=e.options.ignoreCase;b=null===b?"":b;if(b!==k)"string"===typeof b&&(n=D?b.toLowerCase():b,e._select(function(b){b=e._text(b);D&&(b=(b+"").toLowerCase());return b===n}),(p=e.dataItem())&&(b=p)),e._textAccessor(b);else return e._textAccessor()},value:function(b){var e=this,p=e.listView,n=e.dataSource;if(b===k)return b=e._accessor()||e.listView.value()[0],b===k||null===b?"":b;if(b||!e.hasOptionLabel())e._initialIndex=null;this.trigger("set",{value:b});e._request&&e.options.cascadeFrom&&e.listView.bound()?(e._valueSetter&&n.unbind("change",e._valueSetter),e._valueSetter=t(function(){e.value(b)},e),n.one("change",e._valueSetter)):(e._isFilterEnabled()&&p.bound()&&p.isFiltered()?(p.bound(!1),e._filterSource()):e._fetchData(),p.value(b).done(function(){-1===e.selectedIndex&&e.text()&&(e.text(""),e._accessor("",-1));e._old=e._accessor();e._oldIndex=e.selectedIndex}))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this,h=e.options,p=h.optionLabel,n=h.optionLabelTemplate;p?(n||(n="#:",n="string"===typeof p?n+"data":n+u.expr(h.dataTextField,"data"),n+="#"),"function"!==typeof n&&(n=u.template(n)),e.optionLabelTemplate=n,e.hasOptionLabel()||(e.optionLabel=b('\x3cdiv class\x3d"k-list-optionlabel"\x3e\x3c/div\x3e').prependTo(e.list)),e.optionLabel.html(n(p)).off().click(t(e._click,e)).on("mouseenter.kendoDropDownList mouseleave.kendoDropDownList",e._toggleHover),e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})):(e.optionLabel.off().remove(),e.optionLabel=b())},_optionLabelText:function(){var b=this.options.optionLabel;return"string"===typeof b?b:this._text(b)},_optionLabelDataItem:function(){var e=this.options.optionLabel;return this.hasOptionLabel()?b.isPlainObject(e)?new E(e):this._assignInstance(this._optionLabelText(),""):null},_buildOptions:function(b){if(this._isSelect){var e=this.listView.value()[0],p=this._optionLabelDataItem();if(e===k||null===e)e="";p&&(p='\x3coption value\x3d"'+this._value(p)+'"\x3e'+this._text(p)+"\x3c/option\x3e");this._options(b,p,e);e!==C.unifyType(this._accessor(),typeof e)&&(this._customOption=null,this._custom(e))}},_listBound:function(){var b=this._initialIndex,h="filter"===this._state,p=this.dataSource.flatView();this._angularItems("compile");this._presetValue=!1;this._resizePopup(!0);this.popup.position();this._buildOptions(p);this._makeUnselectable();h||(this._open&&this.toggle(this._allowOpening()),this._open=!1,this._fetch||(p.length?(!this.listView.value().length&&-1<b&&null!==b&&this.select(b),this._initialIndex=null,(b=this.listView.selectedDataItems()[0])&&this.text()!==this._text(b)&&this._selectValue(b)):this._textAccessor()!==this._optionLabelText()&&(this.listView.value(""),this._selectValue(null),this._oldIndex=this.selectedIndex)));this._hideBusy();this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||this._old&&-1===this._oldIndex)this._oldIndex=this.selectedIndex},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass("k-state-focused");this._prevent=!1},_focusoutHandler:function(){var b="filter"===this._state,h=window.self!==window.top,p=this._focus();this._prevent||(clearTimeout(this._typingTimeout),b&&p&&!this.trigger("select",{item:p})&&this._select(p,!this.dataSource.view().length),F.mobileOS.ios&&h?this._change():this._blur(),this._inputWrapper.removeClass("k-state-focused"),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(b){b.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._toggle()},_editable:function(b){var e=this.element,p=b.disable;b=b.readonly;var n=this.wrapper.add(this.filterInput).off(".kendoDropDownList"),D=this._inputWrapper.off("mouseenter.kendoDropDownList mouseleave.kendoDropDownList");if(b||p)p?(n.removeAttr("tabindex"),D.addClass("k-state-disabled").removeClass("k-state-default")):(D.addClass("k-state-default").removeClass("k-state-disabled"),n.on("focusin.kendoDropDownList",t(this._focusinHandler,this)).on("focusout.kendoDropDownList",t(this._focusoutHandler,this)));else if(e.removeAttr("disabled").removeAttr("readonly"),D.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoDropDownList mouseleave.kendoDropDownList",this._toggleHover),n.attr("tabindex",n.data("tabindex")).attr("aria-disabled",!1).attr("aria-readonly",!1).on("keydown.kendoDropDownList",t(this._keydown,this)).on("focusin.kendoDropDownList",t(this._focusinHandler,this)).on("focusout.kendoDropDownList",t(this._focusoutHandler,this)).on("mousedown.kendoDropDownList",t(this._wrapperMousedown,this)),this.wrapper.on("click.kendoDropDownList",t(this._wrapperClick,this)),!this.filterInput)n.on("keypress.kendoDropDownList",t(this._keypress,this));e.attr("disabled",p).attr("readonly",b);n.attr("aria-disabled",p).attr("aria-readonly",b)},_keydown:function(b){var e=b.keyCode,p=b.altKey,n,D,f=this.popup.visible();this.filterInput&&(n=this.filterInput[0]===A());e===x.LEFT?(e=x.UP,D=!0):e===x.RIGHT&&(e=x.DOWN,D=!0);D&&n||(b.keyCode=e,(p&&e===x.UP||e===x.ESC)&&this._focusElement(this.wrapper),e===x.ENTER&&this._typingTimeout&&this.filterInput&&f?b.preventDefault():(D=this._move(b),D||(f&&this.filterInput||(e===x.HOME?(D=!0,this._firstItem()):e===x.END&&(D=!0,this._lastItem()),D&&(this._select(this._focus()),b.preventDefault())),p||D||!this.filterInput||this._search())))},_matchText:function(b,h){var e=this.options.ignoreCase;if(b===k||null===b)return!1;b+="";e&&(b=b.toLowerCase());return 0===b.indexOf(h)},_shuffleData:function(b,h){var e=this._optionLabelDataItem();e&&(b=[e].concat(b));return b.slice(h).concat(b.slice(0,h))},_selectNext:function(){var b=this.dataSource.flatView(),h=b.length+(this.hasOptionLabel()?1:0),p;a:{var n=this._word,D=this._last;for(p=0;p<n.length;p++)if(n.charAt(p)!==D){p=!1;break a}p=!0}for(var n=this.selectedIndex,f,n=-1===n?0:B(n+(p?1:0),h),b=b.toJSON?b.toJSON():b.slice(),b=this._shuffleData(b,n),D=0;D<h&&(f=this._text(b[D]),!p||!this._matchText(f,this._last))&&!this._matchText(f,this._word);D++);D!==h&&(b=this._focus(),this._select(B(n+D,h)),this.trigger("select",{item:this._focus()})&&this._select(b),this.popup.visible()||this._change())},_keypress:function(b){if(0!==b.which&&b.keyCode!==u.keys.ENTER){var e=String.fromCharCode(b.charCode||b.keyCode);this.options.ignoreCase&&(e=e.toLowerCase());" "===e&&b.preventDefault();this._word+=e;this._last=e;this._search()}},_popupOpen:function(){var b=this.popup;b.wrapper=u.wrap(b.element);b.element.closest(".km-root")[0]&&(b.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){y.fn._popup.call(this);this.popup.one("open",t(this._popupOpen,this))},_click:function(e){var h=e.item||b(e.currentTarget);e.preventDefault();this.trigger("select",{item:h})?this.close():(this._userTriggered=!0,this._select(h),this._focusElement(this.wrapper),this._blur())},_focusElement:function(b){var e=A(),p=this.wrapper,n=this.filterInput,D=F.mobileOS&&(F.touch||F.MSPointers||F.pointers);n&&n[0]===b[0]&&D||!n||(b===n?p:n)[0]!==e||(this._prevent=!0,this._focused=b.focus())},_filter:function(b){if(b){var e=this;e.options.ignoreCase&&(b=b.toLowerCase());e._select(function(h){return e._matchText(e._text(h),b)})}},_search:function(){var b=this,h=b.dataSource;clearTimeout(b._typingTimeout);b._isFilterEnabled()?b._typingTimeout=setTimeout(function(){var e=b.filterInput.val();b._prev!==e&&(b._prev=e,b.search(e));b._typingTimeout=null},b.options.delay):(b._typingTimeout=setTimeout(function(){b._word=""},b.options.delay),b.listView.bound()?b._selectNext():h.fetch().done(function(){b._selectNext()}))},_get:function(e){var h,p,n;n=(h="function"===typeof e)?b():b(e);this.hasOptionLabel()&&("number"===typeof e?-1<e&&--e:n.hasClass("k-list-optionlabel")&&(e=-1));if(h){h=this.dataSource.flatView();for(n=0;n<h.length;n++)if(e(h[n])){e=n;p=!0;break}p||(e=-1)}return e},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel();this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var b=this.listView,h=b.focus(),p=b.select(),p=p[p.length-1];p===k&&this.options.highlightFirst&&!h&&(p=0);p!==k?b.focus(p):this.options.optionLabel?(this._focus(this.optionLabel),this._select(this.optionLabel)):b.scrollToIndex(0)},_resetOptionLabel:function(b){this.optionLabel.removeClass("k-state-focused"+(b||"")).removeAttr("id")},_focus:function(b){var e=this.listView,p=this.optionLabel;if(b===k)return b=e.focus(),!b&&p.hasClass("k-state-focused")&&(b=p),b;this._resetOptionLabel();b=this._get(b);e.focus(b);-1===b&&(p.addClass("k-state-focused").attr("id",e._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",e._optionID))},_select:function(b,h){b=this._get(b);this.listView.select(b);h||"filter"!==this._state||(this._state="accept");-1===b&&this._selectValue(null)},_selectValue:function(b){var e=this.options.optionLabel,p=this.listView.select(),n="",D="",p=p[p.length-1];p===k&&(p=-1);this._resetOptionLabel(" k-state-selected");b?(D=b,n=this._dataValue(b),e&&(p+=1)):e&&(this._focus(this.optionLabel.addClass("k-state-selected")),D=this._optionLabelText(),n="string"===typeof e?"":this._value(e),p=0);this.selectedIndex=p;null===n&&(n="");this._textAccessor(D);this._accessor(n,p);this._triggerCascade()},_mobile:function(){var b=this.popup,h=F.mobileOS;b.element.parents(".km-root").eq(0).length&&h&&(b.options.animation.open.effects=h.android||h.meego?"fadeIn":h.ios||h.wp?"slideIn:up":b.options.animation.open.effects)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(".kendoDropDownList").parent().remove(),this.filterInput=null);this._isFilterEnabled()&&(this.filterInput=b('\x3cinput class\x3d"k-textbox"/\x3e').attr({placeholder:this.element.attr("placeholder"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(b('\x3cspan class\x3d"k-list-filter" /\x3e').append(this.filterInput.add('\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-search"\x3eselect\x3c/span\x3e'))))},_span:function(){var e=this.wrapper,h;h=e.find("span.k-input");h[0]||(e.append('\x3cspan unselectable\x3d"on" class\x3d"k-dropdown-wrap k-state-default"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-input"\x3e\x26nbsp;\x3c/span\x3e\x3cspan unselectable\x3d"on" class\x3d"k-select"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-arrow-s"\x3eselect\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e').append(this.element),h=e.find("span.k-input"));this.span=h;this._inputWrapper=b(e[0].firstChild);this._arrow=e.find(".k-icon")},_wrapper:function(){var b=this.element,h=b[0],p;p=b.parent();p.is("span.k-widget")||(p=b.wrap("\x3cspan /\x3e").parent(),p[0].style.cssText=h.style.cssText,p[0].title=h.title);b.hide();this._focused=this.wrapper=p.addClass("k-widget k-dropdown k-header").addClass(h.className).css("display","").attr({accesskey:b.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(b){this.select(b.value()?0:-1)},_inputTemplate:function(){var e=this.options.valueTemplate;this.valueTemplate=e=e?u.template(e):b.proxy(u.template("#:this._text(data)#",{useWithBlock:!1}),this);if(this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(h){throw Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel");}},_textAccessor:function(e){var h=null,p=this.valueTemplate,n=this.options.optionLabel,D=this.span;if(e!==k){b.isPlainObject(e)||e instanceof E?h=e:n&&this._optionLabelText()===e&&(h=n,p=this.optionLabelTemplate);h||(h=this._assignInstance(e,this._accessor()));e=function(){return{elements:D.get(),data:[{dataItem:h}]}};this.angular("cleanup",e);try{D.html(p(h))}catch(f){D.html("")}this.angular("compile",e)}else return D.text()},_preselect:function(b,h){b||h||(h=this._optionLabelText());this._accessor(b);this._textAccessor(h);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(b);this._initialIndex=null;this._presetValue=!0},_assignInstance:function(b,h){var e=this.options.dataTextField,n={};e?(q(n,e.split("."),b),q(n,this.options.dataValueField.split("."),h),n=new E(n)):n=b;return n}});z.plugin(m)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.calendar",["kendo.core"],b)})(function(){(function(b,k){function q(a,d,c,b){a=a.getFullYear();d=d.getFullYear();c=c.getFullYear();a-=a%b;b=a+(b-1);a<d&&(a=d);b>c&&(b=c);return a+"-"+b}function B(a){for(var d=0,c,b=a.min,g=a.max,e=a.start,f=a.setter,l=a.build,r=a.cells||12,h=a.perRow||4,G=a.content||J,p=a.empty||O,n=a.html||'\x3ctable tabindex\x3d"0" role\x3d"grid" class\x3d"k-content k-meta-view" cellspacing\x3d"0"\x3e\x3ctbody\x3e\x3ctr role\x3d"row"\x3e';d<r;d++)0<d&&0===d%h&&(n+='\x3c/tr\x3e\x3ctr role\x3d"row"\x3e'),e=new N(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),w(e,0),c=l(e,d,a.disableDates),n+=y(e,b,g)?G(c):p(c),f(e,1);return n+"\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"}function u(a,d,c){a=a.getFullYear();var b=d=d.getFullYear(),g=0;c&&(d-=d%c,b=d-d%c+c-1);a>b?g=1:a<d&&(g=-1);return g}function z(){var a=new N;return new N(a.getFullYear(),a.getMonth(),a.getDate())}function C(a,d,c){var b=z();a&&(b=new N(+a));d>b?b=new N(+d):c<b&&(b=new N(+c));return b}function y(a,d,c){return+a>=+d&&+a<=+c}function F(a,d){return a.slice(d).concat(a.slice(0,d))}function A(a,d,c){d=d instanceof N?d.getFullYear():a.getFullYear()+c*d;a.setFullYear(d)}function E(a){b(this).hasClass("k-state-disabled")||b(this).toggleClass("k-state-hover",-1<Y.indexOf(a.type)||"focus"==a.type)}function x(a){a.preventDefault()}function t(d){var c=Z[d.start],b=Z[d.depth],e=g(d.culture);d.format=a(d.format||e.calendars.standard.patterns.d);isNaN(c)&&(c=0,d.start="month");if(b===k||b>c)d.depth="month";d.dates||(d.dates=[])}function m(a){H&&a.find("*").attr("unselectable","on")}function e(a){if(p.isFunction(a))return a;if(b.isArray(a)){var d=[],c="su mo tu we th fr sa".split(" ");if(a[0]instanceof N){d=[];for(c=0;c<a.length;c++)d.push(a[c].setHours(0,0,0,0));a="var found \x3d date \x26\x26 $.inArray(date.setHours(0, 0, 0, 0),["+d+"]) \x3e -1;if (found) { return true } else {return false}"}else{for(var g=0;g<a.length;g++){var e=a[g].slice(0,2).toLowerCase(),e=b.inArray(e,c);-1<e&&d.push(e)}a="var found \x3d date \x26\x26 $.inArray(date.getDay(),["+d+"]) \x3e -1;if (found) { return true } else {return false}"}return new Function("date",a)}return b.noop}function h(a,d){a instanceof Date&&d instanceof Date&&(a=a.getTime(),d=d.getTime());return a===d}var p=window.kendo,n=p.support,D=p.ui,f=D.Widget,l=p.keys,c=p.parseDate,w=p.date.adjustDST,a=p._extractFormat,d=p.template,g=p.getCulture,G=p.support.transitions,P=G?G.css+"transform-origin":"",J=d('\x3ctd#\x3ddata.cssClass# role\x3d"gridcell"\x3e\x3ca tabindex\x3d"-1" class\x3d"k-link" href\x3d"\\#" data-#\x3ddata.ns#value\x3d"#\x3ddata.dateString#"\x3e#\x3ddata.value#\x3c/a\x3e\x3c/td\x3e',{useWithBlock:!1}),O=d('\x3ctd role\x3d"gridcell"\x3e\x26nbsp;\x3c/td\x3e',{useWithBlock:!1}),G=p.support.browser,H=G.msie&&9>G.version,Y=n.touch?"touchstart":"mouseenter",r=n.touch?"touchstart.kendoCalendar":"mouseenter.kendoCalendar",K=n.touch?"touchend.kendoCalendar touchmove.kendoCalendar":"mouseleave.kendoCalendar",Q=b.proxy,ha=b.extend,N=Date,Z={month:0,year:1,decade:2,century:3},n=f.extend({init:function(a,d){var g=this,l;f.fn.init.call(g,a,d);a=g.wrapper=g.element;d=g.options;d.url=window.unescape(d.url);g.options.disableDates=e(g.options.disableDates);g._templates();g._header();g._footer(g.footer);if(l=a.addClass("k-widget k-calendar").on(r+" "+K,"td:has(.k-link)",E).on("keydown.kendoCalendar","table.k-content",Q(g._move,g)).on("click.kendoCalendar","td:has(.k-link)",function(a){var d=a.currentTarget.firstChild,c=g._toDateObject(d);-1!=d.href.indexOf("#")&&a.preventDefault();g.options.disableDates(c)&&"month"==g._view.name||g._click(b(d))}).on("mouseup.kendoCalendar","table.k-content, .k-footer",function(){g._focusView(!1!==g.options.focusOnNav)}).attr("id"))g._cellID=l+"_cell_selected";t(d);l=c(d.value,d.format,d.culture);g._index=Z[d.start];g._current=new N(+C(l,d.min,d.max));g._addClassProxy=function(){g._active=!0;if(g._cell.hasClass("k-state-disabled")){var a=g._view.toDateString(z());g._cell=g._cellByDate(a)}g._cell.addClass("k-state-focused")};g._removeClassProxy=function(){g._active=!1;g._cell.removeClass("k-state-focused")};g.value(l);p.notify(g)},options:{name:"Calendar",value:null,min:new N(1900,0,1),max:new N(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:"month",depth:"month",animation:{horizontal:{effects:"slideIn",reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:["change","navigate"],setOptions:function(a){t(a);a.dates[0]||(a.dates=this.options.dates);a.disableDates=e(a.disableDates);f.fn.setOptions.call(this,a);this._templates();this._footer(this.footer);this._index=Z[this.options.start];this.navigate()},destroy:function(){var a=this._today;this.element.off(".kendoCalendar");this._title.off(".kendoCalendar");this._prevArrow.off(".kendoCalendar");this._nextArrow.off(".kendoCalendar");p.destroy(this._table);a&&p.destroy(a.off(".kendoCalendar"));f.fn.destroy.call(this)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table;this._bindTable(a);a.focus()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate("_prevArrow",-1)},navigateToFuture:function(){this._navigate("_nextArrow",1)},navigateUp:function(){var a=this._index;this._title.hasClass("k-state-disabled")||this.navigate(this._current,++a)},navigateDown:function(a){var d=this._index;a&&(d===Z[this.options.depth]?h(this._value,this._current)&&h(this._value,a)||(this.value(a),this.trigger("change")):this.navigate(a,--d))},navigate:function(a,d){d=isNaN(d)?Z[d]:d;var c=this.options,g=c.culture,e=c.min,f=c.max,l=this._title,r=this._table,w=this._oldTable,h=this._value,G=this._current,n=a&&+a>+G,p=d!==k&&d!==this._index,D,J;a||(a=G);this._current=a=new N(+C(a,e,f));d===k?d=this._index:this._index=d;this._view=G=ca.views[d];D=G.compare;J=d===Z.century;l.toggleClass("k-state-disabled",J).attr("aria-disabled",J);J=1>D(a,e);this._prevArrow.toggleClass("k-state-disabled",J).attr("aria-disabled",J);J=-1<D(a,f);this._nextArrow.toggleClass("k-state-disabled",J).attr("aria-disabled",J);r&&w&&w.data("animating")&&(w.kendoStop(!0,!0),r.kendoStop(!0,!0));this._oldTable=r;if(!r||this._changeView)l.html(G.title(a,e,f,g)),this._table=g=b(G.content(ha({min:e,max:f,date:a,url:c.url,dates:c.dates,format:c.format,culture:g,disableDates:c.disableDates},this[G.name]))),m(g),e=r&&r.data("start")===g.data("start"),this._animate({from:r,to:g,vertical:p,future:n,replace:e}),this.trigger("navigate"),this._focus(a);d===Z[c.depth]&&h&&!this.options.disableDates(h)&&this._class("k-state-selected",h);this._class("k-state-focused",a);!r&&this._cell&&this._cell.removeClass("k-state-focused");this._changeView=!0},value:function(a){var d=this._view,b=this.options,g=this._view,e=b.min,f=b.max;if(a===k)return this._value;null===a&&(this._current=new Date(this._current.getFullYear(),this._current.getMonth(),this._current.getDate()));a=c(a,b.format,b.culture);null!==a&&(a=new N(+a),y(a,e,f)||(a=null));this.options.disableDates(a)?this._value===k&&(this._value=null):this._value=a;g&&null===a&&this._cell?this._cell.removeClass("k-state-selected"):(this._changeView=!a||d&&0!==d.compare(a,this._current),this.navigate(a))},_move:function(a){var d=this.options,c=a.keyCode,g=this._view,e=this._index,f=this.options.min,r=this.options.max,w=new N(+this._current),h=p.support.isRtl(this.wrapper),G=this.options.disableDates,n,D,m;a.target===this._table[0]&&(this._active=!0);if(a.ctrlKey)c==l.RIGHT&&!h||c==l.LEFT&&h?(this.navigateToFuture(),D=!0):c==l.LEFT&&!h||c==l.RIGHT&&h?(this.navigateToPast(),D=!0):c==l.UP?(this.navigateUp(),D=!0):c==l.DOWN&&(this._click(b(this._cell[0].firstChild)),D=!0);else if(c==l.RIGHT&&!h||c==l.LEFT&&h?(n=1,D=!0):c==l.LEFT&&!h||c==l.RIGHT&&h?(n=-1,D=!0):c==l.UP?(n=0===e?-7:-4,D=!0):c==l.DOWN?(n=0===e?7:4,D=!0):c==l.ENTER?(this._click(b(this._cell[0].firstChild)),D=!0):c==l.HOME||c==l.END?(m=c==l.HOME?"first":"last",c=g[m](w),w=new N(c.getFullYear(),c.getMonth(),c.getDate(),w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds()),D=!0):c==l.PAGEUP?(D=!0,this.navigateToPast()):c==l.PAGEDOWN&&(D=!0,this.navigateToFuture()),n||m)m||g.setDate(w,n),G(w)&&(w=this._nextNavigatable(w,n)),y(w,f,r)&&this._focus(C(w,d.min,d.max));D&&a.preventDefault();return this._current},_nextNavigatable:function(a,d){var c=!0,b=this._view,g=this.options.min,e=this.options.max,f=this.options.disableDates,l=new Date(a.getTime());for(b.setDate(l,-d);c;){b.setDate(a,d);if(!y(a,g,e)){a=l;break}c=f(a)}return a},_animate:function(a){var d=a.from,c=a.to,b=this._active;if(d)if(d.parent().data("animating"))d.off(".kendoCalendar"),d.parent().kendoStop(!0,!0).remove(),d.remove(),c.insertAfter(this.element[0].firstChild),this._focusView(b);else if(!d.is(":visible")||!1===this.options.animation||a.replace)c.insertAfter(d),d.off(".kendoCalendar").remove(),this._focusView(b);else this[a.vertical?"_vertical":"_horizontal"](d,c,a.future);else c.insertAfter(this.element[0].firstChild),this._bindTable(c)},_horizontal:function(a,d,c){var b=this,g=b._active,e=b.options.animation.horizontal,f=e.effects,l=a.outerWidth();f&&-1!=f.indexOf("slideIn")&&(a.add(d).css({width:l}),a.wrap("\x3cdiv/\x3e"),b._focusView(g,a),a.parent().css({position:"relative",width:2*l,"float":"left","margin-left":c?0:-l}),d[c?"insertAfter":"insertBefore"](a),ha(e,{effects:"slideIn:"+(c?"right":"left"),complete:function(){a.off(".kendoCalendar").remove();b._oldTable=null;d.unwrap();b._focusView(g)}}),a.parent().kendoStop(!0,!0).kendoAnimate(e))},_vertical:function(a,d){var c=this,b=c.options.animation.vertical,g=b.effects,e=c._active,f;g&&-1!=g.indexOf("zoom")&&(d.css({position:"absolute",top:a.prev().outerHeight(),left:0}).insertBefore(a),P&&(g=c._cellByDate(c._view.toDateString(c._current)),f=g.position(),f=f.left+parseInt(g.width()/2,10)+"px "+(f.top+parseInt(g.height()/2,10)+"px"),d.css(P,f)),a.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.off(".kendoCalendar").remove();c._oldTable=null;d.css({position:"static",top:0,left:0});c._focusView(e)}}),d.kendoStop(!0,!0).kendoAnimate(b))},_cellByDate:function(a){return this._table.find("td:not(.k-other-month)").filter(function(){return b(this.firstChild).attr(p.attr("value"))===a})},_class:function(a,d){var c=this._cellID,g=this._cell,e=this._view.toDateString(d),f;g&&g.removeAttr("aria-selected").removeAttr("aria-label").removeAttr("id");d&&(f=this.options.disableDates(d));g=this._table.find("td:not(.k-other-month)").removeClass(a).filter(function(){return b(this.firstChild).attr(p.attr("value"))===e}).attr("aria-selected",!0);if("k-state-focused"===a&&!this._active&&!1!==this.options.focusOnNav||f)a="";g.addClass(a);g[0]&&(this._cell=g);c&&(g.attr("id",c),this._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",c))},_bindTable:function(a){a.on("focus.kendoCalendar",this._addClassProxy).on("blur.kendoCalendar",this._removeClassProxy)},_click:function(a){var d=this.options,c=new Date(+this._current);a=this._toDateObject(a);w(a,0);this.options.disableDates(a)&&"month"==this._view.name&&(a=this._value);this._view.setDate(c,a);this.navigateDown(C(c,d.min,d.max))},_focus:function(a){0!==this._view.compare(a,this._current)?this.navigate(a):(this._current=a,this._class("k-state-focused",a))},_focusView:function(a,d){a&&this.focus(d)},_footer:function(a){var d=z(),c=this.element,g=c.find(".k-footer");a?(g[0]||(g=b('\x3cdiv class\x3d"k-footer"\x3e\x3ca href\x3d"#" class\x3d"k-link k-nav-today"\x3e\x3c/a\x3e\x3c/div\x3e').appendTo(c)),this._today=g.show().find(".k-link").html(a(d)).attr("title",p.toString(d,"D",this.options.culture)),this._toggle()):(this._toggle(!1),g.hide())},_header:function(){var a=this,d=a.element;d.find(".k-header")[0]||d.html('\x3cdiv class\x3d"k-header"\x3e\x3ca href\x3d"#" role\x3d"button" class\x3d"k-link k-nav-prev"\x3e\x3cspan class\x3d"k-icon k-i-arrow-w"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"#" role\x3d"button" aria-live\x3d"assertive" aria-atomic\x3d"true" class\x3d"k-link k-nav-fast"\x3e\x3c/a\x3e\x3ca href\x3d"#" role\x3d"button" class\x3d"k-link k-nav-next"\x3e\x3cspan class\x3d"k-icon k-i-arrow-e"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e');d=d.find(".k-link").on(r+" "+K+" focus.kendoCalendar blur.kendoCalendar",E).click(!1);a._title=d.eq(1).on("click.kendoCalendar",function(){a._active=!1!==a.options.focusOnNav;a.navigateUp()});a._prevArrow=d.eq(0).on("click.kendoCalendar",function(){a._active=!1!==a.options.focusOnNav;a.navigateToPast()});a._nextArrow=d.eq(2).on("click.kendoCalendar",function(){a._active=!1!==a.options.focusOnNav;a.navigateToFuture()})},_navigate:function(a,d){var c=this._index+1,b=new N(+this._current);a=this[a];a.hasClass("k-state-disabled")||(3<c?b.setFullYear(b.getFullYear()+100*d):ca.views[c].setDate(b,d),this.navigate(b))},_option:function(a,d){var b=this.options,g=this._value||this._current,e;if(d===k)return b[a];if(d=c(d,b.format,b.culture)){b[a]=new N(+d);e="min"===a?d>g:g>d;var f;(f=e)||(f=d,f=g?g.getFullYear()===f.getFullYear()&&g.getMonth()===f.getMonth():!1);f&&(e&&(this._value=null),this._changeView=!0);this._changeView||(this._changeView=!(!b.month.content&&!b.month.empty));this.navigate(this._value);this._toggle()}},_toggle:function(a){var d=this.options,c=this.options.disableDates(z()),b=this._today;a===k&&(a=y(z(),d.min,d.max));if(b)if(b.off("click.kendoCalendar"),a&&!c)b.addClass("k-nav-today").removeClass("k-state-disabled").on("click.kendoCalendar",Q(this._todayClick,this));else b.removeClass("k-nav-today").addClass("k-state-disabled").on("click.kendoCalendar",x)},_todayClick:function(a){var d=Z[this.options.depth],c=this.options.disableDates,b=z();a.preventDefault();c(b)||(0===this._view.compare(this._current,b)&&this._index==d&&(this._changeView=!1),this._value=b,this.navigate(b,d),this.trigger("change"))},_toDateObject:function(a){a=b(a).attr(p.attr("value")).split("/");return a=new N(a[0],a[1],a[2])},_templates:function(){var a=this.options,c=a.footer,b=a.month,g=b.content,b=b.empty;this.month={content:d('\x3ctd#\x3ddata.cssClass# role\x3d"gridcell"\x3e\x3ca tabindex\x3d"-1" class\x3d"k-link#\x3ddata.linkClass#" href\x3d"#\x3ddata.url#" '+p.attr("value")+'\x3d"#\x3ddata.dateString#" title\x3d"#\x3ddata.title#"\x3e'+(g||"#\x3ddata.value#")+"\x3c/a\x3e\x3c/td\x3e",{useWithBlock:!!g}),empty:d('\x3ctd role\x3d"gridcell"\x3e'+(b||"\x26nbsp;")+"\x3c/td\x3e",{useWithBlock:!!b})};this.footer=!1!==c?d(c||'#\x3d kendo.toString(data,"D","'+a.culture+'") #',{useWithBlock:!1}):null}});D.plugin(n);var ca={firstDayOfMonth:function(a){return new N(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,d){d=d||p.culture().calendar;for(var c=d.firstDay,b=new N(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());b.getDay()!=c;)ca.setTime(b,-864E5);return b},setTime:function(a,d){var c=a.getTimezoneOffset(),b=new N(a.getTime()+d),c=b.getTimezoneOffset()-c;a.setTime(b.getTime()+6E4*c)},views:[{name:"month",title:function(a,d,c,b){return g(b).calendars.standard.months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var d=0,c=a.min,b=a.max,e=a.date,f=a.dates,l=a.format,r=a.culture,h=a.url,G=h&&f[0],n=g(r).calendars.standard,D=n.firstDay,m=n.days,J=F(m.names,D),D=F(m.namesShort,D),n=ca.firstVisibleDay(e,n),H=this.first(e),O=this.last(e),t=this.toDateString,K=new N,e='\x3ctable tabindex\x3d"0" role\x3d"grid" class\x3d"k-content" cellspacing\x3d"0" data-start\x3d"'+t(n)+'"\x3e\x3cthead\x3e\x3ctr role\x3d"row"\x3e';7>d;d++)e+='\x3cth scope\x3d"col" title\x3d"'+J[d]+'"\x3e'+D[d]+"\x3c/th\x3e";K=new N(K.getFullYear(),K.getMonth(),K.getDate());w(K,0);K=+K;return B({cells:42,perRow:7,html:e+='\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3ctr role\x3d"row"\x3e',start:n,min:new N(c.getFullYear(),c.getMonth(),c.getDate()),max:new N(b.getFullYear(),b.getMonth(),b.getDate()),content:a.content,empty:a.empty,setter:this.setDate,disableDates:a.disableDates,build:function(a,d,c){d=[];var b=a.getDay(),g="",e="#";(a<H||a>O)&&d.push("k-other-month");c(a)&&d.push("k-state-disabled");+a===K&&d.push("k-today");0!==b&&6!==b||d.push("k-weekend");if(c=G)a:{c=0;for(b=f.length;c<b;c++)if(+a===+f[c]){c=!0;break a}c=!1}c&&(e=h.replace("{0}",p.toString(a,l,r)),g=" k-action-link");return{date:a,dates:f,ns:p.ns,title:p.toString(a,"D",r),value:a.getDate(),dateString:t(a),cssClass:d[0]?' class\x3d"'+d.join(" ")+'"':"",linkClass:g,url:e}}})},first:function(a){return ca.firstDayOfMonth(a)},last:function(a){var d=new N(a.getFullYear(),a.getMonth()+1,0);a=ca.firstDayOfMonth(a);var c=Math.abs(d.getTimezoneOffset()-a.getTimezoneOffset());c&&d.setHours(a.getHours()+c/60);return d},compare:function(a,d){var c=a.getMonth(),b=a.getFullYear(),g=d.getMonth(),e=d.getFullYear();return b>e?1:b<e?-1:c==g?0:c>g?1:-1},setDate:function(a,d){var c=a.getHours();d instanceof N?a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()):ca.setTime(a,864E5*d);w(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var d=g(a.culture).calendars.standard.months.namesAbbr,c=this.toDateString,b=a.min,e=a.max;return B({min:new N(b.getFullYear(),b.getMonth(),1),max:new N(e.getFullYear(),e.getMonth(),1),start:new N(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:d[a.getMonth()],ns:p.ns,dateString:c(a),cssClass:""}}})},first:function(a){return new N(a.getFullYear(),0,a.getDate())},last:function(a){return new N(a.getFullYear(),11,a.getDate())},compare:function(a,d){return u(a,d)},setDate:function(a,d){var c,b=a.getHours();d instanceof N?(c=d.getMonth(),a.setFullYear(d.getFullYear(),c,a.getDate()),c!==a.getMonth()&&a.setDate(0)):(c=a.getMonth()+d,a.setMonth(c),11<c&&(c-=12),0<c&&a.getMonth()!=c&&a.setDate(0));w(a,b)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,d,c){return q(a,d,c,10)},content:function(a){var d=a.date.getFullYear(),c=this.toDateString;return B({start:new N(d-d%10-1,0,1),min:new N(a.min.getFullYear(),0,1),max:new N(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,d){return{value:a.getFullYear(),ns:p.ns,dateString:c(a),cssClass:0===d||11==d?' class\x3d"k-other-month"':""}}})},first:function(a){var d=a.getFullYear();return new N(d-d%10,a.getMonth(),a.getDate())},last:function(a){var d=a.getFullYear();return new N(d-d%10+9,a.getMonth(),a.getDate())},compare:function(a,d){return u(a,d,10)},setDate:function(a,d){A(a,d,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:"century",title:function(a,d,c){return q(a,d,c,100)},content:function(a){var d=a.date.getFullYear(),c=a.min.getFullYear(),b=a.max.getFullYear(),g=this.toDateString;a=c;var e=b;a-=a%10;e-=e%10;10>e-a&&(e=a+9);return B({start:new N(d-d%100-10,0,1),min:new N(a,0,1),max:new N(e,0,1),setter:this.setDate,build:function(a,d){var e=a.getFullYear(),f=e+9;e<c&&(e=c);f>b&&(f=b);return{ns:p.ns,value:e+" - "+f,dateString:g(a),cssClass:0===d||11==d?' class\x3d"k-other-month"':""}}})},first:function(a){var d=a.getFullYear();return new N(d-d%100,a.getMonth(),a.getDate())},last:function(a){var d=a.getFullYear();return new N(d-d%100+99,a.getMonth(),a.getDate())},compare:function(a,d){return u(a,d,100)},setDate:function(a,d){A(a,d,10)},toDateString:function(a){a=a.getFullYear();return a-a%10+"/0/1"}}],isEqualDatePart:function(a,d){return a?a.getFullYear()===d.getFullYear()&&a.getMonth()===d.getMonth()&&a.getDate()===d.getDate():!1}};ca.makeUnselectable=m;ca.restrictValue=C;ca.isInRange=y;ca.normalize=t;ca.viewsEnum=Z;ca.disabled=e;p.calendar=ca})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.timepicker",["kendo.popup"],b)})(function(){(function(b,k){function q(c){return 36E5*c.getHours()+6E4*c.getMinutes()+1E3*c.getSeconds()+c.getMilliseconds()}function B(c,a,d){a=q(a);d=q(d);if(!c||a==d)return!0;c=q(c);a>c&&(c+=864E5);d<a&&(d+=864E5);return c>=a&&c<=d}function u(c){var a=c.parseFormats;c.format=E(c.format||C.getCulture(c.culture).calendars.standard.patterns.t);a=h(a)?a:[a];a.splice(0,0,c.format);c.parseFormats=a}function z(c){c.preventDefault()}var C=window.kendo,y=C.keys,F=C.parseDate,A=C._activeElement,E=C._extractFormat,x=C.support,t=x.browser,m=C.ui,e=m.Widget,h=b.isArray,p=b.extend,n=b.proxy,D=Date,f=new D,f=new D(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0),l=function(c){var a=c.id;this.options=c;this._dates=[];this.ul=b('\x3cul tabindex\x3d"-1" role\x3d"listbox" aria-hidden\x3d"true" unselectable\x3d"on" class\x3d"k-list k-reset"/\x3e').css({overflow:x.kineticScrollNeeded?"":"auto"}).on("click.kendoTimePicker","li",n(this._click,this)).on("mouseenter.kendoTimePicker","li",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoTimePicker","li",function(){b(this).removeClass("k-state-hover")});this.list=b("\x3cdiv class\x3d'k-list-container k-list-scroller' unselectable\x3d'on'/\x3e").append(this.ul).on("mousedown.kendoTimePicker",z);a&&(this._timeViewID=a+"_timeview",this._optionID=a+"_option_selected",this.ul.attr("id",this._timeViewID));this._popup();this._heightHandler=n(this._height,this);this.template=C.template('\x3cli tabindex\x3d"-1" role\x3d"option" class\x3d"k-item" unselectable\x3d"on"\x3e#\x3ddata#\x3c/li\x3e',{useWithBlock:!1})};l.prototype={current:function(c){var a=this.options.active;if(c!==k)this._current&&this._current.removeClass("k-state-selected").removeAttr("aria-selected").removeAttr("id"),c&&(c=b(c).addClass("k-state-selected").attr("id",this._optionID).attr("aria-selected",!0),this.scroll(c[0])),this._current=c,a&&a(c);else return this._current},close:function(){this.popup.close()},destroy:function(){this.ul.off(".kendoTimePicker");this.list.off(".kendoTimePicker");this.popup.destroy()},open:function(){this.ul[0].firstChild||this.bind();this.popup.open();this._current&&this.scroll(this._current[0])},dataBind:function(c){for(var a=this.options,d=a.format,b=C.toString,e=this.template,f=c.length,l=0,w,h="";l<f;l++)w=c[l],B(w,a.min,a.max)&&(h+=e(b(w,d,a.culture)));this._html(h)},refresh:function(){var c=this.options,a=c.format,d,b=new D,e=new D(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0),b=new D(b.getFullYear(),b.getMonth(),b.getDate(),12,0,0);d=-1*(e.getTimezoneOffset()-b.getTimezoneOffset());var e=0>d,f=c.min,b=c.max,l=q(f),h=q(b),n=6E4*c.interval,p=C.toString,r=this.template,f=new D(+f),m=f.getDate(),t,k=0,x="";d=e?(864E5+6E4*d)/n:864E5/n;l!=h&&(l>h&&(h+=864E5),d=(h-l)/n+1);for(l=parseInt(d,10);k<d;k++){if(k){t=f;var E=n,u=e,A=t.getTimezoneOffset();t.setTime(t.getTime()+E);u||(E=t.getTimezoneOffset()-A,t.setTime(t.getTime()+6E4*E))}h&&l==k&&(t=q(f),m<f.getDate()&&(t+=864E5),t>h&&(f=new D(+b)));this._dates.push(q(f));x+=r(p(f,a,c.culture))}this._html(x)},bind:function(){var c=this.options.dates;c&&c[0]?this.dataBind(c):this.refresh()},_html:function(c){this.ul[0].innerHTML=c;this.popup.unbind("open",this._heightHandler);this.popup.one("open",this._heightHandler);this.current(null);this.select(this._value)},scroll:function(c){if(c){var a=this.list[0],d=c.offsetTop,b=a.scrollTop,e=a.clientHeight;c=d+c.offsetHeight;b>d?b=d:c>b+e&&(b=c-e);a.scrollTop=b}},select:function(c){var a=this.options,d=this._current;c instanceof Date&&(c=C.toString(c,a.format,a.culture));"string"===typeof c&&(d&&d.text()===c?c=d:(c=b.grep(this.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==c}),c=c[0]?c:null));a=this._distinctSelection(c);this.current(a)},_distinctSelection:function(c){c&&1<c.length&&(c=q(this._value),c=b.inArray(c,this._dates),c=this.ul.children()[c]);return c},setOptions:function(c){var a=this.options;c.min=F(c.min);c.max=F(c.max);this.options=p(a,c,{active:a.active,change:a.change,close:a.close,open:a.open});this.bind()},toggle:function(){this.popup.visible()?this.close():this.open()},value:function(c){this._value=c;this.ul[0].firstChild&&this.select(c)},_click:function(c){var a=b(c.currentTarget),d=a.text(),g=this.options.dates;g&&0<g.length&&(d=g[a.index()]);c.isDefaultPrevented()||(this.select(a),this.options.change(d,!0),this.close())},_height:function(){var c=this.list,a=c.parent(".k-animation-container"),d=this.options.height;this.ul[0].children.length&&c.add(a).show().height(this.ul[0].scrollHeight>d?d:"auto").hide()},_parse:function(c){var a=this.options,d=this._value||f;if(c instanceof D)return c;(c=F(c,a.parseFormats,a.culture))&&(c=new D(d.getFullYear(),d.getMonth(),d.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()));return c},_adjustListWidth:function(){var c=this.list,a=c[0].style.width,d=this.options.anchor,b;if(c.data("width")||!a)b=(a=window.getComputedStyle?window.getComputedStyle(d[0],null):0)?parseFloat(a.width):d.outerWidth(),a&&(t.mozilla||t.msie)&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),a=b-(c.outerWidth()-c.width()),c.css({fontFamily:d.css("font-family"),width:a}).data("width",a)},_popup:function(){var c=this.options;this.popup=new m.Popup(this.list,p(c.popup,{anchor:c.anchor,open:c.open,close:c.close,animation:c.animation,isRtl:x.isRtl(c.anchor)}))},move:function(c){var a=c.keyCode,d=this.ul[0],b=this._current,e=a===y.DOWN;if(a===y.UP||e)c.altKey?this.toggle(e):((b=e?b?b[0].nextSibling:d.firstChild:b?b[0].previousSibling:d.lastChild)&&this.select(b),this.options.change(this._current.text()),c.preventDefault());else if(a===y.ENTER||a===y.TAB||a===y.ESC)c.preventDefault(),b&&this.options.change(b.text(),!0),this.close()}};l.getMilliseconds=q;C.TimeView=l;var c=e.extend({init:function(c,a){var d=this,g,f;e.fn.init.call(d,c,a);c=d.element;a=d.options;a.min=F(c.attr("min"))||F(a.min);a.max=F(c.attr("max"))||F(a.max);u(a);d._initialOptions=p({},a);d._wrapper();d.timeView=f=new l(p({},a,{id:c.attr("id"),anchor:d.wrapper,format:a.format,change:function(a,b){b?d._change(a):c.val(a)},open:function(a){d.timeView._adjustListWidth();d.trigger("open")?a.preventDefault():(c.attr("aria-expanded",!0),g.attr("aria-hidden",!1))},close:function(a){d.trigger("close")?a.preventDefault():(c.attr("aria-expanded",!1),g.attr("aria-hidden",!0))},active:function(a){c.removeAttr("aria-activedescendant");a&&c.attr("aria-activedescendant",f._optionID)}}));g=f.ul;d._icon();d._reset();try{c[0].setAttribute("type","text")}catch(P){c[0].type="text"}c.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":f._timeViewID});c.is("[disabled]")||b(d.element).parents("fieldset").is(":disabled")?d.enable(!1):d.readonly(c.is("[readonly]"));d._old=d._update(a.value||d.element.val());d._oldText=c.val();C.notify(d)},options:{name:"TimePicker",min:f,max:f,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:["open","close","change"],setOptions:function(c){var a=this._value;e.fn.setOptions.call(this,c);c=this.options;u(c);this.timeView.setOptions(c);a&&this.element.val(C.toString(a,c.format,c.culture))},dataBind:function(c){h(c)&&this.timeView.dataBind(c)},_editable:function(c){var a=this,d=c.disable;c=c.readonly;var b=a._arrow.off(".kendoTimePicker"),e=a.element.off(".kendoTimePicker"),f=a._inputWrapper.off(".kendoTimePicker");c||d?(f.addClass(d?"k-state-disabled":"k-state-default").removeClass(d?"k-state-default":"k-state-disabled"),e.attr("disabled",d).attr("readonly",c).attr("aria-disabled",d).attr("aria-readonly",c)):(f.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoTimePicker mouseleave.kendoTimePicker",a._toggleHover),e.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1).on("keydown.kendoTimePicker",n(a._keydown,a)).on("focusout.kendoTimePicker",n(a._blur,a)).on("focus.kendoTimePicker",function(){a._inputWrapper.addClass("k-state-focused")}),b.on("click.kendoTimePicker",n(a._click,a)).on("mousedown.kendoTimePicker",z))},readonly:function(c){this._editable({readonly:c===k?!0:c,disable:!1})},enable:function(c){this._editable({readonly:!1,disable:!(c===k||c)})},destroy:function(){e.fn.destroy.call(this);this.timeView.destroy();this.element.off(".kendoTimePicker");this._arrow.off(".kendoTimePicker");this._inputWrapper.off(".kendoTimePicker");this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(c){return this._option("min",c)},max:function(c){return this._option("max",c)},value:function(c){if(c===k)return this._value;this._old=this._update(c);null===this._old&&this.element.val("");this._oldText=this.element.val()},_blur:function(){var c=this.element.val();this.close();c!==this._oldText&&this._change(c);this._inputWrapper.removeClass("k-state-focused")},_click:function(){var c=this.element;this.timeView.toggle();x.touch||c[0]===A()||c.focus()},_change:function(c){c=this._update(c);+this._old!=+c&&(this._old=c,this._oldText=this.element.val(),this._typing||this.element.trigger("change"),this.trigger("change"));this._typing=!1},_icon:function(){var c=this.element,a;a=c.next("span.k-select");a[0]||(a=b('\x3cspan unselectable\x3d"on" class\x3d"k-select"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-clock"\x3eselect\x3c/span\x3e\x3c/span\x3e').insertAfter(c));this._arrow=a.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(c){var a=c.keyCode,d=this.timeView,b=this.element.val();d.popup.visible()||c.altKey?d.move(c):a===y.ENTER&&b!==this._oldText?this._change(b):this._typing=!0},_option:function(c,a){var d=this.options;if(a===k)return d[c];if(a=this.timeView._parse(a))a=new D(+a),d[c]=a,this.timeView.options[c]=a,this.timeView.bind()},_toggleHover:function(c){b(c.currentTarget).toggleClass("k-state-hover","mouseenter"===c.type)},_update:function(c){var a=this.options,d=this.timeView,b=d._parse(c);B(b,a.min,a.max)||(b=null);this._value=b;this.element.val(b?C.toString(b,a.format,a.culture):c);d.value(b);return b},_wrapper:function(){var c=this.element,a;a=c.parents(".k-timepicker");a[0]||(a=c.wrap("\x3cspan/\x3e").parent().addClass("k-picker-wrap k-state-default"),a=a.wrap("\x3cspan/\x3e").parent());a[0].style.cssText=c[0].style.cssText;this.wrapper=a.addClass("k-widget k-timepicker k-header").addClass(c[0].className);c.css({width:"100%",height:c[0].style.height});this._inputWrapper=b(a[0].firstChild)},_reset:function(){var c=this,a=c.element,d=a.attr("form"),d=d?b("#"+d):a.closest("form");d[0]&&(c._resetHandler=function(){c.value(a[0].defaultValue);c.max(c._initialOptions.max);c.min(c._initialOptions.min)},c._form=d.on("reset",c._resetHandler))}});m.plugin(c)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.columnsorter",["kendo.core"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui,u=B.Widget,z=b.proxy,C=u.extend({init:function(b,k){var q;u.fn.init.call(this,b,k);this._refreshHandler=z(this.refresh,this);this.dataSource=this.options.dataSource.bind("change",this._refreshHandler);q=this.element.find(".k-link");q[0]||(q=this.element.wrapInner('\x3ca class\x3d"k-link" href\x3d"#"/\x3e').find(".k-link"));this.link=q;this.element.on("click.kendoColumnSorter",z(this._click,this))},options:{name:"ColumnSorter",mode:"single",allowUnsort:!0,compare:null,filter:""},destroy:function(){u.fn.destroy.call(this);this.element.off(".kendoColumnSorter");this.dataSource.unbind("change",this._refreshHandler);this._refreshHandler=this.element=this.link=this.dataSource=null},refresh:function(){var k=this.dataSource.sort()||[],u,A,E,x=this.element,t=x.attr(q.attr("field"));x.removeAttr(q.attr("dir"));x.removeAttr("aria-sort");u=0;for(A=k.length;u<A;u++)E=k[u],t==E.field&&x.attr(q.attr("dir"),E.dir);k=x.attr(q.attr("dir"));x.find(".k-i-arrow-n,.k-i-arrow-s").remove();"asc"===k?(b('\x3cspan class\x3d"k-icon k-i-arrow-n" /\x3e').appendTo(this.link),x.attr("aria-sort","ascending")):"desc"===k&&(b('\x3cspan class\x3d"k-icon k-i-arrow-s" /\x3e').appendTo(this.link),x.attr("aria-sort","descending"))},_click:function(b){var u=this.element,A=u.attr(q.attr("field")),E=u.attr(q.attr("dir")),x=this.options,t=null===this.options.compare?k:this.options.compare,m=this.dataSource.sort()||[];b.preventDefault();if(!x.filter||u.is(x.filter)){E="asc"===E?"desc":"desc"===E&&x.allowUnsort?k:"asc";if("single"===x.mode)m=[{field:A,dir:E,compare:t}];else if("multiple"===x.mode){b=0;for(u=m.length;b<u;b++)if(m[b].field===A){m.splice(b,1);break}m.push({field:A,dir:E,compare:t})}this.dataSource.sort(m)}}});B.plugin(C)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.userevents",["kendo.core"],b)})(function(){(function(b,k){function q(c,b){var a=c.x.location,d=c.y.location,g=b.x.location,e=b.y.location,f=a-g,l=d-e;return{center:{x:(a+g)/2,y:(d+e)/2},distance:Math.sqrt(f*f+l*l)}}function B(c){var b=[],a=c.originalEvent,d=c.currentTarget,g=0,e,f;if(c.api)b.push({id:2,event:c,target:c.target,currentTarget:c.target,location:c,type:"api"});else if(c.type.match(/touch/))for(e=a?a.changedTouches:[],a=e.length;g<a;g++)f=e[g],b.push({location:f,event:c,target:f.target,currentTarget:d,id:f.identifier,type:"touch"});else C.pointers||C.msPointers?b.push({location:a,event:c,target:c.target,currentTarget:d,id:a.pointerId,type:"pointer"}):b.push({id:1,event:c,target:c.target,currentTarget:d,location:c,type:"mouse"});return b}function u(c){for(var b=z.eventMap.up.split(" "),a=0,d=b.length;a<d;a++)c(b[a])}var z=window.kendo,C=z.support,y=window.document,F=z.Class,A=z.Observable,E=b.now,x=b.extend,t=C.mobileOS,m=t&&t.android,e=800,h=C.browser.msie?5:0,p={api:0,touch:0,mouse:9,pointer:9},n=!C.touch||C.mouseAndTouchPresent,D=F.extend({init:function(c,b){this.axis=c;this._updateLocationData(b);this.startLocation=this.location;this.velocity=this.delta=0;this.timeStamp=E()},move:function(c){var b=c["page"+this.axis],a=E(),d=a-this.timeStamp||1;if(b||!m)this.delta=b-this.location,this._updateLocationData(c),this.initialDelta=b-this.startLocation,this.velocity=this.delta/d,this.timeStamp=a},_updateLocationData:function(c){var b=this.axis;this.location=c["page"+b];this.client=c["client"+b];this.screen=c["screen"+b]}}),f=F.extend({init:function(c,b,a){x(this,{x:new D("X",a.location),y:new D("Y",a.location),type:a.type,useClickAsTap:c.useClickAsTap,threshold:c.threshold||p[a.type],userEvents:c,target:b,currentTarget:a.currentTarget,initialTouch:a.target,id:a.id,pressEvent:a,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(b.proxy(this,"_hold"),this.userEvents.minHold);this._trigger("press",this.pressEvent)},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(c){if(!this._finished){this.x.move(c.location);this.y.move(c.location);if(!this._moved){if(this._withinIgnoreThreshold())return;if(l.current&&l.current!==this.userEvents)return this.dispose();this._start(c)}this._finished||this._trigger("move",c)}},end:function(c){this.endTime=E();this._finished||(this._finished=!0,this._trigger("release",c),this._moved?this._trigger("end",c):this.useClickAsTap||this._trigger("tap",c),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var c=this.userEvents.touches;this._finished=!0;this.pressEvent=null;clearTimeout(this._holdTimeout);c.splice(b.inArray(this,c),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(c){clearTimeout(this._holdTimeout);this.startTime=E();this._moved=!0;this._trigger("start",c)},_trigger:function(c,b){var a=b.event;this.userEvents.notify(c,{touch:this,x:this.x,y:this.y,target:this.target,event:a})&&a.preventDefault()},_withinIgnoreThreshold:function(){var c=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(c*c+b*b)<=this.threshold}}),l=A.extend({init:function(c,f){var a,d=z.guid();f=f||{};a=this.filter=f.filter;this.threshold=f.threshold||h;this.minHold=f.minHold||e;this.touches=[];this._maxTouches=f.multiTouch?2:1;this.allowSelection=f.allowSelection;this.captureUpIfMoved=f.captureUpIfMoved;this.useClickAsTap=!f.fastTap&&!C.delayedClick();this.eventNS=d;c=b(c).handler(this);A.fn.init.call(this);x(this,{element:c,surface:f.global&&n?b(y.documentElement):b(f.surface||c),stopPropagation:f.stopPropagation,pressed:!1});this.surface.handler(this).on(z.applyEventMap("move",d),"_move").on(z.applyEventMap("up cancel",d),"_end");c.on(z.applyEventMap("down",d),a,"_start");if(this.useClickAsTap)c.on(z.applyEventMap("click",d),a,"_click");if(C.pointers||C.msPointers)11>C.browser.version?c.css("-ms-touch-action","pinch-zoom double-tap-zoom"):c.css("touch-action","pan-y");if(f.preventDragEvent)c.on(z.applyEventMap("dragstart",d),z.preventDefault);c.on(z.applyEventMap("mousedown",d),a,{root:c},"_select");if(this.captureUpIfMoved&&C.eventCapture){var g=this.surface[0],l=b.proxy(this.preventIfMoving,this);u(function(a){g.addEventListener(a,l,!0)})}this.bind("press hold tap start move end release cancel gesturestart gesturechange gestureend gesturetap select".split(" "),f)},preventIfMoving:function(c){this._isMoved()&&c.preventDefault()},destroy:function(){var c=this;if(!c._destroyed){c._destroyed=!0;if(c.captureUpIfMoved&&C.eventCapture){var b=c.surface[0];u(function(a){b.removeEventListener(a,c.preventIfMoving)})}c.element.kendoDestroy(c.eventNS);c.surface.kendoDestroy(c.eventNS);c.element.removeData("handler");c.surface.removeData("handler");c._disposeAll();c.unbind();delete c.surface;delete c.element;delete c.currentTarget}},capture:function(){l.current=this},cancel:function(){this._disposeAll();this.trigger("cancel")},notify:function(c,b){var a=this.touches;if(this._isMultiTouch()){switch(c){case "move":c="gesturechange";break;case "end":c="gestureend";break;case "tap":c="gesturetap"}x(b,{touches:a},q(a[0],a[1]))}return this.trigger(c,x(b,{type:c}))},press:function(c,b,a){this._apiCall("_start",c,b,a)},move:function(c,b){this._apiCall("_move",c,b)},end:function(c,b){this._apiCall("_end",c,b)},_isMultiTouch:function(){return 1<this.touches.length},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var c=this.touches;0<c.length;)c.pop().dispose()},_isMoved:function(){return b.grep(this.touches,function(c){return c.isMoved()}).length},_select:function(c){this.allowSelection&&!this.trigger("select",{event:c})||c.preventDefault()},_start:function(c){var e=0,a=this.filter,d=B(c),g=d.length,h;h=c.which;if(!(h&&1<h||this._maxTouchesReached()))for(l.current=null,this.currentTarget=c.currentTarget,this.stopPropagation&&c.stopPropagation();e<g&&!this._maxTouchesReached();e++)h=d[e],c=a?b(h.currentTarget):this.element,c.length&&(h=new f(this,c,h),this.touches.push(h),h.press(),this._isMultiTouch()&&this.notify("gesturestart",{}))},_move:function(c){this._eachTouch("move",c)},_end:function(c){this._eachTouch("end",c)},_click:function(c){var e={touch:{initialTouch:c.target,target:b(c.currentTarget),endTime:E(),x:{location:c.pageX,client:c.clientX},y:{location:c.pageY,client:c.clientY}},x:c.pageX,y:c.pageY,target:b(c.currentTarget),event:c,type:"tap"};this.trigger("tap",e)&&c.preventDefault()},_eachTouch:function(c,b){var a={},d=B(b),g=this.touches,e,f;for(e=0;e<g.length;e++)f=g[e],a[f.id]=f;for(e=0;e<d.length;e++)if(g=d[e],f=a[g.id])f[c](g)},_apiCall:function(c,e,a,d){this[c]({api:!0,pageX:e,pageY:a,clientX:e,clientY:a,target:b(d||this.element)[0],stopPropagation:b.noop,preventDefault:b.noop})}});l.defaultThreshold=function(c){h=c};l.minHold=function(c){e=c};z.getTouches=B;z.touchDelta=q;z.UserEvents=l})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.draganddrop",["kendo.core","kendo.userevents"],b)})(function(){(function(b,k){function q(a,d){return Math.min(Math.max(a,d.min),d.max)}function B(a,d){var c=f(a),b=c.left+(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),c=c.top+(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),g=b+a.width()-d.outerWidth(!0),e=c+a.height()-d.outerHeight(!0);return{x:{min:b,max:g},y:{min:c,max:e}}}function u(a,d){var c=d.options.group,b=a[c];e.fn.destroy.call(d);if(1<b.length)for(c=0;c<b.length;c++){if(b[c]==d){b.splice(c,1);break}}else b.length=0,delete a[c]}function z(a){var d=C()[0];if(a[0]===d)return a=d.scrollTop,d=d.scrollLeft,{top:a,left:d,bottom:a+t.height(),right:d+t.width()};d=a.offset();d.bottom=d.top+a.height();d.right=d.left+a.width();return d}function C(){return b(A.support.browser.chrome?x.body:x.documentElement)}function y(a){var d=C();if(!a||a===x.body||a===x.documentElement)return d;for(a=b(a)[0];a&&!A.isScrollable(a)&&a!==x.body;)a=a.parentNode;return a===x.body?d:b(a)}function F(a,d,c){var b={x:0,y:0};50>a-c.left?b.x=-(50-(a-c.left)):50>c.right-a&&(b.x=50-(c.right-a));50>d-c.top?b.y=-(50-(d-c.top)):50>c.bottom-d&&(b.y=50-(c.bottom-d));return b}var A=window.kendo,E=A.support,x=window.document,t=b(window),m=A.Class,e=A.ui.Widget,h=A.Observable,p=A.UserEvents,n=b.proxy,D=b.extend,f=A.getOffset,l={},c={},w={},a,d=A.elementUnderCursor,g=h.extend({init:function(a,d){var c=this,g=a[0];c.capture=!1;g.addEventListener?(b.each(A.eventMap.down.split(" "),function(){g.addEventListener(this,n(c._press,c),!0)}),b.each(A.eventMap.up.split(" "),function(){g.addEventListener(this,n(c._release,c),!0)})):(b.each(A.eventMap.down.split(" "),function(){g.attachEvent(this,n(c._press,c))}),b.each(A.eventMap.up.split(" "),function(){g.attachEvent(this,n(c._release,c))}));h.fn.init.call(c);c.bind(["press","release"],d||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){this.trigger("press");this.capture&&a.preventDefault()},_release:function(a){this.trigger("release");this.capture&&(a.preventDefault(),this.cancelCapture())}}),G=h.extend({init:function(a){h.fn.init.call(this);this.forcedEnabled=!1;b.extend(this,a);this.scale=1;this.horizontal?(this.measure="offsetWidth",this.scrollSize="scrollWidth",this.axis="x"):(this.measure="offsetHeight",this.scrollSize="scrollHeight",this.axis="y")},makeVirtual:function(){b.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(a,d){if(this._virtualMin!==a||this._virtualMax!==d)this._virtualMin=a,this._virtualMax=d,this.update()},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var d=this.virtual?this._virtualMax:this.getTotal(),c=d*this.scale,b=this.getSize();if(0!==d||this.forcedEnabled)this.max=this.virtual?-this._virtualMin:0,this.size=b,this.total=c,this.min=Math.min(this.max,b-c),this.minScale=b/d,this.centerOffset=(c-b)/2,this.enabled=this.forcedEnabled||c>b,a||this.trigger("change",this)}}),P=h.extend({init:function(a){h.fn.init.call(this);this.x=new G(D({horizontal:!0},a));this.y=new G(D({horizontal:!1},a));this.container=a.container;this.forcedMinScale=a.minScale;this.maxScale=a.maxScale||100;this.bind("change",a)},rescale:function(a){this.x.rescale(a);this.y.rescale(a);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){this.x.update();this.y.update();this.enabled=this.x.enabled||this.y.enabled;this.minScale=this.forcedMinScale||Math.min(this.x.minScale,this.y.minScale);this.fitScale=Math.max(this.x.minScale,this.y.minScale);this.trigger("change")}}),J=h.extend({init:function(a){D(this,a);h.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(a){var d=this.dimension,c=this.axis,b=this.movable,g=b[c]+a;if(d.enabled){if(g<d.min&&0>a||g>d.max&&0<a)a*=this.resistance;b.translateAxis(c,a);this.trigger("change",this)}}}),m=m.extend({init:function(a){var d=this,c,g,e;D(d,{elastic:!0},a);a=d.elastic?.5:0;e=d.movable;d.x=c=new J({axis:"x",dimension:d.dimensions.x,resistance:a,movable:e});d.y=g=new J({axis:"y",dimension:d.dimensions.y,resistance:a,movable:e});d.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(a){d.gesture=a;d.offset=d.dimensions.container.offset()},press:function(a){b(a.event.target).closest("a").is("[data-navigate-on-press\x3dtrue]")&&a.sender.cancel()},gesturechange:function(a){var b,f,l=d.gesture;f=l.center;var r=a.center,l=a.distance/l.distance;b=d.dimensions.maxScale;e.scale<=d.dimensions.minScale&&1>l&&(l+=.8*(1-l));e.scale*l>=b&&(l=b/e.scale);b=e.x+d.offset.left;var h=e.y+d.offset.top;b=(b-f.x)*l+r.x-b;f=(h-f.y)*l+r.y-h;e.scaleWith(l);c.dragMove(b);g.dragMove(f);d.dimensions.rescale(e.scale);d.gesture=a;a.preventDefault()},move:function(a){a.event.target.tagName.match(/textarea|input/i)||(c.dimension.enabled||g.dimension.enabled?(c.dragMove(a.x.delta),g.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end:function(a){a.preventDefault()}})}}),O=E.transitions.prefix+"Transform",H;H=E.hasHW3D?function(a,d,c){return"translate3d("+a+"px,"+d+"px,0) scale("+c+")"}:function(a,d,c){return"translate("+a+"px,"+d+"px) scale("+c+")"};var Y=h.extend({init:function(a){h.fn.init.call(this);this.element=b(a);this.element[0].style.webkitTransformOrigin="left top";this.y=this.x=0;this.scale=1;this._saveCoordinates(H(this.x,this.y,this.scale))},translateAxis:function(a,d){this[a]+=d;this.refresh()},scaleTo:function(a){this.scale=a;this.refresh()},scaleWith:function(a){this.scale*=a;this.refresh()},translate:function(a){this.x+=a.x;this.y+=a.y;this.refresh()},moveAxis:function(a,d){this[a]=d;this.refresh()},moveTo:function(a){D(this,a);this.refresh()},refresh:function(){var a=this.x,d=this.y;this.round&&(a=Math.round(a),d=Math.round(d));a=H(a,d,this.scale);a!=this.coordinates&&(A.support.browser.msie&&10>A.support.browser.version?(this.element[0].style.position="absolute",this.element[0].style.left=this.x+"px",this.element[0].style.top=this.y+"px"):this.element[0].style[O]=a,this._saveCoordinates(a),this.trigger("change"))},_saveCoordinates:function(a){this.coordinates=a}}),r=e.extend({init:function(a,d){e.fn.init.call(this,a,d);var b=this.options.group;b in c?c[b].push(this):c[b]=[this]},events:["dragenter","dragleave","drop"],options:{name:"DropTarget",group:"default"},destroy:function(){u(c,this)},_trigger:function(a,d){var c=l[this.options.group];if(c)return this.trigger(a,D({},d.event,{draggable:c,dropTarget:d.dropTarget}))},_over:function(a){this._trigger("dragenter",a)},_out:function(a){this._trigger("dragleave",a)},_drop:function(a){var d=l[this.options.group];d&&(d.dropped=!this._trigger("drop",a))}});r.destroyGroup=function(a){var d=c[a]||w[a],b;if(d){for(b=0;b<d.length;b++)e.fn.destroy.call(d[b]);d.length=0;delete c[a];delete w[a]}};r._cache=c;var K=r.extend({init:function(a,d){e.fn.init.call(this,a,d);var c=this.options.group;c in w?w[c].push(this):w[c]=[this]},destroy:function(){u(w,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),Q=e.extend({init:function(a,d){e.fn.init.call(this,a,d);this._activated=!1;this.userEvents=new p(this.element,{global:!0,allowSelection:!0,filter:this.options.filter,threshold:this.options.distance,start:n(this._start,this),hold:n(this._hold,this),move:n(this._drag,this),end:n(this._end,this),cancel:n(this._cancel,this),select:n(this._select,this)});this._afterEndHandler=n(this._afterEnd,this);this._captureEscape=n(this._captureEscape,this)},events:"hold dragstart drag dragend dragcancel hintDestroyed".split(" "),options:{name:"Draggable",distance:A.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(a){a.keyCode===A.keys.ESC&&(this._trigger("dragcancel",{event:a}),this.userEvents.cancel())},_updateHint:function(a){var d=this.boundaries,c=this.options.axis,g=this.options.cursorOffset;g?a={left:a.x.location+g.left,top:a.y.location+g.top}:(this.hintOffset.left+=a.x.delta,this.hintOffset.top+=a.y.delta,a=b.extend({},this.hintOffset));d&&(a.top=q(a.top,d.y),a.left=q(a.left,d.x));"x"===c?delete a.top:"y"===c&&delete a.left;this.hint.css(a)},_shouldIgnoreTarget:function(a){var d=this.options.ignore;return d&&b(a).is(d)},_select:function(a){this._shouldIgnoreTarget(a.event.target)||a.preventDefault()},_start:function(a){var d=this,c=d.options,g=c.container,e=c.hint;this._shouldIgnoreTarget(a.touch.initialTouch)||c.holdToDrag&&!d._activated?d.userEvents.cancel():(d.currentTarget=a.target,d.currentTargetOffset=f(d.currentTarget),e&&(d.hint&&d.hint.stop(!0,!0).remove(),d.hint=A.isFunction(e)?b(e.call(d,d.currentTarget)):e,e=f(d.currentTarget),d.hintOffset=e,d.hint.css({position:"absolute",zIndex:2E4,left:e.left,top:e.top}).appendTo(x.body),d.angular("compile",function(){d.hint.removeAttr("ng-repeat");for(var c=b(a.target);!c.data("$$kendoScope")&&c.length;)c=c.parent();return{elements:d.hint.get(),scopeFrom:c.data("$$kendoScope")}})),l[c.group]=d,d.dropped=!1,g&&(d.boundaries=B(g,d.hint)),b(x).on("keyup",d._captureEscape),d._trigger("dragstart",a)&&(d.userEvents.cancel(),d._afterEnd()),d.userEvents.capture())},_hold:function(a){this.currentTarget=a.target;this._trigger("hold",a)?this.userEvents.cancel():this._activated=!0},_drag:function(a){a.preventDefault();var d=this._elementUnderCursor(a);this._lastEvent=a;this._processMovement(a,d);this.options.autoScroll&&(this._cursorElement!==d&&(this._scrollableParent=y(d),this._cursorElement=d),this._scrollableParent[0]&&(d=F(a.x.location,a.y.location,z(this._scrollableParent)),this._scrollCompenstation=b.extend({},this.hintOffset),this._scrollVelocity=d,0===d.y&&0===d.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(b.proxy(this,"_autoScroll"),50))));this.hint&&this._updateHint(a)},_processMovement:function(d,c){this._withDropTarget(c,function(c,g){if(c){if(a){if(g===a.targetElement)return;a._trigger("dragleave",D(d,{dropTarget:b(a.targetElement)}))}c._trigger("dragenter",D(d,{dropTarget:b(g)}));a=D(c,{targetElement:g})}else a&&(a._trigger("dragleave",D(d,{dropTarget:b(a.targetElement)})),a=null)});this._trigger("drag",D(d,{dropTarget:a,elementUnderCursor:c}))},_autoScroll:function(){var a=this._scrollableParent[0],d=this._scrollVelocity,c=this._scrollCompenstation;if(a){var b=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,b);var g,e;(b=a===C()[0])?(g=x.body.scrollHeight>t.height(),e=x.body.scrollWidth>t.width()):(g=a.offsetHeight<=a.scrollHeight,e=a.offsetWidth<=a.scrollWidth);var f=a.scrollTop+d.y;g=g&&0<f&&f<a.scrollHeight;f=a.scrollLeft+d.x;e=e&&0<f&&f<a.scrollWidth;g&&(a.scrollTop+=d.y);e&&(a.scrollLeft+=d.x);b&&(e||g)&&(g&&(c.top+=d.y),e&&(c.left+=d.x),this.hint.css(c))}},_end:function(d){this._withDropTarget(this._elementUnderCursor(d),function(c,g){c&&(c._drop(D({},d,{dropTarget:b(g)})),a=null)});this._cancel(this._trigger("dragend",d))},_cancel:function(a){var d=this;this._cursorElement=d._scrollableParent=null;clearInterval(this._scrollInterval);d._activated=!1;d.hint&&!d.dropped?setTimeout(function(){d.hint.stop(!0,!0);a?d._afterEndHandler():d.hint.animate(d.currentTargetOffset,"fast",d._afterEndHandler)},0):d._afterEnd()},_trigger:function(a,d){return this.trigger(a,D({},d.event,{x:d.x,y:d.y,currentTarget:this.currentTarget,initialTarget:d.touch?d.touch.initialTouch:null,dropTarget:d.dropTarget,elementUnderCursor:d.elementUnderCursor}))},_elementUnderCursor:function(a){var c=d(a),g=this.hint,e;if(e=g){var f=g[0],l=c;try{e=b.contains(f,l)||f==l}catch(Fa){e=!1}}e&&(g.hide(),(c=d(a))||(c=d(a)),g.show());return c},_withDropTarget:function(a,d){var g,e=this.options.group;g=c[e];e=w[e];if(g&&g.length||e&&e.length){a:{for(var f=a,l,r,h=g&&g.length,G=e&&e.length;f&&f.parentNode;){for(r=0;r<h;r++)if(l=g[r],l.element[0]===f){g={target:l,targetElement:f};break a}for(r=0;r<G;r++)if(l=e[r],b.contains(l.element[0],f)&&E.matchesSelector.call(f,l.options.filter)){g={target:l,targetElement:f};break a}f=f.parentNode}g=k}g?d(g.target,g.targetElement):d()}},destroy:function(){e.fn.destroy.call(this);this._afterEnd();this.userEvents.destroy();this._cursorElement=this._scrollableParent=null;clearInterval(this._scrollInterval);this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove();delete l[this.options.group];this.trigger("destroy");this.trigger("hintDestroyed");b(x).off("keyup",this._captureEscape)}});A.ui.plugin(r);A.ui.plugin(K);A.ui.plugin(Q);A.TapCapture=g;A.containerBoundaries=B;D(A.ui,{Pane:m,PaneDimensions:P,Movable:Y});A.ui.Draggable.utils={autoScrollVelocity:F,scrollableViewPort:z,findScrollableParent:y}})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.color",["kendo.core"],b)})(function(){(function(b,k,q){function B(b,h){var e,n;if(null==b||"none"==b)return null;if(b instanceof A)return b;b=b.toLowerCase();if(e=y.exec(b))return b="transparent"==e[1]?new E(1,1,1,0):B(C.namedColors[e[1]],h),b.match=[e[1]],b;if(e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(b))n=new x(q(e[1],16),q(e[2],16),q(e[3],16),1);else if(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(b))n=new x(q(e[1]+e[1],16),q(e[2]+e[2],16),q(e[3]+e[3],16),1);else if(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(b))n=new x(q(e[1],10),q(e[2],10),q(e[3],10),1);else if(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(b))n=new x(q(e[1],10),q(e[2],10),q(e[3],10),k(e[4]));else if(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(b))n=new E(k(e[1])/100,k(e[2])/100,k(e[3])/100,1);else if(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(b))n=new E(k(e[1])/100,k(e[2])/100,k(e[3])/100,k(e[4]));if(n)n.match=e;else if(!h)throw Error("Cannot parse color: "+b);return n}function u(b,h,p){for(b=b.toString(16);h>b.length;)b="0"+b;return b}function z(b,h,p){0>p&&(p+=1);1<p&&--p;return p<1/6?b+6*(h-b)*p:.5>p?h:p<2/3?b+(h-b)*(2/3-p)*6:b}var C=function(b){var e=C.formats,p,n,D;if(1===arguments.length)for(b=this.resolveColor(b),D=0;D<e.length;D++){if(p=e[D].re,n=e[D].process,p=p.exec(b))n=n(p),this.r=n[0],this.g=n[1],this.b=n[2]}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r);this.g=this.normalizeByte(this.g);this.b=this.normalizeByte(this.b)};C.prototype={toHex:function(){var b=this.padDigit,h=this.r.toString(16),p=this.g.toString(16),n=this.b.toString(16);return"#"+b(h)+b(p)+b(n)},resolveColor:function(b){b=b||"black";"#"==b.charAt(0)&&(b=b.substr(1,6));b=b.replace(/ /g,"");b=b.toLowerCase();return b=C.namedColors[b]||b},normalizeByte:function(b){return 0>b||isNaN(b)?0:255<b?255:b},padDigit:function(b){return 1===b.length?"0"+b:b},brightness:function(b){var e=Math.round;this.r=e(this.normalizeByte(this.r*b));this.g=e(this.normalizeByte(this.g*b));this.b=e(this.normalizeByte(this.b*b));return this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}};C.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(b){return[q(b[1],10),q(b[2],10),q(b[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(b){return[q(b[1],16),q(b[2],16),q(b[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(b){return[q(b[1]+b[1],16),q(b[2]+b[2],16),q(b[3]+b[3],16)]}}];C.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var y=["transparent"],F;for(F in C.namedColors)C.namedColors.hasOwnProperty(F)&&y.push(F);var y=new RegExp("^("+y.join("|")+")(\\W|$)","i"),A=kendo.Class.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var b=this.toBytes();return"rgba("+b.r+", "+b.g+", "+b.b+", "+k((+this.a).toFixed(3))+")"},toDisplay:function(){return kendo.support.browser.msie&&9>kendo.support.browser.version?this.toCss():this.toCssRgba()},equals:function(b){return b===this||null!==b&&this.toCssRgba()==B(b).toCssRgba()},diff:function(b){if(null==b)return NaN;var e=this.toBytes();b=b.toBytes();return Math.sqrt(Math.pow(.3*(e.r-b.r),2)+Math.pow(.59*(e.g-b.g),2)+Math.pow(.11*(e.b-b.b),2))},clone:function(){var b=this.toBytes();b===this&&(b=new x(b.r,b.g,b.b,b.a));return b}}),E=A.extend({init:function(b,h,p,n){this.r=b;this.g=h;this.b=p;this.a=n},toHSV:function(){var b,h,p,n;n=this.r;var D=this.g,f=this.b;b=Math.min(n,D,f);h=Math.max(n,D,f);p=h-b;if(0===p)return new t(0,0,h,this.a);0!==h?(b=p/h,n=60*(n==h?(D-f)/p:D==h?2+(f-n)/p:4+(n-D)/p),0>n&&(n+=360)):(b=0,n=-1);return new t(n,b,h,this.a)},toHSL:function(){var b=this.r,h=this.g,p=this.b,n=Math.max(b,h,p),D=Math.min(b,h,p),f,l=(n+D)/2;if(n==D)f=b=0;else{var c=n-D;switch(n){case b:f=(h-p)/c+(h<p?6:0);break;case h:f=(p-b)/c+2;break;case p:f=(b-h)/c+4}f*=60;b=100*(.5<l?c/(2-n-D):c/(n+D));l*=100}return new m(f,b,l,this.a)},toBytes:function(){return new x(255*this.r,255*this.g,255*this.b,this.a)}}),x=E.extend({init:function(b,h,p,n){this.r=Math.round(b);this.g=Math.round(h);this.b=Math.round(p);this.a=n},toRGB:function(){return new E(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return u(this.r,2)+u(this.g,2)+u(this.b,2)},toBytes:function(){return this}}),t=A.extend({init:function(b,h,p,n){this.h=b;this.s=h;this.v=p;this.a=n},toRGB:function(){var b=this.h,h=this.s,p=this.v,n,D,f;if(0===h)n=h=p;else switch(b/=60,n=Math.floor(b),D=b-n,b=p*(1-h),f=p*(1-h*D),D=p*(1-h*(1-D)),n){case 0:n=p;h=D;p=b;break;case 1:n=f;h=p;p=b;break;case 2:n=b;h=p;p=D;break;case 3:n=b;h=f;break;case 4:n=D;h=b;break;default:n=p,h=b,p=f}return new E(n,h,p,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),m=A.extend({init:function(b,h,p,n){this.h=b;this.s=h;this.l=p;this.a=n},toRGB:function(){var b=this.h,h=this.s,p=this.l;if(0===h)p=h=b=p;else var b=b/360,h=h/100,p=p/100,n=.5>p?p*(1+h):p+h-p*h,D=2*p-n,p=z(D,n,b+1/3),h=z(D,n,b),b=z(D,n,b-1/3);return new E(p,h,b,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});C.fromBytes=function(b,h,p,n){return new x(b,h,p,null!=n?n:1)};C.fromRGB=function(b,h,p,n){return new E(b,h,p,null!=n?n:1)};C.fromHSV=function(b,h,p,n){return new t(b,h,p,null!=n?n:1)};C.fromHSL=function(b,h,p,n){return new m(b,h,p,null!=n?n:1)};kendo.Color=C;kendo.parseColor=B})(window.kendo.jQuery,parseFloat,parseInt)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.slider",["kendo.draganddrop"],b)})(function(){(function(b,k){function q(a,d,c){c=c?" k-slider-horizontal":" k-slider-vertical";var b=a.style?a.style:d.attr("style");d=d.attr("class")?" "+d.attr("class"):"";var g="";"bottomRight"==a.tickPlacement?g=" k-slider-bottomright":"topLeft"==a.tickPlacement&&(g=" k-slider-topleft");return"\x3cdiv class\x3d'k-widget k-slider"+c+d+"'"+(b?" style\x3d'"+b+"'":"")+"\x3e\x3cdiv class\x3d'k-slider-wrap"+(a.showButtons?" k-slider-buttons":"")+g+"'\x3e\x3c/div\x3e\x3c/div\x3e"}function B(a,d,c){return"\x3ca class\x3d'k-button k-button-"+d+"'\x3e\x3cspan class\x3d'k-icon "+("increase"==d?c?"k-i-arrow-e":"k-i-arrow-n":c?"k-i-arrow-w":"k-i-arrow-s")+"' title\x3d'"+a[d+"ButtonTitle"]+"'\x3e"+a[d+"ButtonTitle"]+"\x3c/span\x3e\x3c/a\x3e"}function u(a,d){var c="\x3cul class\x3d'k-reset k-slider-items'\x3e",b=f.floor(A(d/a.smallStep))+1,g;for(g=0;g<b;g++)c+="\x3cli class\x3d'k-tick' role\x3d'presentation'\x3e\x26nbsp;\x3c/li\x3e";return c+"\x3c/ul\x3e"}function z(a,d){var c=d.is("input")?1:2;return"\x3cdiv class\x3d'k-slider-track'\x3e\x3cdiv class\x3d'k-slider-selection'\x3e\x3c!-- --\x3e\x3c/div\x3e\x3ca href\x3d'#' class\x3d'k-draghandle' title\x3d'"+(2==c?a.leftDragHandleTitle:a.dragHandleTitle)+"' role\x3d'slider' aria-valuemin\x3d'"+a.min+"' aria-valuemax\x3d'"+a.max+"' aria-valuenow\x3d'"+(1<c?a.selectionStart||a.min:a.value||a.min)+"'\x3eDrag\x3c/a\x3e"+(1<c?"\x3ca href\x3d'#' class\x3d'k-draghandle' title\x3d'"+a.rightDragHandleTitle+"'role\x3d'slider' aria-valuemin\x3d'"+a.min+"' aria-valuemax\x3d'"+a.max+"' aria-valuenow\x3d'"+(a.selectionEnd||a.max)+"'\x3eDrag\x3c/a\x3e":"")+"\x3c/div\x3e"}function C(a){return function(d){return d+a}}function y(a){return function(){return a}}function F(a){return(a+"").replace(".",x.cultures.current.numberFormat["."])}function A(a){var d;a=parseFloat(a,10);d=a.toString();var c=0;d=d.split(".");d[1]&&(c=d[1].length);d=f.pow(10,(10<c?10:c)||0);return f.round(a*d)/d}function E(a,d){var c=p(a.getAttribute(d));null===c&&(c=k);return c}var x=window.kendo,t=x.ui.Widget,m=x.ui.Draggable,e=b.extend,h=x.format,p=x.parseFloat,n=b.proxy,D=b.isArray,f=Math,l=x.support,c=l.pointers,w=l.msPointers,a=c?"pointerdown.slider":w?"MSPointerDown.slider":"touchstart.slider mousedown.slider",d=c?"pointerup":w?"MSPointerUp.slider":"touchend.slider mouseup.slider",g=x.getTouches,G=t.extend({init:function(a,d){t.fn.init.call(this,a,d);d=this.options;this._distance=A(d.max-d.min);this._isRtl=(this._isHorizontal="horizontal"==d.orientation)&&x.support.isRtl(a);this._position=this._isHorizontal?"left":"bottom";this._sizeFn=this._isHorizontal?"width":"height";this._outerSize=this._isHorizontal?"outerWidth":"outerHeight";d.tooltip.format=d.tooltip.enabled?d.tooltip.format||"{0}":"{0}";if(0>=d.smallStep)throw Error("Kendo UI Slider smallStep must be a positive number.");this._createHtml();this.wrapper=this.element.closest(".k-slider");this._trackDiv=this.wrapper.find(".k-slider-track");this._setTrackDivWidth();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._reset();this._tabindex(this.wrapper.find(".k-draghandle"));this[d.enabled?"enable":"disable"]();var c=x.support.isRtl(this.wrapper)?-1:1;this._keyMap={37:C(-1*c*d.smallStep),40:C(-d.smallStep),39:C(1*c*d.smallStep),38:C(+d.smallStep),35:y(d.max),36:y(d.min),33:C(+d.largeStep),34:C(-d.largeStep)};x.notify(this)},events:["change","slide"],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh();this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var a=this.options,d=this._maxSelection/((a.max-a.min)/a.smallStep),c=this._calculateItemsWidth(f.floor(this._distance/a.smallStep));"none"!=a.tickPlacement&&2<=d&&(this._trackDiv.before(u(a,this._distance)),this._setItemsWidth(c),this._setItemsTitle());this._calculateSteps(c);"none"!=a.tickPlacement&&2<=d&&a.largeStep>=a.smallStep&&this._setItemsLargeTick()},getSize:function(){return x.dimensions(this.wrapper)},_setTrackDivWidth:function(){var a=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-a)},_setItemsWidth:function(a){var d=this.options,c=a.length-1,g=this.wrapper.find(".k-tick"),e,f=g.length,l=0;for(e=0;e<f-2;e++)b(g[e+1])[this._sizeFn](a[e]);this._isHorizontal?(b(g[0]).addClass("k-first")[this._sizeFn](a[c-1]),b(g[c]).addClass("k-last")[this._sizeFn](a[c])):(b(g[c]).addClass("k-first")[this._sizeFn](a[c]),b(g[0]).addClass("k-last")[this._sizeFn](a[c-1]));if(0!==this._distance%d.smallStep&&!this._isHorizontal){for(e=0;e<a.length;e++)l+=a[e];a=this._maxSelection-l;a+=parseFloat(this._trackDiv.css(this._position),10)+2;this.wrapper.find(".k-slider-items").css("padding-top",a)}},_setItemsTitle:function(){for(var a=this.options,d=this.wrapper.find(".k-tick"),c=a.min,g=d.length,e=this._isHorizontal&&!this._isRtl?0:g-1,g=this._isHorizontal&&!this._isRtl?g:-1,f=this._isHorizontal&&!this._isRtl?1:-1;0!==e-g;e+=f)b(d[e]).attr("title",h(a.tooltip.format,A(c))),c+=a.smallStep},_setItemsLargeTick:function(){var a=this.options,d=this.wrapper.find(".k-tick"),c,g,e;if(0===1E4*a.largeStep%(1E4*a.smallStep)||3<=this._distance/a.largeStep)for(this._isHorizontal||this._isRtl||(d=b.makeArray(d).reverse()),c=0;c<d.length;c++)g=b(d[c]),e=this._values[c],e=A(1E4*(e-this.options.min)),0===e%(1E4*a.smallStep)&&0===e%(1E4*a.largeStep)&&(g.addClass("k-tick-large").html("\x3cspan class\x3d'k-label'\x3e"+g.attr("title")+"\x3c/span\x3e"),0!==c&&c!==d.length-1&&g.css("line-height",g[this._sizeFn]()+"px"))},_calculateItemsWidth:function(a){var d=this.options,c=parseFloat(this._trackDiv.css(this._sizeFn))+1,b=c/this._distance;0<this._distance/d.smallStep-f.floor(this._distance/d.smallStep)&&(c-=this._distance%d.smallStep*b);d=c/a;c=[];for(b=0;b<a-1;b++)c[b]=d;c[a-1]=c[a]=d/2;return this._roundWidths(c)},_roundWidths:function(a){var d=0,c=a.length,b;for(b=0;b<c;b++)d+=a[b]-f.floor(a[b]),a[b]=f.floor(a[b]);d=f.round(d);return this._addAdditionalSize(d,a)},_addAdditionalSize:function(a,d){if(0===a)return d;var c=parseFloat(d.length-1)/parseFloat(1==a?a:a-1),b;for(b=0;b<a;b++)d[parseInt(f.round(c*b),10)]+=1;return d},_calculateSteps:function(a){var d=this.options,c=d.min,b=0,g=f.ceil(this._distance/d.smallStep),e=1,g=g+(0===this._distance/d.smallStep%1?1:0);a.splice(0,0,2*a[g-2]);a.splice(g-1,1,2*a.pop());this._pixelSteps=[b];this._values=[c];if(0!==g){for(;e<g;)b+=(a[e-1]+a[e])/2,this._pixelSteps[e]=b,c+=d.smallStep,this._values[e]=A(c),e++;a=0===this._distance%d.smallStep?g-1:g;this._pixelSteps[a]=this._maxSelection;this._values[a]=d.max;this._isRtl&&(this._pixelSteps.reverse(),this._values.reverse())}},_getValueFromPosition:function(a,d){var c=this.options,b=f.max(this._maxSelection/this._distance*c.smallStep,0),g,e=b/2;this._isHorizontal?(g=a-d.startPoint,this._isRtl&&(g=this._maxSelection-g)):g=d.startPoint-a;if(this._maxSelection-(parseInt(this._maxSelection%b,10)-3)/2<g)return c.max;for(c=0;c<this._pixelSteps.length;c++)if(f.abs(this._pixelSteps[c]-g)-1<=e)return A(this._values[c])},_getFormattedValue:function(a,d){var c;c=this.options.tooltip;var b,g,e;D(a)?(g=a[0],e=a[1]):d&&d.type&&(g=d.selectionStart,e=d.selectionEnd);d&&(b=d.tooltipTemplate);!b&&c.template&&(b=x.template(c.template));D(a)||d&&d.type?b?c=b({selectionStart:g,selectionEnd:e}):(g=h(c.format,g),e=h(c.format,e),c=g+" - "+e):(d&&(d.val=a),c=b?b({value:a}):h(c.format,a));return c},_getDraggableArea:function(){var a=x.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?a.left:a.top+this._maxSelection,endPoint:this._isHorizontal?a.left+this._maxSelection:a.top}},_createHtml:function(){var a=this.element,d=this.options,c=a.find("input");2==c.length?(c.eq(0).prop("value",F(d.selectionStart)),c.eq(1).prop("value",F(d.selectionEnd))):a.prop("value",F(d.value));a.wrap(q(d,a,this._isHorizontal)).hide();d.showButtons&&a.before(B(d,"increase",this._isHorizontal)).before(B(d,"decrease",this._isHorizontal));a.before(z(d,a))},_focus:function(a){a=a.target;var d=this.value(),c=this._drag;c||(a==this.wrapper.find(".k-draghandle").eq(0)[0]?(c=this._firstHandleDrag,this._activeHandle=0):(c=this._lastHandleDrag,this._activeHandle=1),d=d[this._activeHandle]);b(a).addClass("k-state-focused k-state-selected");c&&(this._activeHandleDrag=c,c.selectionStart=this.options.selectionStart,c.selectionEnd=this.options.selectionEnd,c._updateTooltip(d))},_focusWithMouse:function(a){a=b(a);var d=this,c=a.is(".k-draghandle")?a.index():0;window.setTimeout(function(){d.wrapper.find(".k-draghandle")[2==c?1:0].focus()},1);d._setTooltipTimeout()},_blur:function(a){var d=this._activeHandleDrag;b(a.target).removeClass("k-state-focused k-state-selected");d&&(d._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var d=a._drag||a._activeHandleDrag;d&&d._removeTooltip()},300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var a=this._drag||this._activeHandleDrag;a&&a.tooltipDiv&&a.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var a=this.element,d=a.attr("form"),a=d?b("#"+d):a.closest("form");a[0]&&(this._form=a.on("reset",n(this._formResetHandler,this)))},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler);t.fn.destroy.call(this)}}),P=G.extend({init:function(a,d){var c;a.type="text";d=e({},{value:E(a,"value"),min:E(a,"min"),max:E(a,"max"),smallStep:E(a,"step")},d);a=b(a);d&&d.enabled===k&&(d.enabled=!a.is("[disabled]"));G.fn.init.call(this,a,d);d=this.options;if("undefined"===typeof d.value||null===d.value)d.value=d.min,a.prop("value",F(d.min));d.value=f.max(f.min(d.value,d.max),d.min);c=this.wrapper.find(".k-draghandle");this._selection=new P.Selection(c,this,d);this._drag=new P.Drag(c,"",this,d)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(c){var e=this,f=e.options,r;e.disable();if(!1!==c){e.wrapper.removeClass("k-state-disabled").addClass("k-state-default");e.wrapper.find("input").removeAttr("disabled");e.wrapper.find(".k-tick, .k-slider-track").on(a,function(a){var d=g(a)[0];if(d){var d=e._isHorizontal?d.location.pageX:d.location.pageY,c=e._getDraggableArea(),f=b(a.target);f.hasClass("k-draghandle")?f.addClass("k-state-focused k-state-selected"):(e._update(e._getValueFromPosition(d,c)),e._focusWithMouse(a.target),e._drag.dragstart(a),a.preventDefault())}}).end().on(a,function(){b(document.documentElement).one("selectstart",x.preventDefault)}).on(d,function(){e._drag._end()});e.wrapper.find(".k-draghandle").attr("tabindex",0).on("touchend.slider mouseup.slider",function(){e._setTooltipTimeout()}).on("click.slider",function(a){e._focusWithMouse(a.target);a.preventDefault()}).on("focus.slider",n(e._focus,e)).on("blur.slider",n(e._blur,e));r=n(function(a){a=e._nextValueByIndex(e._valueIndex+1*a);e._setValueInRange(a);e._drag._updateTooltip(a)},e);if(f.showButtons){var h=n(function(a,d){this._clearTooltipTimeout();if(1===a.which||l.touch&&0===a.which)r(d),this.timeout=setTimeout(n(function(){this.timer=setInterval(function(){r(d)},60)},this),200)},e);e.wrapper.find(".k-button").on("touchend.slider mouseup.slider",n(function(a){this._clearTimer();e._focusWithMouse(a.target)},e)).on("mouseover.slider",function(a){b(a.currentTarget).addClass("k-state-hover")}).on("mouseout.slider",n(function(a){b(a.currentTarget).removeClass("k-state-hover");this._clearTimer()},e)).eq(0).on("touchstart.slider mousedown.slider",n(function(a){h(a,1)},e)).click(!1).end().eq(1).on("touchstart.slider mousedown.slider",n(function(a){h(a,-1)},e)).click(x.preventDefault)}e.wrapper.find(".k-draghandle").off("keydown.slider",!1).on("keydown.slider",n(this._keydown,e));f.enabled=!0}},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled");b(this.element).prop("disabled","disabled");this.wrapper.find(".k-button").off("touchstart.slider mousedown.slider").on("touchstart.slider mousedown.slider",x.preventDefault).off("touchend.slider mouseup.slider").on("touchend.slider mouseup.slider",x.preventDefault).off("mouseleave.slider").on("mouseleave.slider",x.preventDefault).off("mouseover.slider").on("mouseover.slider",x.preventDefault);this.wrapper.find(".k-tick, .k-slider-track").off(a).off(d);this.wrapper.find(".k-draghandle").attr("tabindex",-1).off("touchend.slider mouseup.slider").off("keydown.slider").off("click.slider").off("focus.slider").off("blur.slider");this.options.enabled=!1},_update:function(a){var d=this.value()!=a;this.value(a);d&&this.trigger("change",{value:this.options.value})},value:function(a){var d=this.options;a=A(a);if(isNaN(a))return d.value;a>=d.min&&a<=d.max&&d.value!=a&&(this.element.prop("value",F(a)),d.value=a,this._refreshAriaAttr(a),this._refresh())},_refresh:function(){this.trigger("moveSelection",{value:this.options.value})},_refreshAriaAttr:function(a){var d=this._drag,d=d&&d._tooltipDiv?d._tooltipDiv.text():this._getFormattedValue(a,null);this.wrapper.find(".k-draghandle").attr("aria-valuenow",a).attr("aria-valuetext",d)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(a){a.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[a.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),a.preventDefault())},_setValueInRange:function(a){var d=this.options;a=A(a);isNaN(a)?this._update(d.min):(a=f.max(f.min(a,d.max),d.min),this._update(a))},_nextValueByIndex:function(a){var d=this._values.length;this._isRtl&&(a=d-1-a);return this._values[f.max(0,f.min(a,d-1))]},_formResetHandler:function(){var a=this,d=a.options.min;setTimeout(function(){var c=a.element[0].value;a.value(""===c||isNaN(c)?d:c)})},destroy:function(){G.fn.destroy.call(this);this.wrapper.off(".slider").find(".k-button").off(".slider").end().find(".k-draghandle").off(".slider").end().find(".k-tick, .k-slider-track").off(".slider").end();this._drag.draggable.destroy();this._drag._removeTooltip(!0)}});P.Selection=function(a,d,c){function b(b){b=d._valueIndex=f.ceil(A((b-c.min)/c.smallStep));b=parseInt(d._pixelSteps[b],10);var g=d._trackDiv.find(".k-slider-selection"),e=parseInt(a[d._outerSize]()/2,10),l=d._isRtl?2:0;g[d._sizeFn](d._isRtl?d._maxSelection-b:b);a.css(d._position,b-e-l)}b(c.value);d.bind(["change","slide","moveSelection"],function(a){b(parseFloat(a.value,10))})};P.Drag=function(a,d,c,b){this.owner=c;this.options=b;this.element=a;this.type=d;this.draggable=new m(a,{distance:0,dragstart:n(this._dragstart,this),drag:n(this.drag,this),dragend:n(this.dragend,this),dragcancel:n(this.dragcancel,this)});a.click(!1)};P.Drag.prototype={dragstart:function(a){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this._dragstart(a);this.dragend()},_dragstart:function(a){var d=this.owner,c=this.options;c.enabled?(this.owner._activeDragHandle=this,d.element.off("mouseover.slider"),d.wrapper.find(".k-state-focused").removeClass("k-state-focused k-state-selected"),this.element.addClass("k-state-focused k-state-selected"),b(document.documentElement).css("cursor","pointer"),this.dragableArea=d._getDraggableArea(),this.step=f.max(d._maxSelection/d._distance*c.smallStep,0),this.type?(this.selectionStart=c.selectionStart,this.selectionEnd=c.selectionEnd,d._setZIndex(this.type)):this.oldVal=this.val=c.value,this._removeTooltip(!0),this._createTooltip()):a.preventDefault()},_createTooltip:function(){var a=this.owner,d=this.options.tooltip,c=b(window);d.enabled&&(d.template&&(this.tooltipTemplate=x.template(d.template)),b(".k-slider-tooltip").remove(),this.tooltipDiv=b("\x3cdiv class\x3d'k-widget k-tooltip k-slider-tooltip'\x3e\x3c!-- --\x3e\x3c/div\x3e").appendTo(document.body),d=a._getFormattedValue(this.val||a.value(),this),this.type||(a="k-callout-"+(a._isHorizontal?"s":"e"),this.tooltipInnerDiv="\x3cdiv class\x3d'k-callout "+a+"'\x3e\x3c!-- --\x3e\x3c/div\x3e",d+=this.tooltipInnerDiv),this.tooltipDiv.html(d),this._scrollOffset={top:c.scrollTop(),left:c.scrollLeft()},this.moveTooltip())},drag:function(a){var d=this.owner,c=a.x.location,b=a.y.location,g=this.dragableArea.startPoint,e=this.dragableArea.endPoint;a.preventDefault();this.val=d._isHorizontal?d._isRtl?this.constrainValue(c,g,e,c<e):this.constrainValue(c,g,e,c>=e):this.constrainValue(b,e,g,b<=e);this.oldVal!=this.val&&(this.oldVal=this.val,this.type?("firstHandle"==this.type?this.selectionStart=this.val<this.selectionEnd?this.val:this.selectionEnd=this.val:this.val>this.selectionStart?this.selectionEnd=this.val:this.selectionStart=this.selectionEnd=this.val,a={values:[this.selectionStart,this.selectionEnd],value:[this.selectionStart,this.selectionEnd]}):a={value:this.val},d.trigger("slide",a));this._updateTooltip(this.val)},_updateTooltip:function(a){this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),a=this.owner._getFormattedValue(A(a),this),this.type||(a+=this.tooltipInnerDiv),this.tooltipDiv.html(a),this.moveTooltip())},dragcancel:function(){this.owner._refresh();b(document.documentElement).css("cursor","");return this._end()},dragend:function(){var a=this.owner;b(document.documentElement).css("cursor","");this.type?a._update(this.selectionStart,this.selectionEnd):(a._update(this.val),this.draggable.userEvents._disposeAll());this.draggable.userEvents.cancel();return this._end()},_end:function(){var a=this.owner;a._focusWithMouse(this.element);a.element.on("mouseover.slider");return!1},_removeTooltip:function(a){var d=this,c=d.owner;d.tooltipDiv&&c.options.tooltip.enabled&&c.options.enabled&&(a?(d.tooltipDiv.remove(),d.tooltipDiv=null):d.tooltipDiv.fadeOut("slow",function(){b(this).remove();d.tooltipDiv=null}))},moveTooltip:function(){var a=this.owner,d,c,g=this.element;c=x.getOffset(g);var e=b(window),f=this.tooltipDiv.find(".k-callout"),l=this.tooltipDiv.outerWidth(),h=this.tooltipDiv.outerHeight(),G,n;this.type?(G=a.wrapper.find(".k-draghandle"),c=x.getOffset(G.eq(0)),n=x.getOffset(G.eq(1)),a._isHorizontal?(d=n.top,c=c.left+(n.left-c.left)/2):(d=c.top+(n.top-c.top)/2,c=n.left),G=G.eq(0).outerWidth()+16):(d=c.top,c=c.left,G=g.outerWidth()+16);a._isHorizontal?(c-=parseInt((l-g[a._outerSize]())/2,10),d-=h+f.height()+8):(d-=parseInt((h-g[a._outerSize]())/2,10),c-=l+f.width()+8);a._isHorizontal?(g=this._flip(d,h,G,e.outerHeight()+this._scrollOffset.top),d+=g,c+=this._fit(c,l,e.outerWidth()+this._scrollOffset.left)):(g=this._flip(c,l,G,e.outerWidth()+this._scrollOffset.left),d+=this._fit(d,h,e.outerHeight()+this._scrollOffset.top),c+=g);0<g&&f&&(f.removeClass(),f.addClass("k-callout k-callout-"+(a._isHorizontal?"n":"w")));this.tooltipDiv.css({top:d,left:c})},_fit:function(a,d,c){var b=0;a+d>c&&(b=c-(a+d));0>a&&(b=-a);return b},_flip:function(a,d,c,b){var g=0;a+d>b&&(g+=-(c+d));0>a+g&&(g+=c+d);return g},constrainValue:function(a,d,c,b){return d<a&&a<c?this.owner._getValueFromPosition(a,this.dragableArea):b?this.options.max:this.options.min}};x.ui.plugin(P);var J=G.extend({init:function(a,d){var c=b(a).find("input"),g=c.eq(0)[0],f=c.eq(1)[0];g.type="text";f.type="text";d&&d.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),d.showButtons=!1);(d=e({},{selectionStart:E(g,"value"),min:E(g,"min"),max:E(g,"max"),smallStep:E(g,"step")},{selectionEnd:E(f,"value"),min:E(f,"min"),max:E(f,"max"),smallStep:E(f,"step")},d))&&d.enabled===k&&(d.enabled=!c.is("[disabled]"));G.fn.init.call(this,a,d);d=this.options;if("undefined"===typeof d.selectionStart||null===d.selectionStart)d.selectionStart=d.min,c.eq(0).prop("value",F(d.min));if("undefined"===typeof d.selectionEnd||null===d.selectionEnd)d.selectionEnd=d.max,c.eq(1).prop("value",F(d.max));c=this.wrapper.find(".k-draghandle");this._selection=new J.Selection(c,this,d);this._firstHandleDrag=new P.Drag(c.eq(0),"firstHandle",this,d);this._lastHandleDrag=new P.Drag(c.eq(1),"lastHandle",this,d)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(c){var e=this,f=e.options;e.disable();!1!==c&&(e.wrapper.removeClass("k-state-disabled").addClass("k-state-default"),e.wrapper.find("input").removeAttr("disabled"),e.wrapper.find(".k-tick, .k-slider-track").on(a,function(a){var d=g(a)[0];if(d){var d=e._isHorizontal?d.location.pageX:d.location.pageY,c=e._getDraggableArea(),c=e._getValueFromPosition(d,c),d=b(a.target),l;d.hasClass("k-draghandle")?(e.wrapper.find(".k-state-focused").removeClass("k-state-focused k-state-selected"),d.addClass("k-state-focused k-state-selected")):(c<f.selectionStart?(d=c,c=f.selectionEnd,l=e._firstHandleDrag):c>e.selectionEnd?(d=f.selectionStart,l=e._lastHandleDrag):c-f.selectionStart<=f.selectionEnd-c?(d=c,c=f.selectionEnd,l=e._firstHandleDrag):(d=f.selectionStart,l=e._lastHandleDrag),l.dragstart(a),e._setValueInRange(d,c),e._focusWithMouse(l.element))}}).end().on(a,function(){b(document.documentElement).one("selectstart",x.preventDefault)}).on(d,function(){e._activeDragHandle&&e._activeDragHandle._end()}),e.wrapper.find(".k-draghandle").attr("tabindex",0).on("touchend.slider mouseup.slider",function(){e._setTooltipTimeout()}).on("click.slider",function(a){e._focusWithMouse(a.target);a.preventDefault()}).on("focus.slider",n(e._focus,e)).on("blur.slider",n(e._blur,e)),e.wrapper.find(".k-draghandle").off("keydown.slider",x.preventDefault).eq(0).on("keydown.slider",n(function(a){this._keydown(a,"firstHandle")},e)).end().eq(1).on("keydown.slider",n(function(a){this._keydown(a,"lastHandle")},e)),e.options.enabled=!0)},disable:function(){this.wrapper.removeClass("k-state-default").addClass("k-state-disabled");this.wrapper.find("input").prop("disabled","disabled");this.wrapper.find(".k-tick, .k-slider-track").off(a).off(d);this.wrapper.find(".k-draghandle").attr("tabindex",-1).off("touchend.slider mouseup.slider").off("keydown.slider").off("click.slider").off("focus.slider").off("blur.slider");this.options.enabled=!1},_keydown:function(a,d){var c=this.options.selectionStart,b=this.options.selectionEnd,g;a.keyCode in this._keyMap&&(this._clearTooltipTimeout(),"firstHandle"==d?(g=this._activeHandleDrag=this._firstHandleDrag,c=this._keyMap[a.keyCode](c),c>b&&(b=c)):(g=this._activeHandleDrag=this._lastHandleDrag,b=this._keyMap[a.keyCode](b),c>b&&(c=b)),this._setValueInRange(A(c),A(b)),c=Math.max(c,this.options.selectionStart),b=Math.min(b,this.options.selectionEnd),g.selectionEnd=Math.max(b,this.options.selectionStart),g.selectionStart=Math.min(c,this.options.selectionEnd),g._updateTooltip(this.value()[this._activeHandle]),a.preventDefault())},_update:function(a,d){var c=this.value(),c=c[0]!=a||c[1]!=d;this.value([a,d]);c&&this.trigger("change",{values:[a,d],value:[a,d]})},value:function(a){return a&&a.length?this._value(a[0],a[1]):this._value()},_value:function(a,d){var c=this.options,b=c.selectionStart,g=c.selectionEnd;if(isNaN(a)&&isNaN(d))return[b,g];a=A(a);d=A(d);a>=c.min&&a<=c.max&&d>=c.min&&d<=c.max&&a<=d&&(b!=a||g!=d)&&(this.element.find("input").eq(0).prop("value",F(a)).end().eq(1).prop("value",F(d)),c.selectionStart=a,c.selectionEnd=d,this._refresh(),this._refreshAriaAttr(a,d))},values:function(a,d){return D(a)?this._value(a[0],a[1]):this._value(a,d)},_refresh:function(){var a=this.options;this.trigger("moveSelection",{values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]});a.selectionStart==a.max&&a.selectionEnd==a.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(a,d){var c=this.wrapper.find(".k-draghandle"),b;b=this._getFormattedValue([a,d],this._activeHandleDrag);c.eq(0).attr("aria-valuenow",a);c.eq(1).attr("aria-valuenow",d);c.attr("aria-valuetext",b)},_setValueInRange:function(a,d){var c=this.options;a=f.max(f.min(a,c.max),c.min);d=f.max(f.min(d,c.max),c.min);a==c.max&&d==c.max&&this._setZIndex("firstHandle");this._update(f.min(a,d),f.max(a,d))},_setZIndex:function(a){this.wrapper.find(".k-draghandle").each(function(d){b(this).css("z-index","firstHandle"==a?1-d:d)})},_formResetHandler:function(){var a=this,d=a.options;setTimeout(function(){var c=a.element.find("input"),b=c[0].value,c=c[1].value;a.values(""===b||isNaN(b)?d.min:b,""===c||isNaN(c)?d.max:c)})},destroy:function(){G.fn.destroy.call(this);this.wrapper.off(".slider").find(".k-tick, .k-slider-track").off(".slider").end().find(".k-draghandle").off(".slider");this._firstHandleDrag.draggable.destroy();this._lastHandleDrag.draggable.destroy()}});J.Selection=function(a,d,c){function b(b){b=b||[];var g=b[1]-c.min;b=f.ceil(A((b[0]-c.min)/c.smallStep));var e=f.ceil(A(g/c.smallStep)),g=d._pixelSteps[b];b=d._pixelSteps[e];var e=parseInt(a.eq(0)[d._outerSize]()/2,10),l=d._isRtl?2:0;a.eq(0).css(d._position,g-e-l).end().eq(1).css(d._position,b-e-l);e=d._trackDiv.find(".k-slider-selection");l=f.abs(g-b);e[d._sizeFn](l);d._isRtl?(g=f.max(g,b),e.css("right",d._maxSelection-g-1)):(g=f.min(g,b),e.css(d._position,g-1))}b(d.value());d.bind(["change","slide","moveSelection"],function(a){b(a.values)})};x.ui.plugin(J)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.colorpicker",["kendo.core","kendo.color","kendo.popup","kendo.slider","kendo.userevents"],b)})(function(){(function(b,k,q){function B(b,e,l){(l=A(l))&&!l.equals(b.color())&&("change"==e&&(b._value=l),l=1!=l.a?l.toCssRgba():l.toCss(),b.trigger(e,{value:l}))}function u(b,e,l){b=Array.prototype.slice.call(b);var c=b.length;e=b.indexOf(e);if(0>e)return 0>l?b[c-1]:b[0];e+=l;return b[0>e?e+c:e%c]}function z(b){b.preventDefault()}function C(b,e){return function(){return b.apply(e,arguments)}}var y=window.kendo;k=y.ui;var F=k.Widget,A=y.parseColor,E=y.Color,x=y.keys,t={apply:"Apply",cancel:"Cancel"},m=y.support.browser,e=m.msie&&9>m.version,h=F.extend({init:function(b,e){var f;F.fn.init.call(this,b,e);b=this.element;e=this.options;this._value=e.value=A(e.value);this._tabIndex=b.attr("tabIndex")||0;(f=this._ariaId=e.ariaId)&&b.attr("aria-labelledby",f);e._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(b){b!==q&&(this._value=A(b),this._updateUI(this._value));return this._value},value:function(b){(b=this.color(b))&&(b=this.options.opacity?b.toCssRgba():b.toCss());return b||null},enable:function(e){0===arguments.length&&(e=!0);b(".k-disabled-overlay",this.wrapper).remove();e||this.wrapper.append("\x3cdiv class\x3d'k-disabled-overlay'\x3e\x3c/div\x3e");this._onEnable(e)},_select:function(b,e){var f=this._value;b=this.color(b);e||(this.element.trigger("change"),b.equals(f)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(b){B(this,"select",b)},_triggerChange:function(b){B(this,"change",b)},destroy:function(){this.element&&this.element.off(".kendoColorTools");this.wrapper&&this.wrapper.off(".kendoColorTools").find("*").off(".kendoColorTools");this.wrapper=null;F.fn.destroy.call(this)},_updateUI:b.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),p=h.extend({init:function(e,f){var l=this;h.fn.init.call(l,e,f);e=l.wrapper=l.element;f=l.options;var c=f.palette;"websafe"==c?(c="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",f.columns=18):"basic"==c&&(c="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7");"string"==typeof c&&(c=c.split(","));b.isArray(c)&&(c=b.map(c,function(a){return A(a)}));l._selectedID=(f.ariaId||y.guid())+"_selected";e.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(b(l._template({colors:c,columns:f.columns,tileSize:f.tileSize,value:l._value,id:f.ariaId}))).on("click.kendoColorTools",".k-item",function(a){l._select(b(a.currentTarget).css("background-color"))}).attr("tabIndex",l._tabIndex).on("keydown.kendoColorTools",C(l._keydown,l));var n=f.tileSize;if(n){if(/number|string/.test(typeof n))c=n=parseFloat(n);else if("object"==typeof n)c=parseFloat(n.width),n=parseFloat(n.height);else throw Error("Unsupported value for the 'tileSize' argument");e.find(".k-item").css({width:c,height:n})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(b){b?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var f,l=this.wrapper.find(".k-item"),c=l.filter(".k-state-selected").get(0),h=e.keyCode;h==x.LEFT?f=u(l,c,-1):h==x.RIGHT?f=u(l,c,1):h==x.DOWN?f=u(l,c,this.options.columns):h==x.UP?f=u(l,c,-this.options.columns):h==x.ENTER?(z(e),c&&this._select(b(c).css("background-color"))):h==x.ESC&&this._cancel();if(f){z(e);this._current(f);try{var a=A(f.css("background-color"));this._triggerSelect(a)}catch(d){}}},_current:function(e){this.wrapper.find(".k-state-selected").removeClass("k-state-selected").attr("aria-selected",!1).removeAttr("id");b(e).addClass("k-state-selected").attr("aria-selected",!0).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(e){var f=null;this.wrapper.find(".k-item").each(function(){var l=A(b(this).css("background-color"));if(l&&l.equals(e))return f=this,!1});this._current(f)},_template:y.template('\x3ctable class\x3d"k-palette k-reset" role\x3d"presentation"\x3e\x3ctr role\x3d"row"\x3e# for (var i \x3d 0; i \x3c colors.length; ++i) { ## var selected \x3d colors[i].equals(value); ## if (i \x26\x26 i % columns \x3d\x3d 0) { # \x3c/tr\x3e\x3ctr role\x3d"row"\x3e # } #\x3ctd role\x3d"gridcell" unselectable\x3d"on" style\x3d"background-color:#\x3d colors[i].toCss() #"#\x3d selected ? " aria-selected\x3dtrue" : "" # #\x3d(id \x26\x26 i \x3d\x3d\x3d 0) ? "id\x3d\\""+id+"\\" " : "" # class\x3d"k-item#\x3d selected ? " k-state-selected" : "" #" aria-label\x3d"#\x3d colors[i].toCss() #"\x3e\x3c/td\x3e# } #\x3c/tr\x3e\x3c/table\x3e')}),n=h.extend({init:function(n,f){var l=this;h.fn.init.call(l,n,f);f=l.options;n=l.element;l.wrapper=n.addClass("k-widget k-flatcolorpicker").append(l._template(f));l._hueElements=b(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",n);l._selectedColor=b(".k-selected-color-display",n);l._colorAsText=b("input.k-color-value",n);l._sliders();l._hsvArea();l._updateUI(l._value||A("#f00"));n.find("input.k-color-value").on("keydown.kendoColorTools",function(c){var e=this;if(c.keyCode==x.ENTER)try{var a=A(e.value),d=l.color();l._select(a,a.equals(d))}catch(g){b(e).addClass("k-state-error")}else l.options.autoupdate&&setTimeout(function(){var a=A(e.value,!0);a&&l._updateUI(a,!0)},10)}).end().on("click.kendoColorTools",".k-controls button.apply",function(){l._select(l._getHSV())}).on("click.kendoColorTools",".k-controls button.cancel",function(){l._updateUI(l.color());l._cancel()});e&&l._applyIEFilter()},destroy:function(){this._hueSlider.destroy();this._opacitySlider&&this._opacitySlider.destroy();this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;h.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:t},_applyIEFilter:function(){var b=this.element.find(".k-hue-slider .k-slider-track")[0],e=b.currentStyle.backgroundImage,e=e.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");b.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+e+"', sizingMethod\x3d'scale')"},_sliders:function(){function b(c){l._updateUI(l._getHSV(c.value,null,null,null))}function e(c){l._updateUI(l._getHSV(null,null,null,c.value/100))}var l=this,c=l.element;l._hueSlider=c.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:b,change:b}).data("kendoSlider");l._opacitySlider=c.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider")},_hsvArea:function(){function b(c,a){var d=this.offset,b=c-d.left,d=a-d.top,f=this.width,l=this.height;e._svChange((0>b?0:b>f?f:b)/f,1-(0>d?0:d>l?l:d)/l)}var e=this,l=e.element.find(".k-hsv-rectangle"),c=l.find(".k-draghandle").attr("tabIndex",0).on("keydown.kendoColorTools",C(e._keydown,e));e._hsvEvents=new y.UserEvents(l,{global:!0,press:function(e){this.offset=y.getOffset(l);this.width=l.width();this.height=l.height();c.focus();b.call(this,e.x.location,e.y.location)},start:function(){l.addClass("k-dragging");c.focus()},move:function(c){c.preventDefault();b.call(this,c.x.location,c.y.location)},end:function(){l.removeClass("k-dragging")}});e._hsvRect=l;e._hsvHandle=c},_onEnable:function(b){this._hueSlider.enable(b);this._opacitySlider&&this._opacitySlider.enable(b);this.wrapper.find("input").attr("disabled",!b);var e=this._hsvRect.find(".k-draghandle");b?e.attr("tabIndex",this._tabIndex):e.removeAttr("tabIndex")},_keydown:function(b){function e(e,a){var d=c._getHSV();d[e]+=a*(b.shiftKey?.01:.05);0>d[e]&&(d[e]=0);1<d[e]&&(d[e]=1);c._updateUI(d);z(b)}function l(e){var a=c._getHSV();a.h+=e*(b.shiftKey?1:5);0>a.h&&(a.h=0);359<a.h&&(a.h=359);c._updateUI(a);z(b)}var c=this;switch(b.keyCode){case x.LEFT:b.ctrlKey?l(-1):e("s",-1);break;case x.RIGHT:b.ctrlKey?l(1):e("s",1);break;case x.UP:e(b.ctrlKey&&c._opacitySlider?"a":"v",1);break;case x.DOWN:e(b.ctrlKey&&c._opacitySlider?"a":"v",-1);break;case x.ENTER:c._select(c._getHSV());break;case x.F2:c.wrapper.find("input.k-color-value").focus().select();break;case x.ESC:c._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(b,e,l,c){var f=this._hsvRect,a=f.width(),f=f.height(),d=this._hsvHandle.position();null==b&&(b=this._hueSlider.value());null==e&&(e=d.left/a);null==l&&(l=1-d.top/f);null==c&&(c=this._opacitySlider?this._opacitySlider.value()/100:1);return E.fromHSV(b,e,l,c)},_svChange:function(b,e){var f=this._getHSV(null,b,e,null);this._updateUI(f)},_updateUI:function(b,e){var f=this._hsvRect;b&&(this._colorAsText.removeClass("k-state-error"),this._selectedColor.css("background-color",b.toDisplay()),e||this._colorAsText.val(this._opacitySlider?b.toCssRgba():b.toCss()),this._triggerSelect(b),b=b.toHSV(),this._hsvHandle.css({left:b.s*f.width()+"px",top:(1-b.v)*f.height()+"px"}),this._hueElements.css("background-color",E.fromHSV(b.h,1,1,1).toCss()),this._hueSlider.value(b.h),this._opacitySlider&&this._opacitySlider.value(100*b.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:y.template('# if (preview) { #\x3cdiv class\x3d"k-selected-color"\x3e\x3cdiv class\x3d"k-selected-color-display"\x3e\x3cinput class\x3d"k-color-value" #\x3d !data.input ? \'style\x3d"visibility: hidden;"\' : "" #\x3e\x3c/div\x3e\x3c/div\x3e# } #\x3cdiv class\x3d"k-hsv-rectangle"\x3e\x3cdiv class\x3d"k-hsv-gradient"\x3e\x3c/div\x3e\x3cdiv class\x3d"k-draghandle"\x3e\x3c/div\x3e\x3c/div\x3e\x3cinput class\x3d"k-hue-slider" /\x3e# if (opacity) { #\x3cinput class\x3d"k-transparency-slider" /\x3e# } ## if (buttons) { #\x3cdiv unselectable\x3d"on" class\x3d"k-controls"\x3e\x3cbutton class\x3d"k-button k-primary apply"\x3e#: messages.apply #\x3c/button\x3e \x3cbutton class\x3d"k-button cancel"\x3e#: messages.cancel #\x3c/button\x3e\x3c/div\x3e# } #')}),t=F.extend({init:function(e,f){var l=this;F.fn.init.call(l,e,f);f=l.options;e=l.element;var c=e.attr("value")||e.val(),c=c?A(c,!0):A(f.value,!0);l._value=f.value=c;var h=l.wrapper=b(l._template(f));e.hide().after(h);if(e.is("input")){e.appendTo(h);var a=e.closest("label"),d=e.attr("id");d&&(a=a.add('label[for\x3d"'+d+'"]'));a.click(function(a){l.open();a.preventDefault()})}l._tabIndex=e.attr("tabIndex")||0;l.enable(!e.attr("disabled"));if(a=e.attr("accesskey"))e.attr("accesskey",null),h.attr("accesskey",a);l.bind("activate",function(a){a.isDefaultPrevented()||l.toggle()});l._updateUI(c)},destroy:function(){this.wrapper.off(".kendoColorTools").find("*").off(".kendoColorTools");this._popup&&(this._selector.destroy(),this._popup.destroy());this._selector=this._popup=this.wrapper=null;F.fn.destroy.call(this)},enable:function(b){var e=this,l=e.wrapper,c=l.children(".k-picker-wrap"),h=c.find(".k-select");0===arguments.length&&(b=!0);e.element.attr("disabled",!b);l.attr("aria-disabled",!b);h.off(".kendoColorTools").on("mousedown.kendoColorTools",z);l.addClass("k-state-disabled").removeAttr("tabIndex").add("*",l).off(".kendoColorTools");if(b)l.removeClass("k-state-disabled").attr("tabIndex",e._tabIndex).on("mouseenter.kendoColorTools",function(){c.addClass("k-state-hover")}).on("mouseleave.kendoColorTools",function(){c.removeClass("k-state-hover")}).on("focus.kendoColorTools",function(){c.addClass("k-state-focused")}).on("blur.kendoColorTools",function(){c.removeClass("k-state-focused")}).on("keydown.kendoColorTools",C(e._keydown,e)).on("click.kendoColorTools",".k-select",C(e.toggle,e)).on("click.kendoColorTools",e.options.toolIcon?".k-tool-icon":".k-selected-color",function(){e.trigger("activate")})},_template:y.template('\x3cspan role\x3d"textbox" aria-haspopup\x3d"true" class\x3d"k-widget k-colorpicker k-header"\x3e\x3cspan class\x3d"k-picker-wrap k-state-default"\x3e# if (toolIcon) { #\x3cspan class\x3d"k-tool-icon #\x3d toolIcon #"\x3e\x3cspan class\x3d"k-selected-color"\x3e\x3c/span\x3e\x3c/span\x3e# } else { #\x3cspan class\x3d"k-selected-color"\x3e\x3c/span\x3e# } #\x3cspan class\x3d"k-select" unselectable\x3d"on"\x3e\x3cspan class\x3d"k-icon k-i-arrow-s" unselectable\x3d"on"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:t,opacity:!1,buttons:!0,preview:!0,ARIATemplate:'Current selected color is #\x3ddata || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:h.fn.color,value:h.fn.value,_select:h.fn._select,_triggerSelect:h.fn._triggerSelect,_isInputTypeColor:function(){var b=this.element[0];return/^input$/i.test(b.tagName)&&/^color$/i.test(b.type)},_updateUI:function(b){var e="";b&&(e=this._isInputTypeColor()||1==b.a?b.toCss():b.toCssRgba(),this.element.val(e));this._ariaTemplate||(this._ariaTemplate=y.template(this.options.ARIATemplate));this.wrapper.attr("aria-label",this._ariaTemplate(e));this._triggerSelect(b);this.wrapper.find(".k-selected-color").css("background-color",b?b.toDisplay():"transparent")},_keydown:function(b){var e=b.keyCode;if(this._getPopup().visible())e==x.ESC?this._selector._cancel():this._selector._keydown(b),z(b);else if(e==x.ENTER||e==x.DOWN)this.open(),z(b)},_getPopup:function(){var e=this,f=e._popup;if(!f){var f=e.options,l;l=f.palette?p:n;f._standalone=!1;delete f.select;delete f.change;delete f.cancel;var c=y.guid(),h=e._selector=new l(b('\x3cdiv id\x3d"'+c+'"/\x3e').appendTo(document.body),f);e.wrapper.attr("aria-owns",c);e._popup=f=h.wrapper.kendoPopup({anchor:e.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");h.bind({select:function(a){e._updateUI(A(a.value))},change:function(){e._select(h.color());e.close()},cancel:function(){e.close()}});f.bind({close:function(a){e.trigger("close")?a.preventDefault():(e.wrapper.children(".k-picker-wrap").removeClass("k-state-focused"),(a=h._selectOnHide())?e._select(a):(e.wrapper.focus(),e._updateUI(e.color())))},open:function(a){e.trigger("open")?a.preventDefault():e.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){h._select(e.color(),!0);h.focus();e.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return f}});k.plugin(p);k.plugin(n);k.plugin(t)})(jQuery,parseInt);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.resizable",["kendo.core","kendo.draganddrop"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui,u=B.Widget,z=b.proxy,C=q.isFunction,y=b.extend,F=u.extend({init:function(b,k){u.fn.init.call(this,b,k);this.orientation="vertical"!=this.options.orientation.toLowerCase()?"horizontal":"vertical";this._positionMouse="horizontal"==this.orientation?"x":"y";this._position="horizontal"==this.orientation?"left":"top";this._sizingDom="horizontal"==this.orientation?"outerWidth":"outerHeight";this.draggable=new B.Draggable(b,{distance:1,filter:k.handle,drag:z(this._resize,this),dragcancel:z(this._cancel,this),dragstart:z(this._start,this),dragend:z(this._stop,this)});this.userEvents=this.draggable.userEvents},events:["resize","resizeend","start"],options:{name:"Resizable",orientation:"horizontal"},resize:function(){},_max:function(b){var q=this.hint?this.hint[this._sizingDom]():0,x=this.options.max;return C(x)?x(b):x!==k?this._initialElementPosition+x-q:x},_min:function(b){var q=this.options.min;return C(q)?q(b):q!==k?this._initialElementPosition+q:q},_start:function(k){var q=this.options.hint,x=b(k.currentTarget);this._initialElementPosition=x.position()[this._position];this._initialMousePosition=k[this._positionMouse].startLocation;q&&(this.hint=C(q)?b(q(x)):q,this.hint.css({position:"absolute"}).css(this._position,this._initialElementPosition).appendTo(this.element));this.trigger("start",k);this._maxPosition=this._max(k);this._minPosition=this._min(k);b(document.body).css("cursor",x.css("cursor"))},_resize:function(b){var q=this._maxPosition,x=this._minPosition,t=this._initialElementPosition+(b[this._positionMouse].location-this._initialMousePosition),t=x!==k?Math.max(x,t):t;this.position=t=q!==k?Math.min(q,t):t;this.hint&&this.hint.toggleClass(this.options.invalidClass||"",t==q||t==x).css(this._position,t);this.resizing=!0;this.trigger("resize",y(b,{position:t}))},_stop:function(k){this.hint&&this.hint.remove();this.resizing=!1;this.trigger("resizeend",y(k,{position:this.position}));b(document.body).css("cursor","")},_cancel:function(b){this.hint&&(this.position=k,this.hint.css(this._position,this._initialElementPosition),this._stop(b))},destroy:function(){u.fn.destroy.call(this);this.draggable&&this.draggable.destroy()},press:function(b){if(b){var k=b.position();this.userEvents.press(k.left,k.top,b[0]);this.targetPosition=k;this.target=b}},move:function(b){var q=this._position,x=this.targetPosition,t=this.position;t===k&&(t=x[q]);x[q]=t+b;this.userEvents.move(x.left,x.top)},end:function(){this.userEvents.end();this.target=this.position=k}});q.ui.plugin(F)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.multiselect",["kendo.list","kendo.mobile.scroller"],b)})(function(){(function(b,k){function q(b,h){var e;if(null===b&&null!==h||null!==b&&null===h)return!1;e=b.length;if(e!==h.length)return!1;for(;e--;)if(b[e]!==h[e])return!1;return!0}var B=window.kendo,u=B.ui,z=u.List,C=B.keys,y=B._activeElement,F=B.data.ObservableArray,A=b.proxy,E=/"/g,x=b.isArray,t="font-family font-size font-stretch font-style font-weight letter-spacing text-transform line-height".split(" "),m=z.extend({init:function(e,h){var p;this.ns=".kendoMultiSelect";z.fn.init.call(this,e,h);this._optionsMap={};this._customOptions={};this._wrapper();this._tagList();this._input();this._textContainer();this._loader();this._tabindex(this.input);e=this.element.attr("multiple","multiple").hide();h=this.options;h.placeholder||(h.placeholder=e.data("placeholder"));if(p=e.attr("id"))this._tagID=p+"_tag_active",p+="_taglist",this.tagList.attr("id",p);this._aria(p);this._dataSource();this._ignoreCase();this._popup();this._tagTemplate();this._initList();this._reset();this._enable();this._placeholder();h.autoBind?this.dataSource.fetch():h.value&&this._preselect(h.value);b(this.element).parents("fieldset").is(":disabled")&&this.enable(!1);B.notify(this)},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:"open close change select filtering dataBinding dataBound".split(" "),setDataSource:function(b){this.options.dataSource=b;this._state="";this._dataSource();this.listView.setDataSource(this.dataSource);this.options.autoBind&&this.dataSource.fetch()},setOptions:function(b){var e=this._listOptions(b);z.fn.setOptions.call(this,b);this.listView.setOptions(e);this._accessors();this._aria(this.tagList.attr("id"));this._tagTemplate()},currentTag:function(b){if(b!==k)this._currentTag&&(this._currentTag.removeClass("k-state-focused").removeAttr("id"),this.input.removeAttr("aria-activedescendant")),b&&(b.addClass("k-state-focused").attr("id",this._tagID),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=b;else return this._currentTag},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var b=this.ns;clearTimeout(this._busy);clearTimeout(this._typingTimeout);this.wrapper.off(b);this.tagList.off(b);this.input.off(b);z.fn.destroy.call(this)},_activateItem:function(){z.fn._activateItem.call(this);this.currentTag(null)},_listOptions:function(e){e=z.fn._listOptions.call(this,b.extend(e,{selectedItemChange:A(this._selectedItemChange,this),selectable:"multiple"}));var h=this.options.itemTemplate||this.options.template;(h=e.itemTemplate||h||e.template)||(h="#:"+B.expr(e.dataTextField,"data")+"#");e.template=h;return e},_setListValue:function(){z.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(b){"rebind"===this._state&&(this._state="",b.added=[]);this._selectValue(b.added,b.removed)},_selectedItemChange:function(b){b=b.items;var e,p;for(p=0;p<b.length;p++)e=b[p],this.tagList.children().eq(e.index).children("span:first").html(this.tagTextTemplate(e.item))},_wrapperMousedown:function(e){var h="input"!==e.target.nodeName.toLowerCase(),p=b(e.target),n=p.hasClass("k-select")||p.hasClass("k-icon");n&&(n=!p.closest(".k-select").children(".k-i-arrow-s").length);!h||n&&B.support.mobileOS||e.preventDefault();n||(this.input[0]!==y()&&h&&this.input.focus(),0===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1);this.wrapper.addClass("k-state-focused")},_inputFocusout:function(){clearTimeout(this._typingTimeout);this.wrapper.removeClass("k-state-focused");this._placeholder(!this.listView.selectedDataItems()[0],!0);this.close();"filter"===this._state&&(this._state="accept",this.listView.skipUpdate(!0));this.element.blur()},_removeTag:function(b){var e=this._state,p=b.index(),n=this.listView,m=n.value()[p],f=this._customOptions[m];f!==k||"accept"!==e&&"filter"!==e||(f=this._optionsMap[m]);f!==k?(e=this.element[0].children[f],e.removeAttribute("selected"),e.selected=!1,n.removeAt(p),b.remove()):n.select(n.select()[p]);this.currentTag(null);this._change();this._close()},_tagListClick:function(e){e=b(e.currentTarget);e.children(".k-i-arrow-s").length||this._removeTag(e.closest("li"))},_editable:function(e){var h=e.disable;e=e.readonly;var p=this.wrapper.off(".kendoMultiSelect"),n=this.tagList.off(".kendoMultiSelect"),m=this.element.add(this.input.off(".kendoMultiSelect"));e||h?(h?p.addClass("k-state-disabled"):p.removeClass("k-state-disabled"),m.attr("disabled",h).attr("readonly",e).attr("aria-disabled",h).attr("aria-readonly",e)):(p.removeClass("k-state-disabled").on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",this._toggleHover).on("mousedown.kendoMultiSelect touchend.kendoMultiSelect",A(this._wrapperMousedown,this)),this.input.on("keydown.kendoMultiSelect",A(this._keydown,this)).on("paste.kendoMultiSelect",A(this._search,this)).on("focus.kendoMultiSelect",A(this._inputFocus,this)).on("focusout.kendoMultiSelect",A(this._inputFocusout,this)),m.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1),n.on("mouseenter.kendoMultiSelect","li",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoMultiSelect","li",function(){b(this).removeClass("k-state-hover")}).on("click.kendoMultiSelect","li.k-button .k-select",A(this._tagListClick,this)))},_close:function(){this.options.autoClose?this.close():this.popup.position()},_filterSource:function(b,h){h||(h=this._retrieveData);this._retrieveData=!1;z.fn._filterSource.call(this,b,h)},close:function(){this.popup.close()},open:function(){this._request&&(this._retrieveData=!1);this._retrieveData||!this.listView.bound()||"accept"===this._state?(this._open=!0,this._state="rebind",this.listView.skipUpdate(!0),this._filterSource()):this._allowSelection()&&(this.popup.open(),this._focusItem())},toggle:function(b){b=b!==k?b:!this.popup.visible();this[b?"open":"close"]()},refresh:function(){this.listView.refresh()},_angularItems:function(e){var h=this;h.angular(e,function(){return{elements:h.items(),data:b.map(h.dataSource.flatView(),function(b){return{dataItem:b}})}})},_listBound:function(){var b=this.dataSource.flatView(),h=this.listView.skip(),p=b.length;this._angularItems("compile");this._render(b);this._resizePopup();this._open&&(this._open=!1,this.toggle(p));this.popup.position();!this.options.highlightFirst||h!==k&&0!==h||this.listView.focusFirst();this._touchScroller&&this._touchScroller.reset();this._hideBusy();this._makeUnselectable();this.trigger("dataBound")},search:function(b){var e=this.options,p=e.ignoreCase,n=e.dataTextField,m=this.input.val();e.placeholder===m&&(m="");clearTimeout(this._typingTimeout);b="string"===typeof b?b:m;m=b.length;if(!m||m>=e.minLength)this._state="filter",this._open=!0,b={value:p?b.toLowerCase():b,field:n,operator:e.filter,ignoreCase:p},this._filterSource(b)},value:function(b){var e=this.listView,p=e.value().slice(),n=this.options.maxSelectedItems,m=e.bound()&&e.isFiltered();if(b===k)return p;b=this._normalizeValues(b);null!==n&&b.length>n&&(b=b.slice(0,n));m&&(e.bound(!1),this._filterSource());e.value(b);this._old=b;m||this._fetchData()},_preselect:function(e,h){x(e)||e instanceof B.data.ObservableArray||(e=[e]);if(b.isPlainObject(e[0])||e[0]instanceof B.data.ObservableObject||!this.options.dataValueField)this.dataSource.data(e),this.value(h||this._initialValues),this._retrieveData=!0},_setOption:function(b,h){var e=this.element[0].children[this._optionsMap[b]];e&&(h?e.setAttribute("selected","selected"):e.removeAttribute("selected"),e.selected=h)},_fetchData:function(){var b=this,h=!!b.dataSource.view().length;0===b.listView.value().length||b._request||!b._retrieveData&&(b._fetch||h)||(b._fetch=!0,b._retrieveData=!1,b.dataSource.read().done(function(){b._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var b=this.element,h=this.options,p=h.dataSource||{},p=x(p)?{data:p}:p;p.select=b;p.fields=[{field:h.dataTextField},{field:h.dataValueField}];this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=A(this._showBusy,this),this._errorHandler=A(this._hideBusy,this));this.dataSource=B.data.DataSource.create(p).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_reset:function(){var e=this,h=e.element,p=h.attr("form"),h=p?b("#"+p):h.closest("form");h[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initialValues);e._placeholder()})},e._form=h.on("reset",e._resetHandler))},_initValue:function(){var b=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(b)},_normalizeValues:function(e){var h=this;null===e?e=[]:e&&b.isPlainObject(e)?e=[h._value(e)]:e&&b.isPlainObject(e[0])?e=b.map(e,function(b){return h._value(b)}):x(e)||e instanceof F||(e=[e]);return e},_change:function(){var b=this.value();q(b,this._old)||(this._old=b.slice(),this.trigger("change"),this.element.trigger("change"))},_click:function(b){var e=b.item;b.preventDefault();this.trigger("select",{item:e})||(this._select(e),this._change());this._close()},_keydown:function(e){var h=this,p=e.keyCode,n=h._currentTag,m=h.listView.focus(),f=h.input.val(),l=B.support.isRtl(h.wrapper),c=h.popup.visible();if(p===C.DOWN)e.preventDefault(),c?m?(this.listView.focusNext(),this.listView.focus()||this.listView.focusLast()):this.listView.focusFirst():(h.open(),m||this.listView.focusFirst());else if(p===C.UP)c&&(m&&this.listView.focusPrev(),this.listView.focus()||h.close()),e.preventDefault();else if(p===C.LEFT&&!l||p===C.RIGHT&&l)f||(n=n?n.prev():b(h.tagList[0].lastChild),n[0]&&h.currentTag(n));else if(p===C.RIGHT&&!l||p===C.LEFT&&l)!f&&n&&(n=n.next(),h.currentTag(n[0]?n:null));else if(p===C.ENTER&&c){if(m){if(h.trigger("select",{item:m})){h._close();return}h._select(m)}h._change();h._close();e.preventDefault()}else p===C.ESC?(c?e.preventDefault():h.currentTag(null),h.close()):p===C.HOME?c?this.listView.focusFirst():f||(n=h.tagList[0].firstChild)&&h.currentTag(b(n)):p===C.END?c?this.listView.focusLast():f||(n=h.tagList[0].lastChild)&&h.currentTag(b(n)):p!==C.DELETE&&p!==C.BACKSPACE||f?(clearTimeout(h._typingTimeout),setTimeout(function(){h._scale()}),h._search()):(p!==C.BACKSPACE||n||(n=b(h.tagList[0].lastChild)),n&&n[0]&&h._removeTag(n))},_hideBusy:function(){clearTimeout(this._busy);this.input.attr("aria-busy",!1);this._loading.addClass("k-loading-hidden");this._request=!1;this._busy=null},_showBusyHandler:function(){this.input.attr("aria-busy",!0);this._loading.removeClass("k-loading-hidden")},_showBusy:function(){this._request=!0;this._busy||(this._busy=setTimeout(A(this._showBusyHandler,this),100))},_placeholder:function(b,h){var e=this.input,n=y();b===k&&(b=!1,e[0]!==n&&(b=!this.listView.selectedDataItems()[0]));this._prev="";e.toggleClass("k-readonly",b).val(b?this.options.placeholder:"");e[0]!==n||h||B.caret(e[0],0,0);this._scale()},_scale:function(){var b=this.wrapper,h=b.width(),p=this._span.text(this.input.val()),n;b.is(":visible")?n=p.width()+25:(p.appendTo(document.documentElement),h=n=p.width()+25,p.appendTo(b));this.input.width(n>h?h:n)},_option:function(b,h,p){var e="\x3coption";b!==k&&(b+="",-1!==b.indexOf('"')&&(b=b.replace(E,"\x26quot;")),e+=' value\x3d"'+b+'"');p&&(e+=" selected");e+="\x3e";h!==k&&(e+=B.htmlEncode(h));return e+"\x3c/option\x3e"},_render:function(b){var e=this.listView.selectedDataItems(),p=this.listView.value(),n=b.length,m="",f,l,c;p.length!==e.length&&(e=this._buildSelectedItems(p));var w={},a={};for(c=0;c<n;c++)f=b[c],l=this._value(f),p=this._selectedItemIndex(l,e),-1!==p&&e.splice(p,1),a[l]=c,m+=this._option(l,this._text(f),-1!==p);if(e.length)for(c=0;c<e.length;c++)f=e[c],l=this._value(f),w[l]=n,a[l]=n,n+=1,m+=this._option(l,this._text(f),!0);this._customOptions=w;this._optionsMap=a;this.element.html(m)},_buildSelectedItems:function(b){for(var e=this.options.dataValueField,p=this.options.dataTextField,n=[],m,f=0;f<b.length;f++)m={},m[e]=b[f],m[p]=b[f],n.push(m);return n},_selectedItemIndex:function(b,h){for(var e=this._value,n=0;n<h.length;n++)if(b===e(h[n]))return n;return-1},_search:function(){var b=this;b._typingTimeout=setTimeout(function(){var e=b.input.val();b._prev!==e&&(b._prev=e,b.search(e))},b.options.delay)},_allowSelection:function(){var b=this.options.maxSelectedItems;return null===b||b>this.listView.value().length},_angularTagItems:function(e){var h=this;h.angular(e,function(){return{elements:h.tagList[0].children,data:b.map(h.dataItems(),function(b){return{dataItem:b}})}})},_selectValue:function(b,h){var e=this.value(),n=this.dataSource.total(),m=this.tagList,f=this._value;this._angularTagItems("cleanup");if("multiple"===this.options.tagMode){for(e=h.length-1;-1<e;e--)n=h[e],m[0].removeChild(m[0].children[n.position]),this._setOption(f(n.dataItem),!1);for(e=0;e<b.length;e++)n=b[e],m.append(this.tagTemplate(n.dataItem)),this._setOption(f(n.dataItem),!0)}else{if(!this._maxTotal||this._maxTotal<n)this._maxTotal=n;m.html("");e.length&&m.append(this.tagTemplate({values:e,dataItems:this.dataItems(),maxTotal:this._maxTotal,currentTotal:n}));for(e=h.length-1;-1<e;e--)this._setOption(f(h[e].dataItem),!1);for(e=0;e<b.length;e++)this._setOption(f(b[e].dataItem),!0)}this._angularTagItems("compile");this._placeholder()},_select:function(b){"rebind"===this._state&&(this._state="");this._allowSelection()&&(this.listView.select(b),this._placeholder(),"filter"===this._state&&(this._state="accept",this.listView.skipUpdate(!0)))},_input:function(){var e=this.element[0].accessKey,h=this._innerWrapper.children("input.k-input");h[0]||(h=b('\x3cinput class\x3d"k-input" style\x3d"width: 25px" /\x3e').appendTo(this._innerWrapper));this.element.removeAttr("accesskey");this._focused=this.input=h.attr({accesskey:e,autocomplete:"off",role:"listbox","aria-expanded":!1})},_tagList:function(){var e=this._innerWrapper.children("ul");e[0]||(e=b('\x3cul role\x3d"listbox" unselectable\x3d"on" class\x3d"k-reset"/\x3e').appendTo(this._innerWrapper));this.tagList=e},_tagTemplate:function(){var b=this.options,h=b.tagTemplate,m=b.dataSource,n="multiple"===b.tagMode;this.element[0].length&&!m&&(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value");b=n?B.template("#:"+B.expr(b.dataTextField,"data")+"#",{useWithBlock:!1}):B.template("#:values.length# item(s) selected");this.tagTextTemplate=h=h?B.template(h):b;this.tagTemplate=function(b){return'\x3cli class\x3d"k-button" unselectable\x3d"on"\x3e\x3cspan unselectable\x3d"on"\x3e'+h(b)+'\x3c/span\x3e\x3cspan unselectable\x3d"on" class\x3d"k-select"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon '+(n?"k-i-close":"k-i-arrow-s")+'"\x3e'+(n?"delete":"open")+"\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e"}},_loader:function(){this._loading=b('\x3cspan class\x3d"k-icon k-loading k-loading-hidden"\x3e\x3c/span\x3e').insertAfter(this.input)},_textContainer:function(){var e=B.getComputedStyles(this.input[0],t);e.position="absolute";e.visibility="hidden";e.top=-3333;e.left=-3333;this._span=b("\x3cspan/\x3e").css(e).appendTo(this.wrapper)},_wrapper:function(){var e=this.element,h=e.parent("span.k-multiselect");h[0]||(h=e.wrap('\x3cdiv class\x3d"k-widget k-multiselect k-header" unselectable\x3d"on" /\x3e').parent(),h[0].style.cssText=e[0].style.cssText,h[0].title=e[0].title,b('\x3cdiv class\x3d"k-multiselect-wrap k-floatwrap" unselectable\x3d"on" /\x3e').insertBefore(e));this.wrapper=h.addClass(e[0].className).css("display","");this._innerWrapper=b(h[0].firstChild)}});u.plugin(m)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.autocomplete",["kendo.list","kendo.mobile.scroller"],b)})(function(){(function(b,k){function q(b,h,m){return m?h.substring(0,b).split(m).length-1:0}function B(b,h,m){return h.split(m)[q(b,h,m)]}var u=window.kendo,z=u.caret,C=u._activeElement,y=u.support.placeholder,F=u.ui,A=F.List,E=u.keys,x=u.data.DataSource,t=b.proxy,m=A.extend({init:function(e,h){var m=this,n;m.ns=".kendoAutoComplete";h=b.isArray(h)?{dataSource:h}:h;A.fn.init.call(m,e,h);e=m.element;h=m.options;h.placeholder=h.placeholder||e.attr("placeholder");y&&e.attr("placeholder",h.placeholder);m._wrapper();m._loader();m._dataSource();m._ignoreCase();e[0].type="text";n=m.wrapper;m._popup();e.addClass("k-input").on("keydown.kendoAutoComplete",t(m._keydown,m)).on("keypress.kendoAutoComplete",t(m._keypress,m)).on("paste.kendoAutoComplete",t(m._search,m)).on("focus.kendoAutoComplete",function(){m._prev=m._accessor();m._oldText=m._prev;m._placeholder(!1);n.addClass("k-state-focused")}).on("focusout.kendoAutoComplete",function(){m._change();m._placeholder();n.removeClass("k-state-focused")}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0});m._enable();m._old=m._accessor();e[0].id&&e.attr("aria-owns",m.ul[0].id);m._aria();m._placeholder();m._initList();b(m.element).parents("fieldset").is(":disabled")&&m.enable(!1);m.listView.bind("click",function(b){b.preventDefault()});m._resetFocusItemHandler=b.proxy(m._resetFocusItem,m);u.notify(m)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=t(this._showBusy,this),this._errorHandler=t(this._hideBusy,this));this.dataSource=x.create(this.options.dataSource).bind("progress",this._progressHandler).bind("error",this._errorHandler)},setDataSource:function(b){this.options.dataSource=b;this._dataSource();this.listView.setDataSource(this.dataSource)},events:"open close change select filtering dataBinding dataBound".split(" "),setOptions:function(b){var e=this._listOptions(b);A.fn.setOptions.call(this,b);this.listView.setOptions(e);this._accessors();this._aria()},_listOptions:function(e){e=A.fn._listOptions.call(this,b.extend(e,{skipUpdateOnBind:!0}));e.dataValueField=e.dataTextField;e.selectedItemChange=null;return e},_editable:function(b){var e=this.element,m=this.wrapper.off(".kendoAutoComplete"),n=b.readonly;b=b.disable;n||b?(m.addClass(b?"k-state-disabled":"k-state-default").removeClass(b?"k-state-default":"k-state-disabled"),e.attr("disabled",b).attr("readonly",n).attr("aria-disabled",b).attr("aria-readonly",n)):(m.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",this._toggleHover),e.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1))},close:function(){var b=this.listView.focus();b&&b.removeClass("k-state-selected");this.popup.close()},destroy:function(){this.element.off(".kendoAutoComplete");this.wrapper.off(".kendoAutoComplete");A.fn.destroy.call(this)},refresh:function(){this.listView.refresh()},select:function(b){this._select(b)},search:function(b){var e=this.options,m=e.ignoreCase,n=e.separator;b=b||this._accessor();clearTimeout(this._typingTimeout);n&&(b=B(z(this.element)[0],b,n));n=b.length;if(!n||n>=e.minLength)this._open=!0,this._mute(function(){this.listView.value([])}),this._filterSource({value:m?b.toLowerCase():b,operator:e.filter,field:e.dataTextField,ignoreCase:m})},suggest:function(b){var e=this._last,m=this._accessor(),n=this.element[0],t=z(n)[0],f=this.options.separator,l=m.split(f),c=q(t,m,f),w=t;e==E.BACKSPACE||e==E.DELETE?this._last=k:(b=b||"","string"!==typeof b&&(b[0]&&(b=this.dataSource.view()[A.inArray(b[0],this.ul[0])]),b=b?this._text(b):""),0>=t&&(t=m.toLowerCase().indexOf(b.toLowerCase())+1),e=m.substring(0,t).lastIndexOf(f),e=-1<e?t-(e+f.length):t,m=l[c].substring(0,e),b&&(b=b.toString(),e=b.toLowerCase().indexOf(m.toLowerCase()),-1<e&&(b=b.substring(e+m.length),w=t+b.length,m+=b),f&&""!==l[l.length-1]&&l.push("")),l[c]=m,this._accessor(l.join(f||"")),n===C()&&z(n,t,w))},value:function(b){if(b!==k)this.listView.value(b),this._accessor(b),this._old=this._accessor(),this._oldText=this._accessor();else return this._accessor()},_click:function(b){var e=b.item,m=this.element;b.preventDefault();this._active=!0;this.trigger("select",{item:e})?this.close():(this._oldText=m.val(),this._select(e),this._blur(),z(m,m.val().length))},_resetFocusItem:function(){var b=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0);this.listView.focus(b)},_listBound:function(){var b=this.popup,h=this.options,m=this.dataSource.flatView(),n=m.length,t=this.element[0]===C();this._angularItems("compile");this._resizePopup();b.position();n&&h.suggest&&t&&this.suggest(m[0]);if(this._open){this._open=!1;m=n?"open":"close";this._typingTimeout&&!t&&(m="close");if(n&&(this._resetFocusItem(),h.virtual))this.popup.unbind("activate",this._resetFocusItemHandler).one("activate",this._resetFocusItemHandler);b[m]();this._typingTimeout=k}this._touchScroller&&this._touchScroller.reset();this._hideBusy();this._makeUnselectable();this.trigger("dataBound")},_mute:function(b){this._muted=!0;b.call(this);this._muted=!1},_listChange:function(){!this._active&&this.element[0]!==C()||this._muted||this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(b){var e=this.options.separator,m="";b&&(m=this._text(b));null===m&&(m="");if(e){b=z(this.element)[0];var n=this._accessor(),t=n.split(e);t.splice(q(b,n,e),1,m);e&&""!==t[t.length-1]&&t.push("");m=t.join(e)}this._prev=m;this._accessor(m);this._placeholder()},_change:function(){var b=this.value(),h=b!==A.unifyType(this._old,typeof b),m=this._oldText!==b;(h&&!this._typing||m)&&this.element.trigger("change");h&&(this._old=b,this.trigger("change"));this.typing=!1},_accessor:function(b){var e=this.element[0];if(b!==k)e.value=null===b?"":b,this._placeholder();else return b=e.value,-1<e.className.indexOf("k-readonly")&&b===this.options.placeholder?"":b},_keydown:function(b){var e=b.keyCode,m=this.popup.visible(),n=this.listView.focus();this._last=e;if(e===E.DOWN)m&&this._move(n?"focusNext":"focusFirst"),b.preventDefault();else if(e===E.UP)m&&this._move(n?"focusPrev":"focusLast"),b.preventDefault();else if(e===E.ENTER||e===E.TAB){e===E.ENTER&&m&&b.preventDefault();if(m&&n){if(this.trigger("select",{item:n}))return;this._select(n)}this._blur()}else e===E.ESC?(m&&b.preventDefault(),this.close()):this._search()},_keypress:function(){this._oldText=this.element.val();this._typing=!0},_move:function(b){this.listView[b]();this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){clearTimeout(this._busy);this._loading.hide();this.element.attr("aria-busy",!1);this._busy=null},_showBusy:function(){var b=this;b._busy||(b._busy=setTimeout(function(){b.element.attr("aria-busy",!0);b._loading.show()},100))},_placeholder:function(b){if(!y){var e=this.element,m=this.options.placeholder,n;m&&(n=e.val(),b===k&&(b=!n),b||(m=n!==m?n:""),n!==this._old||b)&&(e.toggleClass("k-readonly",b).val(m),m||e[0]!==document.activeElement||z(e[0],0,0))}},_search:function(){var b=this;clearTimeout(b._typingTimeout);b._typingTimeout=setTimeout(function(){b._prev!==b._accessor()&&(b._prev=b._accessor(),b.search())},b.options.delay)},_select:function(b){this._active=!0;this.listView.select(b);this._active=!1},_loader:function(){this._loading=b('\x3cspan class\x3d"k-icon k-loading" style\x3d"display:none"\x3e\x3c/span\x3e').insertAfter(this.element)},_toggleHover:function(e){b(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_wrapper:function(){var b=this.element,h=b[0],m;m=b.parent();m.is("span.k-widget")||(m=b.wrap("\x3cspan /\x3e").parent());m.attr("tabindex",-1);m.attr("role","presentation");m[0].style.cssText=h.style.cssText;b.css({width:"100%",height:h.style.height});this._focused=this.element;this.wrapper=m.addClass("k-widget k-autocomplete k-header").addClass(h.className)}});F.plugin(m)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.combobox",["kendo.list","kendo.mobile.scroller"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui,u=B.List,z=B.Select,C=q.caret,y=q.support.placeholder,F=q._activeElement,A=q.keys,E=b.proxy,x=z.extend({init:function(t,m){var e;this.ns=".kendoComboBox";m=b.isArray(m)?{dataSource:m}:m;z.fn.init.call(this,t,m);m=this.options;t=this.element.on("focus.kendoComboBox",E(this._focusHandler,this));m.placeholder=m.placeholder||t.attr("placeholder");this._reset();this._wrapper();this._input();this._tabindex(this.input);this._popup();this._dataSource();this._ignoreCase();this._enable();this._oldIndex=this.selectedIndex=-1;this._aria();this._initialIndex=m.index;this._initList();this._cascade();m.autoBind?this._filterSource():(e=m.text,!e&&this._isSelect&&(e=t.children(":selected").text()),e&&this._setText(e));e||this._placeholder();b(this.element).parents("fieldset").is(":disabled")&&this.enable(!1);q.notify(this)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:"open close change select filtering dataBinding dataBound cascade set".split(" "),setOptions:function(b){z.fn.setOptions.call(this,b);this.listView.setOptions(b);this._accessors();this._aria()},destroy:function(){this.input.off(".kendoComboBox");this.element.off(".kendoComboBox");this._inputWrapper.off(".kendoComboBox");this._arrow.parent().off("click.kendoComboBox mousedown.kendoComboBox");z.fn.destroy.call(this)},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass("k-state-focused");this._placeholder(!1)},_inputFocusout:function(){var b=this.value();this._inputWrapper.removeClass("k-state-focused");clearTimeout(this._typingTimeout);this._typingTimeout=null;this.text(this.text());b!==this.value()&&this.trigger("select",{item:this._focus()})?this.value(b):(this._placeholder(),this._blur(),this.element.blur())},_editable:function(b){var m=b.disable;b=b.readonly;var e=this._inputWrapper.off(".kendoComboBox"),h=this.element.add(this.input.off(".kendoComboBox")),p=this._arrow.parent().off("click.kendoComboBox mousedown.kendoComboBox");b||m?(e.addClass(m?"k-state-disabled":"k-state-default").removeClass(m?"k-state-default":"k-state-disabled"),h.attr("disabled",m).attr("readonly",b).attr("aria-disabled",m).attr("aria-readonly",b)):(e.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoComboBox mouseleave.kendoComboBox",this._toggleHover),h.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1),p.on("click.kendoComboBox",E(this._arrowClick,this)).on("mousedown.kendoComboBox",function(b){b.preventDefault()}),this.input.on("keydown.kendoComboBox",E(this._keydown,this)).on("focus.kendoComboBox",E(this._inputFocus,this)).on("focusout.kendoComboBox",E(this._inputFocusout,this)))},open:function(){var b=this._state;this.popup.visible()||(!this.listView.bound()&&"filter"!==b||"accept"===b?(this._open=!0,this._state="rebind",this._filterSource()):(this.popup.open(),this._focusItem()))},_updateSelectionState:function(){var b=this.options.text,m=this.options.value;if(!this.listView.isFiltered())if(-1===this.selectedIndex){if(b===k||null===b)b=m;this._accessor(m);this.input.val(b||this.input.val());this._placeholder()}else-1===this._oldIndex&&(this._oldIndex=this.selectedIndex)},_buildOptions:function(b){if(this._isSelect){var m=this._customOption;"rebind"===this._state&&(this._state="");this._customOption=k;this._options(b,"",this.value());m&&m[0].selected&&this._custom(m.val())}},_updateSelection:function(){var t=this.listView,m=this._initialIndex,e=null!==m&&-1<m;"filter"===this._state?b(t.focus()).removeClass("k-state-selected"):!this._fetch&&(t.value().length||(e?this.select(m):this._accessor()&&t.value(this._accessor())),this._initialIndex=null,t=t.selectedDataItems()[0])&&(this._value(t)!==this.value()&&this._custom(this._value(t)),this.text()&&this.text()!==this._text(t)&&this._selectValue(t))},_updateItemFocus:function(){var b=this.listView;this.options.highlightFirst?b.focus()||b.focusIndex()||b.focus(0):b.focus(-1)},_listBound:function(){var b=this.input[0]===F(),m=this.dataSource.flatView(),e=this.listView.skip(),e=e===k||0===e;this._angularItems("compile");this._presetValue=!1;this._resizePopup();this.popup.position();this._buildOptions(m);this._makeUnselectable();this._updateSelection();m.length&&e&&(this._updateItemFocus(),this.options.suggest&&b&&this.input.val()&&this.suggest(m[0]));this._open&&(this._open=!1,this._typingTimeout&&!b?this.popup.close():this.toggle(!!m.length),this._typingTimeout=null);this._hideBusy();this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(b){var m,e,h;if("function"===typeof b){m=this.dataSource.flatView();for(h=0;h<m.length;h++)if(b(m[h])){b=h;e=!0;break}e||(b=-1)}return b},_select:function(b,m){b=this._get(b);-1===b&&(this.input[0].value="",this._accessor(""));this.listView.select(b);m||"filter"!==this._state||(this._state="accept")},_selectValue:function(b){var m=this.listView.select(),e="",h="",m=m[m.length-1];m===k&&(m=-1);this.selectedIndex=m;-1===m?(e=h=this.input[0].value,this.listView.focus(-1)):(b&&(e=this._dataValue(b),h=this._text(b)),null===e&&(e=""));this._prev=this.input[0].value=h;this._accessor(e!==k?e:h,m);this._placeholder();this._triggerCascade()},refresh:function(){this.listView.refresh()},suggest:function(b){var m=this.input[0],e=this.text(),h=C(m)[0],p=this._last;p==A.BACKSPACE||p==A.DELETE?this._last=k:(b=b||"","string"!==typeof b&&(b[0]&&(b=this.dataSource.view()[u.inArray(b[0],this.ul[0])]),b=b?this._text(b):""),0>=h&&(h=e.toLowerCase().indexOf(b.toLowerCase())+1),b?(b=b.toString(),p=b.toLowerCase().indexOf(e.toLowerCase()),-1<p&&(e+=b.substring(p+e.length))):e=e.substring(0,h),e.length===h&&b||(m.value=e,m===F()&&C(m,h,e.length)))},text:function(b){b=null===b?"":b;var m=this,e=m.input[0],h=m.options.ignoreCase,p=b,n;if(b===k)return e.value;if(!1!==m.options.autoBind||m.listView.bound()){if((n=m.dataItem())&&m._text(n)===b&&(n=m._value(n),n===u.unifyType(m._old,typeof n))){m._triggerCascade();return}h&&(p=p.toLowerCase());m._select(function(b){b=m._text(b);h&&(b=(b+"").toLowerCase());return b===p});0>m.selectedIndex&&(m._accessor(b),e.value=b,m._triggerCascade());m._prev=e.value}else m._setText(b)},toggle:function(b){this._toggle(b,!0)},value:function(b){var m=this,e=m.options,h=m.listView;if(b===k)return b=m._accessor()||m.listView.value()[0],b===k||null===b?"":b;m.trigger("set",{value:b});if(b!==e.value||m.input.val()!==e.text)m._accessor(b),m._isFilterEnabled()&&h.bound()&&h.isFiltered()?(h.bound(!1),m._filterSource()):m._fetchData(),h.value(b).done(function(){-1===m.selectedIndex&&(m._accessor(b),m.input.val(b),m._placeholder(!0));m._old=m._accessor();m._oldIndex=m.selectedIndex;m._prev=m.input.val();"filter"===m._state&&(m._state="accept")})},_click:function(b){var m=b.item;b.preventDefault();this.trigger("select",{item:m})?this.close():(this._userTriggered=!0,this._select(m),this._blur())},_filter:function(b){var m=this,e=m.options,h=m.dataSource,p=e.ignoreCase;p&&(b=b.toLowerCase());if(m.ul[0].firstChild){this.listView.focus(this._get(function(e){e=m._text(e);if(e!==k){e+="";if(""!==e&&""===b)return!1;p&&(e=e.toLowerCase());return 0===e.indexOf(b)}}));var n=this.listView.focus();n&&(e.suggest&&m.suggest(n),this.open());this.options.highlightFirst&&!b&&this.listView.focusFirst()}else h.one("change",function(){h.view()[0]&&m.search(b)}).fetch()},_input:function(){var t=this.element.removeClass("k-input")[0],m=t.accessKey,e=this.wrapper,h=t.name||"",p;h&&(h='name\x3d"'+h+'_input" ');p=e.find("input.k-input");p[0]||(e.append('\x3cspan tabindex\x3d"-1" unselectable\x3d"on" class\x3d"k-dropdown-wrap k-state-default"\x3e\x3cinput '+h+'class\x3d"k-input" type\x3d"text" autocomplete\x3d"off"/\x3e\x3cspan tabindex\x3d"-1" unselectable\x3d"on" class\x3d"k-select"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-arrow-s"\x3eselect\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e').append(this.element),p=e.find("input.k-input"));p[0].style.cssText=t.style.cssText;p[0].title=t.title;-1<t.maxLength&&(p[0].maxLength=t.maxLength);p.addClass(t.className).val(this.options.text||t.value).css({width:"100%",height:t.style.height}).attr({role:"combobox","aria-expanded":!1}).show();y&&p.attr("placeholder",this.options.placeholder);m&&(t.accessKey="",p[0].accessKey=m);this._focused=this.input=p;this._inputWrapper=b(e[0].firstChild);this._arrow=e.find(".k-icon").attr({role:"button",tabIndex:-1});t.id&&this._arrow.attr("aria-controls",this.ul[0].id)},_keydown:function(b){var m=b.keyCode;this._last=m;clearTimeout(this._typingTimeout);this._typingTimeout=null;m==A.TAB||this._move(b)||this._search()},_placeholder:function(b){if(!y){var m=this.input,e=this.options.placeholder,h;if(e){h=this.value();b===k&&(b=!h);m.toggleClass("k-readonly",b);if(!b){if(h)return;e=""}m.val(e);e||m[0]!==F()||C(m[0],0,0)}}},_search:function(){var b=this;b._typingTimeout=setTimeout(function(){var m=b.text();b._prev!==m&&(b._prev=m,"none"===b.options.filter&&b.listView.select(-1),b.search(m));b._typingTimeout=null},b.options.delay)},_setText:function(b){this.input.val(b);this._prev=b},_wrapper:function(){var b=this.element,m=b.parent();m.is("span.k-widget")||(m=b.hide().wrap("\x3cspan /\x3e").parent(),m[0].style.cssText=b[0].style.cssText);this.wrapper=m.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(b,m){var e=b.value(),h=e&&-1===b.selectedIndex;if(-1!=this.selectedIndex||!this.value())if(m||!e||h)this.options.value="",this.value("")},_preselect:function(b,m){this.input.val(m);this._accessor(b);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(b);this._placeholder();this._initialIndex=null;this._presetValue=!0}});B.plugin(x)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.datepicker",["kendo.calendar","kendo.popup"],b)})(function(){(function(b,k){function q(e){var c=e.parseFormats,f=e.format;x.normalize(e);c=b.isArray(c)?c:[c];c.length||c.push("yyyy-MM-dd");-1===b.inArray(f,c)&&c.splice(0,0,e.format);e.parseFormats=c}function B(b){b.preventDefault()}var u=window.kendo,z=u.ui,C=z.Widget,y=u.parseDate,F=u.keys,A=u.template,E=u._activeElement,x=u.calendar,t=x.isInRange,m=x.restrictValue,e=x.isEqualDatePart,h=b.extend,p=b.proxy,n=Date,D=function(e){var c;c=document.body;var f=b("\x3cdiv /\x3e").attr("aria-hidden","true").addClass("k-calendar-container").appendTo(c);this.options=e=e||{};if(c=e.id)c+="_dateview",f.attr("id",c),this._dateViewID=c;this.popup=new z.Popup(f,h(e.popup,e,{name:"Popup",isRtl:u.support.isRtl(e.anchor)}));this.div=f;this.value(e.value)};D.prototype={_calendar:function(){var e=this.calendar,c=this.options;e||(e=b("\x3cdiv /\x3e").attr("id",u.guid()).appendTo(this.popup.element).on("mousedown.kendoDatePicker",B).on("click.kendoDatePicker","td:has(.k-link)",p(this._click,this)),this.calendar=e=new z.Calendar(e),this._setOptions(c),u.calendar.makeUnselectable(e.element),e.navigate(this._value||this._current,c.start),this.value(this._value))},_setOptions:function(b){this.calendar.setOptions({focusOnNav:!1,change:b.change,culture:b.culture,dates:b.dates,depth:b.depth,footer:b.footer,format:b.format,max:b.max,min:b.min,month:b.month,start:b.start,disableDates:b.disableDates})},setOptions:function(b){var c=this.options,e=b.disableDates;e&&(b.disableDates=x.disabled(e));this.options=h(c,b,{change:c.change,close:c.close,open:c.open});this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){this._calendar();this.popup.open()},close:function(){this.popup.close()},min:function(b){this._option("min",b)},max:function(b){this._option("max",b)},toggle:function(){this[this.popup.visible()?"close":"open"]()},move:function(b){var c=b.keyCode,e=this.calendar,a=b.ctrlKey&&c==F.DOWN||c==F.ENTER,d=!1;if(b.altKey)c==F.DOWN?(this.open(),b.preventDefault(),d=!0):c==F.UP&&(this.close(),b.preventDefault(),d=!0);else if(this.popup.visible()){if(c==F.ESC||a&&e._cell.hasClass("k-state-selected"))return this.close(),b.preventDefault(),!0;this._current=e._move(b);d=!0}return d},current:function(b){this._current=b;this.calendar._focus(b)},value:function(b){var c=this.calendar,e=this.options,a=e.disableDates;a&&a(b)&&(b=null);this._value=b;this._current=new n(+m(b,e.min,e.max));c&&c.value(b)},_click:function(b){-1!==b.currentTarget.className.indexOf("k-state-selected")&&this.close()},_option:function(b,c){var e=this.calendar;this.options[b]=c;if(e)e[b](c)}};D.normalize=q;u.DateView=D;var f=C.extend({init:function(e,c){var f=this,a;C.fn.init.call(f,e,c);e=f.element;c=f.options;c.disableDates=u.calendar.disabled(c.disableDates);c.min=y(e.attr("min"))||y(c.min);c.max=y(e.attr("max"))||y(c.max);q(c);f._initialOptions=h({},c);f._wrapper();f.dateView=new D(h({},c,{id:e.attr("id"),anchor:f.wrapper,change:function(){f._change(this.value());f.close()},close:function(d){f.trigger("close")?d.preventDefault():(e.attr("aria-expanded",!1),a.attr("aria-hidden",!0))},open:function(d){var b=f.options,c;f.trigger("open")?d.preventDefault():(f.element.val()!==f._oldText&&(c=y(e.val(),b.parseFormats,b.culture),f.dateView[c?"current":"value"](c)),e.attr("aria-expanded",!0),a.attr("aria-hidden",!1),f._updateARIA(c))}}));a=f.dateView.div;f._icon();try{e[0].setAttribute("type","text")}catch(d){e[0].type="text"}e.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":f.dateView._dateViewID});f._reset();f._template();e.is("[disabled]")||b(f.element).parents("fieldset").is(":disabled")?f.enable(!1):f.readonly(e.is("[readonly]"));f._old=f._update(c.value||f.element.val());f._oldText=e.val();u.notify(f)},events:["open","close","change"],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #\x3dkendo.toString(data.current, "D")#'},setOptions:function(b){var c=this._value;C.fn.setOptions.call(this,b);b=this.options;b.min=y(b.min);b.max=y(b.max);q(b);this.dateView.setOptions(b);c&&(this.element.val(u.toString(c,b.format,b.culture)),this._updateARIA(c))},_editable:function(b){var c=this,e=c._dateIcon.off(".kendoDatePicker"),a=c.element.off(".kendoDatePicker"),d=c._inputWrapper.off(".kendoDatePicker"),g=b.readonly;b=b.disable;g||b?(d.addClass(b?"k-state-disabled":"k-state-default").removeClass(b?"k-state-default":"k-state-disabled"),a.attr("disabled",b).attr("readonly",g).attr("aria-disabled",b).attr("aria-readonly",g)):(d.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",c._toggleHover),a.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1).on("keydown.kendoDatePicker",p(c._keydown,c)).on("focusout.kendoDatePicker",p(c._blur,c)).on("focus.kendoDatePicker",function(){c._inputWrapper.addClass("k-state-focused")}),e.on("click.kendoDatePicker",p(c._click,c)).on("mousedown.kendoDatePicker",B))},readonly:function(b){this._editable({readonly:b===k?!0:b,disable:!1})},enable:function(b){this._editable({readonly:!1,disable:!(b===k||b)})},destroy:function(){C.fn.destroy.call(this);this.dateView.destroy();this.element.off(".kendoDatePicker");this._dateIcon.off(".kendoDatePicker");this._inputWrapper.off(".kendoDatePicker");this._form&&this._form.off("reset",this._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(b){return this._option("min",b)},max:function(b){return this._option("max",b)},value:function(b){if(b===k)return this._value;this._old=this._update(b);null===this._old&&this.element.val("");this._oldText=this.element.val()},_toggleHover:function(e){b(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_blur:function(){var b=this.element.val();this.close();b!==this._oldText&&this._change(b);this._inputWrapper.removeClass("k-state-focused")},_click:function(){var b=this.element;this.dateView.toggle();u.support.touch||b[0]===E()||b.focus()},_change:function(b){var c=this.element.val(),e;b=this._update(b);var a=(e=+this._old!=+b)&&!this._typing,c=c!==this.element.val();(a||c)&&this.element.trigger("change");e&&(this._old=b,this._oldText=this.element.val(),this.trigger("change"));this._typing=!1},_keydown:function(b){var c=this.dateView,e=this.element.val();c.popup.visible()||b.keyCode!=F.ENTER||e===this._oldText?(b=c.move(b),this._updateARIA(c._current),b||(this._typing=!0)):this._change(e)},_icon:function(){var e=this.element,c;c=e.next("span.k-select");c[0]||(c=b('\x3cspan unselectable\x3d"on" class\x3d"k-select"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-calendar"\x3eselect\x3c/span\x3e\x3c/span\x3e').insertAfter(e));this._dateIcon=c.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(b,c){var e=this.options;if(c===k)return e[b];if(c=y(c,e.parseFormats,e.culture))e[b]=new n(+c),this.dateView[b](c)},_update:function(b){var c=this.options,f=c.min,a=c.max,d=this._value,g=y(b,c.parseFormats,c.culture),l=null===g&&null===d||g instanceof Date&&d instanceof Date;c.disableDates(g)&&(g=null,this._old||(b=null));if(+g===+d&&l)return c=u.toString(g,c.format,c.culture),c!==b&&this.element.val(null===g?b:c),g;null!==g&&e(g,f)?g=m(g,f,a):t(g,f,a)||(g=null);this._value=g;this.dateView.value(g);this.element.val(g?u.toString(g,c.format,c.culture):b);this._updateARIA(g);return g},_wrapper:function(){var e=this.element,c;c=e.parents(".k-datepicker");c[0]||(c=e.wrap("\x3cspan /\x3e").parent().addClass("k-picker-wrap k-state-default"),c=c.wrap("\x3cspan /\x3e").parent());c[0].style.cssText=e[0].style.cssText;e.css({width:"100%",height:e[0].style.height});this.wrapper=c.addClass("k-widget k-datepicker k-header").addClass(e[0].className);this._inputWrapper=b(c[0].firstChild)},_reset:function(){var e=this,c=e.element,f=c.attr("form"),f=f?b("#"+f):c.closest("form");f[0]&&(e._resetHandler=function(){e.value(c[0].defaultValue);e.max(e._initialOptions.max);e.min(e._initialOptions.min)},e._form=f.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=A(this.options.ARIATemplate)},_updateARIA:function(b){var c,e=this.dateView.calendar;this.element.removeAttr("aria-activedescendant");e&&(c=e._cell,c.attr("aria-label",this._ariaTemplate({current:b||e.current()})),this.element.attr("aria-activedescendant",c.attr("id")))}});z.plugin(f)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.datetimepicker",["kendo.datepicker","kendo.timepicker"],b)})(function(){(function(b,k){function q(a){var d=new Date(2100,0,1);d.setMinutes(-a);return d}function B(a){a.preventDefault()}function u(a){var d=z.getCulture(a.culture).calendars.standard.patterns,c=!a.parseFormats.length;a.format=A(a.format||d.g);a.timeFormat=d=A(a.timeFormat||d.t);z.DateView.normalize(a);c&&a.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss");-1===b.inArray(d,a.parseFormats)&&a.parseFormats.splice(1,0,d)}var z=window.kendo,C=z.TimeView,y=z.parseDate,F=z._activeElement,A=z._extractFormat,E=z.calendar,x=E.isInRange,t=E.restrictValue,m=E.isEqualDatePart,e=C.getMilliseconds,E=z.ui,h=E.Widget,p=Date,n=new p(1800,0,1),D=new p(2099,11,31),f={view:"date"},l={view:"time"},c=b.extend,w=h.extend({init:function(a,d){h.fn.init.call(this,a,d);a=this.element;d=this.options;d.disableDates=z.calendar.disabled(d.disableDates);d.min=y(a.attr("min"))||y(d.min);d.max=y(a.attr("max"))||y(d.max);u(d);this._initialOptions=c({},d);this._wrapper();this._views();this._icons();this._reset();this._template();try{a[0].setAttribute("type","text")}catch(g){a[0].type="text"}a.addClass("k-input").attr({role:"combobox","aria-expanded":!1});this._midnight=this._calculateMidnight(d.min,d.max);a.is("[disabled]")||b(this.element).parents("fieldset").is(":disabled")?this.enable(!1):this.readonly(a.is("[readonly]"));this._old=this._update(d.value||this.element.val());this._oldText=a.val();z.notify(this)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new p(n),max:new p(D),interval:30,height:200,footer:"",start:"month",depth:"month",animation:{},month:{},ARIATemplate:'Current focused date is #\x3dkendo.toString(data.current, "d")#'},events:["open","close","change"],setOptions:function(a){var d=this._value,b,e,f;h.fn.setOptions.call(this,a);a=this.options;a.min=b=y(a.min);a.max=e=y(a.max);u(a);this._midnight=this._calculateMidnight(a.min,a.max);f=a.value||this._value||this.dateView._current;b&&!m(b,f)&&(b=new p(n));e&&!m(e,f)&&(e=new p(D));this.dateView.setOptions(a);this.timeView.setOptions(c({},a,{format:a.timeFormat,min:b,max:e}));d&&(this.element.val(z.toString(d,a.format,a.culture)),this._updateARIA(d))},_editable:function(a){var d=this,c=d.element.off(".kendoDateTimePicker"),e=d._dateIcon.off(".kendoDateTimePicker"),f=d._timeIcon.off(".kendoDateTimePicker"),l=d._inputWrapper.off(".kendoDateTimePicker"),h=a.readonly;a=a.disable;h||a?(l.addClass(a?"k-state-disabled":"k-state-default").removeClass(a?"k-state-default":"k-state-disabled"),c.attr("disabled",a).attr("readonly",h).attr("aria-disabled",a).attr("aria-readonly",h)):(l.addClass("k-state-default").removeClass("k-state-disabled").on("mouseenter.kendoDateTimePicker mouseleave.kendoDateTimePicker",d._toggleHover),c.removeAttr("disabled").removeAttr("readonly").attr("aria-disabled",!1).attr("aria-readonly",!1).on("keydown.kendoDateTimePicker",b.proxy(d._keydown,d)).on("focus.kendoDateTimePicker",function(){d._inputWrapper.addClass("k-state-focused")}).on("focusout.kendoDateTimePicker",function(){d._inputWrapper.removeClass("k-state-focused");c.val()!==d._oldText&&d._change(c.val());d.close("date");d.close("time")}),e.on("mousedown.kendoDateTimePicker",B).on("click.kendoDateTimePicker",function(){d.toggle("date");z.support.touch||c[0]===F()||c.focus()}),f.on("mousedown.kendoDateTimePicker",B).on("click.kendoDateTimePicker",function(){d.toggle("time");z.support.touch||c[0]===F()||c.focus()}))},readonly:function(a){this._editable({readonly:a===k?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a===k||a)})},destroy:function(){h.fn.destroy.call(this);this.dateView.destroy();this.timeView.destroy();this.element.off(".kendoDateTimePicker");this._dateIcon.off(".kendoDateTimePicker");this._timeIcon.off(".kendoDateTimePicker");this._inputWrapper.off(".kendoDateTimePicker");this._form&&this._form.off("reset",this._resetHandler)},close:function(a){"time"!==a&&(a="date");this[a+"View"].close()},open:function(a){"time"!==a&&(a="date");this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var d="timeView";"time"!==a?a="date":d="dateView";this[a+"View"].toggle();this[d].close()},value:function(a){if(a===k)return this._value;this._old=this._update(a);null===this._old&&this.element.val("");this._oldText=this.element.val()},_change:function(a){var d=this.element.val(),b;a=this._update(a);var c=(b=+this._old!=+a)&&!this._typing,d=d!==this.element.val();(c||d)&&this.element.trigger("change");b&&(this._old=a,this._oldText=this.element.val(),this.trigger("change"));this._typing=!1},_option:function(a,d){var b=this.options,c=this.timeView,e=c.options,f=this._value||this._old,l,h;if(d===k)return b[a];if(d=y(d,b.parseFormats,b.culture)){b.min.getTime()===b.max.getTime()&&(e.dates=[]);b[a]=new p(d.getTime());this.dateView[a](d);this._midnight=this._calculateMidnight(b.min,b.max);f&&(l=m(b.min,f),h=m(b.max,f));if(l||h){if(e[a]=d,l&&!h&&(e.max=q(b.interval)),h){if(this._midnight){c.dataBind([D]);return}l||(e.min=n)}}else e.max=D,e.min=n;c.bind()}},_toggleHover:function(a){b(a.currentTarget).toggleClass("k-state-hover","mouseenter"===a.type)},_update:function(a){var d=this.options,c=d.min,e=d.max,f=d.dates,l=this.timeView,h=this._value,w=y(a,d.parseFormats,d.culture),p=null===w&&null===h||w instanceof Date&&h instanceof Date,r,k;d.disableDates&&d.disableDates(w)&&(w=null,this._old||(a=null));if(+w===+h&&p)return d=z.toString(w,d.format,d.culture),d!==a&&(this.element.val(null===w?a:d),a instanceof String&&this.element.trigger("change")),w;null!==w&&m(w,c)?w=t(w,c,e):x(w,c,e)||(w=null);this._value=w;l.value(w);this.dateView.value(w);w&&(p=this._old,h=l.options,f[0]&&(f=b.grep(f,function(a){return m(w,a)}),f[0]&&(l.dataBind(f),k=!0)),k||(m(w,c)&&(h.min=c,h.max=q(d.interval),r=!0),m(w,e)&&(this._midnight?(l.dataBind([D]),k=!0):(h.max=e,r||(h.min=n),r=!0))),!k&&(!p&&r||p&&!m(p,w))&&(r||(h.max=D,h.min=n),l.bind()));this.element.val(w?z.toString(w,d.format,d.culture):a);this._updateARIA(w);return w},_keydown:function(a){var d=this.dateView,b=this.timeView,c=this.element.val(),e=d.popup.visible();a.altKey&&a.keyCode===z.keys.DOWN?this.toggle(e?"time":"date"):e?(d.move(a),this._updateARIA(d._current)):b.popup.visible()?b.move(a):a.keyCode===z.keys.ENTER&&c!==this._oldText?this._change(c):this._typing=!0},_views:function(){var a=this,d=a.element,b=a.options,e=d.attr("id"),h,m,w,t,k,r;a.dateView=h=new z.DateView(c({},b,{id:e,anchor:a.wrapper,change:function(){var d=h.calendar.value(),c=+d,g=+b.min,e=+b.max;if(c===g||c===e)c=new p(+a._value),c.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()),x(c,g,e)&&(d=c);a._value&&(c=z.date.setHours(new Date(d),a._value),x(c,g,e)&&(d=c));a._change(d);a.close("date")},close:function(b){a.trigger("close",f)?b.preventDefault():(d.attr("aria-expanded",!1),w.attr("aria-hidden",!0),m.popup.visible()||d.removeAttr("aria-owns"))},open:function(c){a.trigger("open",f)?c.preventDefault():(d.val()!==a._oldText&&(r=y(d.val(),b.parseFormats,b.culture),a.dateView[r?"current":"value"](r)),w.attr("aria-hidden",!1),d.attr("aria-expanded",!0).attr("aria-owns",h._dateViewID),a._updateARIA(r))}}));w=h.div;k=b.min.getTime();a.timeView=m=new C({id:e,value:b.value,anchor:a.wrapper,animation:b.animation,format:b.timeFormat,culture:b.culture,height:b.height,interval:b.interval,min:new p(n),max:new p(D),dates:k===b.max.getTime()?[new Date(k)]:[],parseFormats:b.parseFormats,change:function(c,g){c=m._parse(c);c<b.min?(c=new p(+b.min),m.options.min=c):c>b.max&&(c=new p(+b.max),m.options.max=c);g?(a._timeSelected=!0,a._change(c)):(d.val(z.toString(c,b.format,b.culture)),h.value(c),a._updateARIA(c))},close:function(b){a.trigger("close",l)?b.preventDefault():(t.attr("aria-hidden",!0),d.attr("aria-expanded",!1),h.popup.visible()||d.removeAttr("aria-owns"))},open:function(c){m._adjustListWidth();a.trigger("open",l)?c.preventDefault():(d.val()!==a._oldText&&(r=y(d.val(),b.parseFormats,b.culture),a.timeView.value(r)),t.attr("aria-hidden",!1),d.attr("aria-expanded",!0).attr("aria-owns",m._timeViewID),m.options.active(m.current()))},active:function(a){d.removeAttr("aria-activedescendant");a&&d.attr("aria-activedescendant",m._optionID)}});t=m.ul},_icons:function(){var a=this.element,d;d=a.next("span.k-select");d[0]||(d=b('\x3cspan unselectable\x3d"on" class\x3d"k-select"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-calendar"\x3eselect\x3c/span\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-clock"\x3eselect\x3c/span\x3e\x3c/span\x3e').insertAfter(a));d=d.children();this._dateIcon=d.eq(0).attr({role:"button","aria-controls":this.dateView._dateViewID});this._timeIcon=d.eq(1).attr({role:"button","aria-controls":this.timeView._timeViewID})},_wrapper:function(){var a=this.element,d;d=a.parents(".k-datetimepicker");d[0]||(d=a.wrap("\x3cspan/\x3e").parent().addClass("k-picker-wrap k-state-default"),d=d.wrap("\x3cspan/\x3e").parent());d[0].style.cssText=a[0].style.cssText;a.css({width:"100%",height:a[0].style.height});this.wrapper=d.addClass("k-widget k-datetimepicker k-header").addClass(a[0].className);this._inputWrapper=b(d[0].firstChild)},_reset:function(){var a=this,d=a.element,c=d.attr("form"),c=c?b("#"+c):d.closest("form");c[0]&&(a._resetHandler=function(){a.value(d[0].defaultValue);a.max(a._initialOptions.max);a.min(a._initialOptions.min)},a._form=c.on("reset",a._resetHandler))},_template:function(){this._ariaTemplate=z.template(this.options.ARIATemplate)},_calculateMidnight:function(a,d){return 0===e(a)+e(d)},_updateARIA:function(a){var d,b=this.dateView.calendar;this.element.removeAttr("aria-activedescendant");b&&(d=b._cell,d.attr("aria-label",this._ariaTemplate({current:a||b.current()})),this.element.attr("aria-activedescendant",d.attr("id")))}});E.plugin(w)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("util/undoredostack",["kendo.core"],b)})(function(){(function(b){var k=b.Observable.extend({init:function(k){b.Observable.fn.init.call(this,k);this.clear()},events:["undo","redo"],push:function(b){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(b)-1},undo:function(){if(this.canUndo()){var b=this.stack[this.currentCommandIndex--];b.undo();this.trigger("undo",{command:b})}},redo:function(){if(this.canRedo()){var b=this.stack[++this.currentCommandIndex];b.redo();this.trigger("redo",{command:b})}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return 0<=this.currentCommandIndex},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});b.deepExtend(b,{util:{UndoRedoStack:k}})})(kendo)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/main",["util/undoredostack","kendo.combobox","kendo.dropdownlist","kendo.window","kendo.colorpicker"],b)})(function(){(function(b,k){var q=window.kendo,B=q.Class,u=q.ui.Widget,z=q.support.mobileOS,C=q.support.browser,y=b.extend,F=b.proxy,A=q.deepExtend,E=q.keys,x=B.extend({init:function(b){this.options=b},getHtml:function(){var b=this.options;return q.template(b.template,{useWithBlock:!1})(b)}}),t={editorWrapperTemplate:'\x3ctable cellspacing\x3d"4" cellpadding\x3d"0" class\x3d"k-widget k-editor k-header" role\x3d"presentation"\x3e\x3ctbody\x3e\x3ctr role\x3d"presentation"\x3e\x3ctd class\x3d"k-editor-toolbar-wrap" role\x3d"presentation"\x3e\x3cul class\x3d"k-editor-toolbar" role\x3d"toolbar" /\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"k-editable-area" /\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e',buttonTemplate:'\x3ca href\x3d"" role\x3d"button" class\x3d"k-tool"#\x3d data.popup ? " data-popup" : "" # unselectable\x3d"on" title\x3d"#\x3d data.title #"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-tool-icon #\x3d data.cssClass #"\x3e\x3c/span\x3e\x3cspan class\x3d"k-tool-text"\x3e#\x3d data.title #\x3c/span\x3e\x3c/a\x3e',colorPickerTemplate:'\x3cdiv class\x3d"k-colorpicker #\x3d data.cssClass #" /\x3e',comboBoxTemplate:'\x3cselect title\x3d"#\x3d data.title #" class\x3d"#\x3d data.cssClass #" /\x3e',dropDownListTemplate:'\x3cspan class\x3d"k-editor-dropdown"\x3e\x3cselect title\x3d"#\x3d data.title #" class\x3d"#\x3d data.cssClass #" /\x3e\x3c/span\x3e',separatorTemplate:'\x3cspan class\x3d"k-separator" /\x3e',overflowAnchorTemplate:'\x3ca href\x3d"" role\x3d"button" class\x3d"k-tool k-overflow-anchor" data-popup unselectable\x3d"on"\x3e\x3cspan unselectable\x3d"on" class\x3d"k-icon k-i-more"\x3e\x3c/span\x3e\x3c/a\x3e',formatByName:function(e,h){for(var f=0;f<h.length;f++)if(0<=b.inArray(e,h[f].tags))return h[f]},registerTool:function(b,h){var f=h.options;f&&f.template&&(f.template.options.cssClass="k-"+b);h.name||(h.options.name=b,h.name=b.toLowerCase());e.defaultTools[b]=h},registerFormat:function(b,h){e.fn.options.formats[b]=h}},m=!z||z.ios&&500<=z.flatVersion||!z.ios&&"undefined"!=typeof document.documentElement.contentEditable,e=u.extend({init:function(e,h){var f=this,l;l=q.ui.editor;var c,n,a,d;c=l.Dom;m&&(u.fn.init.call(f,e,h),f.options=A({},f.options,h),f.options.tools=f.options.tools.slice(),e=f.element,d=e[0],a=c.name(d),this._registerHandler(e.closest("form"),"submit",F(f.update,f,k)),n=y({},f.options),n.editor=f,"textarea"==a?(f._wrapTextarea(),c=f.wrapper.find(".k-editor-toolbar"),d.id&&c.attr("aria-controls",d.id)):(f.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),n.popup=!0,c=b('\x3cul class\x3d"k-editor-toolbar" role\x3d"toolbar" /\x3e').insertBefore(e)),f.toolbar=new l.Toolbar(c[0],n),f.toolbar.bindTo(f),"textarea"==a&&setTimeout(function(){var a=f.wrapper[0].style.height,d=parseInt(a,10),b=f.wrapper.height();0<a.indexOf("px")&&!isNaN(d)&&b>d&&f.wrapper.height(d-(b-d))}),f._resizable(),f._initializeContentElement(f),f.keyboard=new l.Keyboard([new l.BackspaceHandler(f),new l.TypingHandler(f),new l.SystemHandler(f)]),f.clipboard=new l.Clipboard(this),f.undoRedoStack=new q.util.UndoRedoStack,h&&h.value?l=h.value:f.textarea?(l=d.value,f.options.encoded&&b.trim(d.defaultValue).length&&(l=d.defaultValue),l=l.replace(/[\r\n\v\f\t ]+/gi," ")):l=d.innerHTML,f.value(l||q.ui.editor.emptyElementContent),this._registerHandler(document,{mousedown:function(){f._endTyping()},mouseup:function(){f._mouseup()}}),f.toolbar.resize(),q.notify(f))},setOptions:function(b){u.fn.setOptions.call(this,b);b.tools&&this.toolbar.bindTo(this)},_endTyping:function(){var b=this.keyboard;try{b.isTypingInProgress()&&(b.endTyping(!0),this.saveSelection())}catch(D){}},_selectionChange:function(){C.msie||q.ui.editor.Dom.ensureTrailingBreaks(this.body);this._selectionStarted=!1;this.saveSelection();this.trigger("select",{})},_resizable:function(){var e=this.options.resizable;(b.isPlainObject(e)?e.content===k||!0===e.content:e)&&this.textarea&&(b("\x3cdiv class\x3d'k-resize-handle'\x3e\x3cspan class\x3d'k-icon k-resize-se' /\x3e\x3c/div\x3e").insertAfter(this.textarea),this.wrapper.kendoResizable(y({},this.options.resizable,{start:function(e){e=this.editor=b(e.currentTarget).closest(".k-editor");this.initialSize=e.height();e.find("td:last").append("\x3cdiv class\x3d'k-overlay' /\x3e")},resize:function(b){b=this.initialSize+b.y.initialDelta;b=Math.min(this.options.max||Infinity,Math.max(this.options.min||0,b));this.editor.height(b)},resizeend:function(){this.editor.find(".k-overlay").remove();this.editor=null}})))},_wrapTextarea:function(){var e=this.element,h=e[0].style.width,f=e[0].style.height,h=b(t.editorWrapperTemplate).insertBefore(e).width(h).height(f),f=h.find(".k-editable-area");e.attr("autocomplete","off").appendTo(f).addClass("k-content k-raw-content").css("display","none");this.textarea=e;this.wrapper=h},_createContentElement:function(e){var h=this,f,l,c,m=h.textarea,a=(f=h.options.domain)||document.domain,d="";l='javascript:""';if(f||a!=location.hostname)d='\x3cscript\x3edocument.domain\x3d"'+a+'"\x3c/script\x3e',l="javascript:document.write('"+d+"')";m.hide();f=b("\x3ciframe /\x3e",{title:h.options.messages.editAreaTitle,frameBorder:"0"})[0];b(f).css("display","").addClass("k-content").attr("tabindex",m[0].tabIndex).insertBefore(m);f.src=l;l=f.contentWindow||f;c=l.document||f.contentDocument;b(f).one("load",function(){h.toolbar.decorateFrom(c.body)});c.open();c.write("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cmeta charset\x3d'utf-8' /\x3e\x3cstyle\x3ehtml,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:1px .2em 0;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(q.support.isRtl(m)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}k\\:script{display:none;}\x3c/style\x3e"+d+"\x3cscript\x3e(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');\x3c/script\x3e"+b.map(e,function(a){return"\x3clink rel\x3d'stylesheet' href\x3d'"+a+"'\x3e"}).join("")+"\x3c/head\x3e\x3cbody autocorrect\x3d'off' contenteditable\x3d'true'\x3e\x3c/body\x3e\x3c/html\x3e");c.close();return l},_blur:function(){var b=this.textarea,e=b?b.val():this._oldValue,f=this.options.encoded?this.encodedValue():this.value();this.update();b&&b.trigger("blur");f!=e&&this.trigger("change")},_spellCorrect:function(b){var e,f=!1;this._registerHandler(b.body,{contextmenu:function(){b.one("select",function(){e=null});b._spellCorrectTimeout=setTimeout(function(){e=new q.ui.editor.RestorePoint(b.getRange());f=!1},10)},input:function(){e&&(q.support.browser.mozilla&&!f?f=!0:q.ui.editor._finishUpdate(b,e))}})},_registerHandler:function(e,h,f){e=b(e);this._handlers||(this._handlers=[]);if(e.length)if(b.isPlainObject(h))for(var l in h)h.hasOwnProperty(l)&&this._registerHandler(e,l,h[l]);else h=h.split(" ").join(".kendoEditor ")+".kendoEditor",this._handlers.push({element:e,type:h,handler:f}),e.on(h,f)},_deregisterHandlers:function(){for(var b=this._handlers,e=0;e<b.length;e++){var f=b[e];f.element.off(f.type,f.handler)}this._handlers=[]},_initializeContentElement:function(){var e=this,h,f;e.textarea?(e.window=e._createContentElement(e.options.stylesheets),h=e.document=e.window.contentDocument||e.window.document,e.body=h.body,f=e.window,this._registerHandler(h,"mouseup",F(this._mouseup,this))):(e.window=window,h=e.document=document,e.body=e.element[0],f=e.body,e.toolbar.decorateFrom(e.body));this._registerHandler(f,"blur",F(this._blur,this));try{h.execCommand("enableInlineTableEditing",null,!1)}catch(l){}q.support.touch&&this._registerHandler(h,{selectionchange:F(this._selectionChange,this),keydown:function(){q._activeElement()!=h.body&&e.window.focus()}});this._spellCorrect(e);this._registerHandler(e.body,{dragstart:function(b){b.preventDefault()},keydown:function(b){var c;if((b.keyCode===E.BACKSPACE||b.keyCode===E.DELETE)&&"true"!==e.body.getAttribute("contenteditable"))return!1;if(b.keyCode===E.F10)setTimeout(F(e.toolbar.focus,e.toolbar),100),b.preventDefault();else{if(b.keyCode==E.LEFT||b.keyCode==E.RIGHT){c=e.getRange();var f=b.keyCode==E.LEFT,a=c[f?"startContainer":"endContainer"],d=c[f?"startOffset":"endOffset"],g=f?-1:1;f&&--d;0<d+g&&3==a.nodeType&&"\ufeff"==a.nodeValue[d]&&(c.setStart(a,d+g),c.collapse(!0),e.selectRange(c))}if(c=e.keyboard.toolFromShortcut(e.toolbar.tools,b))return b.preventDefault(),/^(undo|redo)$/.test(c)||e.keyboard.endTyping(!0),e.trigger("keydown",b),e.exec(c),!1;e.keyboard.clearTimeout();e.keyboard.keydown(b)}},keyup:function(f){(-1<b.inArray(f.keyCode,[8,9,33,34,35,36,37,38,39,40,40,45,46])||65==f.keyCode&&f.ctrlKey&&!f.altKey&&!f.shiftKey)&&e._selectionChange();e.keyboard.keyup(f)},mousedown:function(f){e._selectionStarted=!0;if(!C.gecko){var c=b(f.target);(2==f.which||1==f.which&&f.ctrlKey)&&c.is("a[href]")&&window.open(c.attr("href"),"_new")}},click:function(b){var c;"img"===q.ui.editor.Dom.name(b.target)&&(c=e.createRange(),c.selectNode(b.target),e.selectRange(c))},"cut copy paste":function(b){e.clipboard["on"+b.type](b)},focusin:function(){e.body.hasAttribute("contenteditable")&&(b(this).addClass("k-state-active"),e.toolbar.show())},focusout:function(){setTimeout(function(){var f=q._activeElement(),c=e.body,h=e.toolbar;f==c||b.contains(c,f)||b(f).is(".k-editortoolbar-dragHandle")||h.focused()||(b(c).removeClass("k-state-active"),h.hide())},10)}})},_mouseup:function(){var b=this;b._selectionStarted&&setTimeout(function(){b._selectionChange()},1)},refresh:function(){this.textarea&&(this.textarea.val(this.value()),this.wrapper.find("iframe").remove(),this._initializeContentElement(this),this.value(this.textarea.val()))},events:"select change execute error paste keydown keyup".split(" "),options:{name:"Editor",messages:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogCancel:"Cancel",createTable:"Create table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},formats:{},encoded:!0,domain:null,resizable:!1,serialization:{entities:!0,semantic:!0,scripts:!1},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],["bold","italic","underline"],["justifyLeft","justifyCenter","justifyRight"],["insertUnorderedList","insertOrderedList"],["indent","outdent"],["createLink","unlink"],["insertImage"],"createTable addColumnLeft addColumnRight addRowAbove addRowBelow deleteRow deleteColumn".split(" "))},destroy:function(){u.fn.destroy.call(this);this._deregisterHandlers();clearTimeout(this._spellCorrectTimeout);this._focusOutside();this.toolbar.destroy();q.destroy(this.wrapper)},_focusOutside:function(){q.support.browser.msie&&this.textarea&&b("\x3cinput style\x3d'position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' /\x3e").appendTo(document.body).focus().blur().remove()},state:function(b){b=(b=e.defaultTools[b])&&(b.options.finder||b.finder);var h=q.ui.editor.RangeUtils,f;return b?(f=this.getRange(),h=h.textNodes(f),!h.length&&f.collapsed&&(h=[f.startContainer]),b.getFormat?b.getFormat(h):b.isFormatted(h)):!1},value:function(b){var e=this.body,f=q.ui.editor,l=f.Serializer.domToXhtml(e,this.options.serialization);if(b===k)return l;b!=l&&(f.Serializer.htmlToDom(b,e),C.msie||q.ui.editor.Dom.ensureTrailingBreaks(this.body),this.selectionRestorePoint=null,this.update(),this.toolbar.refreshTools())},saveSelection:function(e){e=e||this.getRange();var h=e.commonAncestorContainer,f=this.body;if(h==f||b.contains(f,h))this.selectionRestorePoint=new q.ui.editor.RestorePoint(e)},_focusBody:function(){var b=this.body,e=this.wrapper&&this.wrapper.find("iframe")[0],f=this.document.documentElement,l=q._activeElement();l!=b&&l!=e&&(e=f.scrollTop,b.focus(),f.scrollTop=e)},restoreSelection:function(){this._focusBody();this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(b){b=b||this.options.encoded?this.encodedValue():this.value();this.textarea?this.textarea.val(b):this._oldValue=b},encodedValue:function(){return q.ui.editor.Dom.encode(this.value())},createRange:function(b){return q.ui.editor.RangeUtils.createRange(b||this.document)},getSelection:function(){return q.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(b){this._focusBody();var e=this.getSelection();e.removeAllRanges();e.addRange(b);this.saveSelection(b)},getRange:function(){var b=this.getSelection(),b=b&&0<b.rangeCount?b.getRangeAt(0):this.createRange(),e=this.document;b.startContainer!=e||b.endContainer!=e||b.startOffset||b.endOffset||(b.setStart(this.body,0),b.collapse(!0));return b},selectedHtml:function(){return q.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,h){this.focus();var f=new q.ui.editor.InsertHtmlCommand(b.extend({range:this.getRange(),html:e},h));f.editor=this;f.exec()},exec:function(b,h){var f=null,l,c;if(!b)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if("true"!==this.body.getAttribute("contenteditable")&&"print"!==b)return!1;b=b.toLowerCase();this.keyboard.isTypingInProgress()||this.restoreSelection();c=this.toolbar.toolById(b);if(!c)for(l in e.defaultTools)if(l.toLowerCase()==b){c=e.defaultTools[l];break}if(c&&(l=this.getRange(),c.command&&(f=c.command(y({range:l},h))),c=this.trigger("execute",{name:b,command:f}),!c)){if(/^(undo|redo)$/i.test(b))this.undoRedoStack[b]();else if(f&&(f.managesUndoRedo||this.undoRedoStack.push(f),f.editor=this,f.exec(),f.async)){f.change=F(this._selectionChange,this);return}this._selectionChange()}}});e.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}};q.ui.plugin(e);var h=B.extend({init:function(b){this.options=b},initialize:function(b,e){b.attr({unselectable:"on",title:e.title});b.children(".k-tool-text").html(e.title)},command:function(b){return new this.options.command(b)},update:b.noop});h.exec=function(b,e,f){b.exec(e,{value:f})};B=h.extend({init:function(b){h.fn.init.call(this,b)},command:function(b){return new q.ui.editor.FormatCommand(y(b,{formatter:this.options.formatter}))},update:function(b,e){var f=this.options.finder.isFormatted(e);b.toggleClass("k-state-selected",f);b.attr("aria-pressed",f)}});t.registerTool("separator",new h({template:new x({template:t.separatorTemplate})}));var z=C.msie&&9>C.version?"\ufeff":"",p='\x3cbr class\x3d"k-br" /\x3e';C.msie&&(10>C.version?p="\ufeff":11>C.version&&(p=" "));y(q.ui,{editor:{ToolTemplate:x,EditorUtils:t,Tool:h,FormatTool:B,_bomFill:z,emptyElementContent:p}});q.PDFMixin&&(q.PDFMixin.extend(e.prototype),e.prototype._drawPDF=function(){return q.drawing.drawDOM(this.body,this.options.pdf)},e.prototype.saveAsPDF=function(){var e=new b.Deferred,h=e.promise();if(!this.trigger("pdfExport",{promise:h})){var f=this.options.pdf,l=f.paperSize;this._drawPDF(e).then(function(b){f.paperSize="auto";return q.drawing.exportPDF(b,f)}).done(function(b){q.saveAs({dataURI:b,fileName:f.fileName,proxyURL:f.proxyURL,forceProxy:f.forceProxy});f.paperSize=l;e.resolve()}).fail(function(b){e.reject(b)});return h}})})(window.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/dom",["editor/main"],b)})(function(){(function(b){function k(a){var d={},b,c;b=0;for(c=a.length;b<c;b++)d[a[b]]=!0;return d}var q=window.kendo,B=b.map,u=b.extend,z=q.support.browser,C=k("area base basefont br col frame hr img input isindex link meta param embed".split(" ")),y="div p h1 h2 h3 h4 h5 h6 address applet blockquote button center dd dir dl dt fieldset form frameset hr iframe isindex map menu noframes noscript object pre script table tbody td tfoot th thead tr header article nav footer section aside main figure figcaption".split(" "),F=y.concat(["ul","ol","li"]),A=k(F),E="span em a abbr acronym applet b basefont bdo big br button cite code del dfn font i iframe img input ins kbd label map object q s samp script select small strike strong sub sup textarea tt u var data time mark ruby".split(" "),x=k(E),t=k("checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected".split(" ")),m=function(a){1==a.nodeType&&a.normalize()};z.msie&&8<=z.version&&(m=function(a){if(1==a.nodeType&&a.firstChild)for(var b=a=a.firstChild;;){b=b.nextSibling;if(!b)break;3==b.nodeType&&3==a.nodeType&&(b.nodeValue=a.nodeValue+b.nodeValue,d.remove(a));a=b}});var e=/^\s+$/,h=/^[\n\r\t]+$/,p=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,n=/\ufeff/g,D=/^(\s+|\ufeff)$/,f,l="color padding-left padding-right padding-top padding-bottom background-color background-attachment background-image background-position background-repeat border-top-style border-top-width border-top-color border-bottom-style border-bottom-width border-bottom-color border-left-style border-left-width border-left-color border-right-style border-right-width border-right-color font-family font-size font-style font-variant font-weight line-height".split(" "),c=/[<>\&]/g,w=/[\u00A0-\u2666<>\&]/g,a={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},d={block:A,inline:x,findNodeIndex:function(a,d){var b=0;if(!a)return-1;for(;;){a=a.previousSibling;if(!a)break;d&&3==a.nodeType||b++}return b},isDataNode:function(a){return a&&null!==a.nodeValue&&null!==a.data},isAncestorOf:function(a,c){try{return!d.isDataNode(a)&&(b.contains(a,d.isDataNode(c)?c.parentNode:c)||c.parentNode==a)}catch(P){return!1}},isAncestorOrSelf:function(a,b){return d.isAncestorOf(a,b)||a==b},findClosestAncestor:function(a,b){if(d.isAncestorOf(a,b))for(;b&&b.parentNode!=a;)b=b.parentNode;return b},getNodeLength:function(a){return d.isDataNode(a)?a.length:a.childNodes.length},splitDataNode:function(a,b){for(var c=a.cloneNode(!1),e="",g=a.nextSibling,f;g&&3==g.nodeType&&g.nodeValue;)e+=g.nodeValue,f=g,g=g.nextSibling,d.remove(f);a.deleteData(b,a.length);c.deleteData(0,b);c.nodeValue+=e;d.insertAfter(c,a)},attrEquals:function(a,b){for(var c in b){var e=a[c];"float"==c&&(e=a[q.support.cssFloat?"cssFloat":"styleFloat"]);if("object"==typeof e){if(!d.attrEquals(e,b[c]))return!1}else if(e!=b[c])return!1}return!0},blockParentOrBody:function(a){return d.parentOfType(a,F)||a.ownerDocument.body},blockParents:function(a){var c=[],e,g;e=0;for(g=a.length;e<g;e++){var f=d.parentOfType(a[e],d.blockElements);f&&0>b.inArray(f,c)&&c.push(f)}return c},windowFromDocument:function(a){return a.defaultView||a.parentWindow},normalize:m,blockElements:F,nonListBlockElements:y,inlineElements:E,empty:C,fillAttrs:t,toHex:function(a){var d=p.exec(a);return d?"#"+B(d.slice(1),function(a){a=parseInt(a,10).toString(16);return 1<a.length?a:"0"+a}).join(""):a},encode:function(d,b){return d.replace(!b||b.entities?w:c,function(d){var b=d.charCodeAt(0);return(b=a[b])?"\x26"+b+";":d})},stripBom:function(a){return(a||"").replace(n,"")},insignificant:function(a){var b=a.attributes;return"k-marker"==a.className||d.is(a,"br")&&("k-br"==a.className||b._moz_dirty||b._moz_editor_bogus_node)},significantNodes:function(a){return b.grep(a,function(a){var b=d.name(a);return"br"==b||d.insignificant(a)||3==a.nodeType&&D.test(a.nodeValue)||1==a.nodeType&&!C[b]&&d.emptyNode(a)?!1:!0})},emptyNode:function(a){return 1==a.nodeType&&!d.significantNodes(a.childNodes).length},name:function(a){return a.nodeName.toLowerCase()},significantChildNodes:function(a){return b.grep(a.childNodes,function(a){return 3!=a.nodeType||!d.isWhitespace(a)})},lastTextNode:function(a){var b=null;if(3==a.nodeType)return a;for(a=a.lastChild;a&&!(b=d.lastTextNode(a));a=a.previousSibling);return b},is:function(a,b){return d.name(a)==b},isMarker:function(a){return"k-marker"==a.className},isWhitespace:function(a){return e.test(a.nodeValue)},isEmptyspace:function(a){return h.test(a.nodeValue)},isBlock:function(a){return A[d.name(a)]},isEmpty:function(a){return C[d.name(a)]},isInline:function(a){return x[d.name(a)]},scrollContainer:function(a){a=d.windowFromDocument(a);a=(a.contentWindow||a).document||a.ownerDocument||a;return a=q.support.browser.webkit||"BackCompat"==a.compatMode?a.body:a.documentElement},scrollTo:function(a){var c=b(d.isDataNode(a)?a.parentNode:a),e=d.windowFromDocument(a.ownerDocument).innerHeight,g,f=d.scrollContainer(a.ownerDocument);a=c.offset().top;(g=c[0].offsetHeight)||(g=parseInt(c.css("line-height"),10)||Math.ceil(1.2*parseInt(c.css("font-size"),10))||15);g+a>f.scrollTop+e&&(f.scrollTop=g+a-e)},persistScrollTop:function(a){f=d.scrollContainer(a).scrollTop},restoreScrollTop:function(a){d.scrollContainer(a).scrollTop=f},insertAt:function(a,d,b){a.insertBefore(d,a.childNodes[b]||null)},insertBefore:function(a,d){return d.parentNode?d.parentNode.insertBefore(a,d):d},insertAfter:function(a,d){return d.parentNode.insertBefore(a,d.nextSibling)},remove:function(a){a.parentNode.removeChild(a)},removeTextSiblings:function(a){for(var d=a.parentNode;a.nextSibling&&3==a.nextSibling.nodeType;)d.removeChild(a.nextSibling);for(;a.previousSibling&&3==a.previousSibling.nodeType;)d.removeChild(a.previousSibling)},trim:function(a){for(var b=a.childNodes.length-1;0<=b;b--){var c=a.childNodes[b];d.isDataNode(c)?(d.stripBom(c.nodeValue).length||d.remove(c),d.isWhitespace(c)&&d.insertBefore(c,a)):"k-marker"!=c.className&&(d.trim(c),c.childNodes.length||d.isEmpty(c)||d.remove(c))}return a},closest:function(a,b){for(;a&&d.name(a)!=b;)a=a.parentNode;return a},sibling:function(a,d){do a=a[d];while(a&&1!=a.nodeType);return a},next:function(a){return d.sibling(a,"nextSibling")},prev:function(a){return d.sibling(a,"previousSibling")},parentOfType:function(a,b){do a=a.parentNode;while(a&&!d.ofType(a,b));return a},ofType:function(a,c){return 0<=b.inArray(d.name(a),c)},changeTag:function(a,b,c){b=d.create(a.ownerDocument,b);var e=a.attributes,g,f,l;if(!c)for(c=0,g=e.length;c<g;c++)l=e[c],l.specified&&(f=l.nodeName,l=l.nodeValue,"class"==f?b.className=l:"style"==f?b.style.cssText=a.style.cssText:b.setAttribute(f,l));for(;a.firstChild;)b.appendChild(a.firstChild);d.insertBefore(b,a);d.remove(a);return b},editableParent:function(a){for(;a&&(3==a.nodeType||"true"!==a.contentEditable);)a=a.parentNode;return a},wrap:function(a,b){d.insertBefore(b,a);b.appendChild(a);return b},unwrap:function(a){for(var d=a.parentNode;a.firstChild;)d.insertBefore(a.firstChild,a);d.removeChild(a)},create:function(a,b,c){return d.attr(a.createElement(b),c)},attr:function(a,b){(b=u({},b))&&"style"in b&&(d.style(a,b.style),delete b.style);for(var c in b)null===b[c]?(a.removeAttribute(c),delete b[c]):"className"==c&&(a[c]=b[c]);return u(a,b)},style:function(a,d){b(a).css(d||{})},unstyle:function(a,d){for(var b in d)"float"==b&&(b=q.support.cssFloat?"cssFloat":"styleFloat"),a.style[b]="";""===a.style.cssText&&a.removeAttribute("style")},inlineStyle:function(a,c,e){var g=b(d.create(a.ownerDocument,c,e));a.appendChild(g[0]);a=B(l,function(a){return z.msie&&"line-height"==a&&"1px"==g.css(a)?"line-height:1.5":a+":"+g.css(a)}).join(";");g.remove();return a},getEffectiveBackground:function(a){var b=a.css("background-color");return 0>b.indexOf("rgba(0, 0, 0, 0")&&"transparent"!==b?b:"html"===a[0].tagName.toLowerCase()?"Window":d.getEffectiveBackground(a.parent())},removeClass:function(a,d){var c=" "+a.className+" ",e=d.split(" "),g,f;g=0;for(f=e.length;g<f;g++)c=c.replace(" "+e[g]+" "," ");c=b.trim(c);c.length?a.className=c:a.removeAttribute("class")},commonAncestor:function(){var a=arguments.length,d=[],b=Infinity,c=null,e,f,l;if(!a)return null;if(1==a)return arguments[0];for(e=0;e<a;e++){f=[];for(l=arguments[e];l;)f.push(l),l=l.parentNode;d.push(f.reverse());b=Math.min(b,f.length)}if(1==a)return d[0][0];for(e=0;e<b;e++){f=d[0][e];for(l=1;l<a;l++)if(f!=d[l][e])return c;c=f}return c},closestSplittableParent:function(a){var c;(c=1==a.length?d.parentOfType(a[0],["ul","ol"]):d.commonAncestor.apply(null,a))||(c=d.parentOfType(a[0],["p","td"])||a[0].ownerDocument.body);d.isInline(c)&&(c=d.blockParentOrBody(c));a=B(a,d.editableParent);a=d.commonAncestor(a)[0];b.contains(c,a)&&(c=a);return c},closestEditable:function(a,c){var e,g=d.editableParent(a);(e=d.ofType(a,c)?a:d.parentOfType(a,c))&&g&&b.contains(e,g)?e=g:!e&&g&&(e=g);return e},closestEditableOfType:function(a,b){var c=d.closestEditable(a,b);if(c&&d.ofType(c,b))return c},filter:function(a,b,c){for(var e=0,g=b.length,f=[],l;e<g;e++)l=d.name(b[e]),(!c&&l==a||c&&l!=a)&&f.push(b[e]);return f},ensureTrailingBreaks:function(a){var c=b(a).find("p,td,th"),e=c.length,g=0;if(e)for(;g<e;g++)d.ensureTrailingBreak(c[g]);else d.ensureTrailingBreak(a)},removeTrailingBreak:function(a){b(a).find("br[type\x3d_moz],.k-br").remove()},ensureTrailingBreak:function(a){d.removeTrailingBreak(a);var b=a.lastChild,c=b&&d.name(b);if(!c||"br"!=c&&"img"!=c||"br"==c&&"k-br"!=b.className)b=a.ownerDocument.createElement("br"),b.className="k-br",a.appendChild(b)}};q.ui.editor.Dom=d})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/serializer",["editor/dom"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui.editor,u=B.Dom,z=b.extend,C="xx-small x-small small medium large x-large xx-large".split(" "),y=/"/g,F=/<br[^>]*>/i,A=/^\d+(\.\d*)?(px)?$/i,E=/<p><\/p>/i,x=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g,t=/^sizzle-\d+/i,m=/^k-script-/i,e=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,h=document.createElement("div");h.innerHTML=" \x3chr\x3e";var p=3===h.firstChild.nodeType,h=null,n={toEditableHtml:function(b){return(b||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"\x3c!--[CDATA[$1]]--\x3e").replace(/<(\/?)script([^>]*)>/gi,"\x3c$1k:script$2\x3e").replace(/<img([^>]*)>/gi,function(b){return b.replace(e,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,'\x3cbr class\x3d"k-br"\x3e\x3c$1').replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,'\x3c/$1\x3e\x3cbr class\x3d"k-br"\x3e')},_fillEmptyElements:function(e){b(e).find("p").each(function(){var e=b(this);if(/^\s*$/g.test(e.text())&&!e.find("img,input").length){for(e=this;e.firstChild&&3!=e.firstChild.nodeType;)e=e.firstChild;1!=e.nodeType||u.empty[u.name(e)]||(e.innerHTML=q.ui.editor.emptyElementContent)}})},_removeSystemElements:function(e){b(".k-paste-container",e).remove()},_resetOrderedLists:function(b){b=b.getElementsByTagName("ol");var e,l,c;for(e=0;e<b.length;e++)l=b[e],c=l.getAttribute("start"),l.setAttribute("start",1),c?l.setAttribute("start",c):l.removeAttribute(c)},_preventScriptExecution:function(e){b(e).find("*").each(function(){var b=this.attributes,e,c,h,a;c=0;for(h=b.length;c<h;c++)e=b[c],a=e.nodeName,e.specified&&/^on/i.test(a)&&(this.setAttribute("k-script-"+a,e.value),this.removeAttribute(a))})},htmlToDom:function(e,f){var l=q.support.browser,c=l.msie,l=c&&9>l.version;e=n.toEditableHtml(e);l&&(e=("\x3cbr/\x3e"+e).replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,'originalhref\x3d"$1"'),e=e.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,'originalsrc\x3d"$1"'));f.innerHTML=e;l?(u.remove(f.firstChild),b(f).find("k\\:script,script,link,img,a").each(function(){this.originalhref&&(this.setAttribute("href",this.originalhref),this.removeAttribute("originalhref"));this.originalsrc&&(this.setAttribute("src",this.originalsrc),this.removeAttribute("originalsrc"))})):c&&(u.normalize(f),n._resetOrderedLists(f));n._preventScriptExecution(f);n._fillEmptyElements(f);n._removeSystemElements(f);b("table",f).addClass("k-table");return f},domToXhtml:function(e,f){function l(a){return b.grep(a,function(a){return"style"!=a.name})}function c(a){var d=b.trim,c=d(a),e,g;a=[];for(x.lastIndex=0;;){e=x.exec(c);if(!e)break;g=d(e[1].toLowerCase());e=d(e[2]);"font-size-adjust"!=g&&"font-stretch"!=g&&(0<=g.indexOf("color")?e=u.toHex(e):0<=g.indexOf("font")?e=e.replace(y,"'"):/\burl\(/g.test(e)&&(e=e.replace(y,"")),a.push({property:g,value:e}))}for(d=0;d<a.length;d++)n.push(a[d].property),n.push(":"),n.push(a[d].value),n.push(";")}function h(a){var d=[],b=a.attributes,c,e,g,l,h,n;e=0;for(g=b.length;e<g;e++)c=b[e],l=c.nodeName,h=c.value,n=c.specified,"value"==l&&"value"in a&&a.value?n=!0:"type"==l&&"text"==h?n=!0:"class"!=l||h?t.test(l)?n=!1:"complete"==l?n=!1:"altHtml"==l?n=!1:"start"==l&&u.is(a,"ul")?n=!1:"start"==l&&u.is(a,"ol")&&"1"==h?n=!1:0<=l.indexOf("_moz")?n=!1:m.test(l)&&(n=!!f.scripts):n=!1,n&&d.push(c);return d}function a(a,d){var e,g,f,l;d=d||h(a);u.is(a,"img")&&(e=a.style.width,g=a.style.height,l=b(a),e&&A.test(e)&&(l.attr("width",parseInt(e,10)),u.unstyle(a,{width:k})),g&&A.test(g)&&(l.attr("height",parseInt(g,10)),u.unstyle(a,{height:k})));if(d.length)for(d.sort(function(a,d){return a.nodeName>d.nodeName?1:a.nodeName<d.nodeName?-1:0}),e=0,g=d.length;e<g;e++)if(f=d[e],l=f.nodeName,f=f.value,"class"!=l||"k-table"!=f)l=l.replace(m,""),n.push(" "),n.push(l),n.push('\x3d"'),"style"==l?c(f||a.style.cssText):"src"==l||"href"==l?n.push(q.htmlEncode(a.getAttribute(l,2))):n.push(u.fillAttrs[l]?l:f),n.push('"')}function d(b,c,e){for(b=b.firstChild;b;b=b.nextSibling){var l=b,r=c,h=e,m=l.nodeType,w;if(1==m)!(h=u.name(l))||u.insignificant(l)||u.isInline(l)&&1==l.childNodes.length&&3==l.firstChild.nodeType&&!g(l.firstChild)||!(f.scripts||"script"!=h&&"k:script"!=h)||((m=D[h])&&("undefined"==typeof m.semantic||f.semantic^m.semantic)?(m.start(l),d(l,!1,m.skipEncoding),m.end(l)):(n.push("\x3c"),n.push(h),a(l),u.empty[h]?n.push(" /\x3e"):(n.push("\x3e"),d(l,r||u.is(l,"pre")),n.push("\x3c/"),n.push(h),n.push("\x3e"))));else if(3==m){m=g(l);if(!r&&p){r=l.parentNode;w=l.previousSibling;w||(w=(u.isInline(r)?r:l).previousSibling);if(!w||""===w.innerHTML||u.isBlock(w))m=m.replace(/^[\r\n\v\f\t ]+/,"");m=m.replace(/ +/," ")}n.push(h?m:u.encode(m,f))}else 4==m?(n.push("\x3c![CDATA["),n.push(l.data),n.push("]]\x3e")):8==m&&(0>l.data.indexOf("[CDATA[")?(n.push("\x3c!--"),n.push(l.data),n.push("--\x3e")):(n.push("\x3c!"),n.push(l.data),n.push("\x3e")))}}function g(a){return a.nodeValue.replace(/\ufeff/g,"")}var n=[],D={iframe:{start:function(d){n.push("\x3ciframe");a(d);n.push("\x3e")},end:function(){n.push("\x3c/iframe\x3e")}},"k:script":{start:function(d){n.push("\x3cscript");a(d);n.push("\x3e")},end:function(){n.push("\x3c/script\x3e")},skipEncoding:!0},span:{semantic:!0,start:function(d){var c=d.style,e=h(d),e=l(e);e.length&&(n.push("\x3cspan"),a(d,e),n.push("\x3e"));"underline"==c.textDecoration&&n.push("\x3cu\x3e");d=[];c.color&&d.push('color\x3d"'+u.toHex(c.color)+'"');c.fontFamily&&d.push('face\x3d"'+c.fontFamily+'"');c.fontSize&&(c=b.inArray(c.fontSize,C),d.push('size\x3d"'+c+'"'));d.length&&n.push("\x3cfont "+d.join(" ")+"\x3e")},end:function(a){var d=a.style;(d.color||d.fontFamily||d.fontSize)&&n.push("\x3c/font\x3e");"underline"==d.textDecoration&&n.push("\x3c/u\x3e");l(h(a)).length&&n.push("\x3c/span\x3e")}},strong:{semantic:!0,start:function(){n.push("\x3cb\x3e")},end:function(){n.push("\x3c/b\x3e")}},em:{semantic:!0,start:function(){n.push("\x3ci\x3e")},end:function(){n.push("\x3c/i\x3e")}},b:{semantic:!1,start:function(){n.push("\x3cstrong\x3e")},end:function(){n.push("\x3c/strong\x3e")}},i:{semantic:!1,start:function(){n.push("\x3cem\x3e")},end:function(){n.push("\x3c/em\x3e")}},u:{semantic:!1,start:function(){n.push('\x3cspan style\x3d"text-decoration:underline;"\x3e')},end:function(){n.push("\x3c/span\x3e")}},font:{semantic:!1,start:function(a){n.push('\x3cspan style\x3d"');var d=a.getAttribute("color"),b=C[a.getAttribute("size")];a=a.getAttribute("face");d&&(n.push("color:"),n.push(u.toHex(d)),n.push(";"));a&&(n.push("font-family:"),n.push(a),n.push(";"));b&&(n.push("font-size:"),n.push(b),n.push(";"));n.push('"\x3e')},end:function(){n.push("\x3c/span\x3e")}}};D.script=D["k:script"];f=f||{};"undefined"==typeof f.semantic&&(f.semantic=!0);if(function(a){var d=a.childNodes.length;return d&&3==a.firstChild.nodeType&&(1==d||2==d&&u.insignificant(a.lastChild))}(e))return u.encode(g(e.firstChild).replace(/[\r\n\v\f\t ]+/," "),f);d(e);n=n.join("");return""===n.replace(F,"").replace(E,"")?"":n}};z(B,{Serializer:n})})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/range",["editor/serializer"],b)})(function(){(function(b){function k(a,b){var d;try{var c;var e=a.startContainer,g=a.endContainer,f=a.startOffset,l=a.endOffset;if(e==g)c=l-f;else{for(var h=g;h&&h.parentNode!=e;)h=h.parentNode;if(h)c=x(h)-f;else{for(h=e;h&&h.parentNode!=g;)h=h.parentNode;if(h)c=l-x(h)-1;else{for(var m=E.commonAncestor(e,g);e&&e.parentNode!=m;)e=e.parentNode;for(e||(e=m);g&&g.parentNode!=m;)g=g.parentNode;g||(g=m);c=e==g?0:x(g)-x(e)}}}d=0>c}catch(Q){d=!0}d&&(b?(a.commonAncestorContainer=a.endContainer=a.startContainer,a.endOffset=a.startOffset):(a.commonAncestorContainer=a.startContainer=a.endContainer,a.startOffset=a.endOffset),a.collapsed=!0)}function q(a){a.collapsed=a.startContainer==a.endContainer&&a.startOffset==a.endOffset;for(var d=a.startContainer;d&&d!=a.endContainer&&!E.isAncestorOf(d,a.endContainer);)d=d.parentNode;a.commonAncestorContainer=d}function B(a,b,c){var d=b[c?"startContainer":"endContainer"],e=b[c?"startOffset":"endOffset"],g=0,f=t(d),l=f?d:d.childNodes[e]||null,f=f?d.parentNode:d,h=b.ownerDocument;b=h.body.createTextRange();if(3==d.nodeType||4==d.nodeType)g=e;f||(f=h.body);"img"==f.nodeName.toLowerCase()?b.moveToElementText(f):(d=f.insertBefore(E.create(h,"a"),l),b.moveToElementText(d),E.remove(d),b[c?"moveStart":"moveEnd"]("character",g));b.collapse(!1);a.setEndPoint(c?"StartToStart":"EndToStart",b)}function u(a,b,c,e){var d=E.create(b.ownerDocument,"a"),g=a.duplicate(),f=e?"StartToStart":"StartToEnd",l,h=!1;d.innerHTML="\ufeff";g.collapse(e);l=g.parentElement();E.isAncestorOrSelf(c,l)||(l=c);do h?l.insertBefore(d,d.previousSibling):(l.appendChild(d),h=!0),g.moveToElementText(d);while(0<(c=g.compareEndPoints(f,a))&&d.previousSibling);f=d.nextSibling;-1==c&&t(f)?(g.setEndPoint(e?"EndToStart":"EndToEnd",a),E.remove(d),l=[f,g.text.length]):(a=!e&&d.previousSibling,g=e&&d.nextSibling,t(g)?l=[g,0]:t(a)?l=[a,a.length]:(a=x(d),l=l.nextSibling&&a==l.childNodes.length-1?[l.nextSibling,0]:[l,a]),E.remove(d));b[e?"setStart":"setEnd"].apply(b,l)}var z=window.kendo,C=z.Class,y=b.extend,F=z.ui.editor,A=z.support.browser,E=F.Dom,x=E.findNodeIndex,t=E.isDataNode,m=E.findClosestAncestor,e=E.getNodeLength,h=E.normalize,p={selectionFromWindow:function(a){return"getSelection"in a?a.getSelection():new f(a.document)},selectionFromRange:function(d){d=a.documentFromRange(d);return p.selectionFromDocument(d)},selectionFromDocument:function(a){return p.selectionFromWindow(E.windowFromDocument(a))}},n=C.extend({init:function(a){b.extend(this,{ownerDocument:a,startContainer:a,endContainer:a,commonAncestorContainer:a,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(a,b){this.startContainer=a;this.startOffset=b;q(this);k(this,!0)},setEnd:function(a,b){this.endContainer=a;this.endOffset=b;q(this);k(this,!1)},setStartBefore:function(a){this.setStart(a.parentNode,x(a))},setStartAfter:function(a){this.setStart(a.parentNode,x(a)+1)},setEndBefore:function(a){this.setEnd(a.parentNode,x(a))},setEndAfter:function(a){this.setEnd(a.parentNode,x(a)+1)},selectNode:function(a){this.setStartBefore(a);this.setEndAfter(a)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a[1===a.nodeType?"childNodes":"nodeValue"].length)},collapse:function(a){a?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},deleteContents:function(){var a=this.cloneRange();this.startContainer!=this.commonAncestorContainer&&this.setStartAfter(m(this.commonAncestorContainer,this.startContainer));this.collapse(!0);(function G(a){for(;a.next();)a.hasPartialSubtree()?G(a.getSubtreeIterator()):a.remove()})(new D(a))},cloneContents:function(){var d=a.documentFromRange(this);return function G(a){for(var b,c=d.createDocumentFragment();b=a.next();)b=b.cloneNode(!a.hasPartialSubtree()),a.hasPartialSubtree()&&b.appendChild(G(a.getSubtreeIterator())),c.appendChild(b);return c}(new D(this))},extractContents:function(){var d=this,b=d.cloneRange();d.startContainer!=d.commonAncestorContainer&&d.setStartAfter(m(d.commonAncestorContainer,d.startContainer));d.collapse(!0);var c=a.documentFromRange(d);return function J(a){for(var b,e=c.createDocumentFragment();b=a.next();)a.hasPartialSubtree()?(b=b.cloneNode(!1),b.appendChild(J(a.getSubtreeIterator()))):a.remove(d.originalRange),e.appendChild(b);return e}(new D(b))},insertNode:function(a){t(this.startContainer)?(this.startOffset!=this.startContainer.nodeValue.length&&E.splitDataNode(this.startContainer,this.startOffset),E.insertAfter(a,this.startContainer)):E.insertAt(this.startContainer,a,this.startOffset);this.setStart(this.startContainer,this.startOffset)},cloneRange:function(){return b.extend(new n(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var a=this.startContainer.nodeName,b=this.endContainer.nodeName;return["#text"==a?this.startContainer.nodeValue:a,"(",this.startOffset,") : ","#text"==b?this.endContainer.nodeValue:b,"(",this.endOffset,")"].join("")}});n.fromNode=function(a){return new n(a.ownerDocument)};var D=C.extend({init:function(a){b.extend(this,{range:a,_current:null,_next:null,_end:null});if(!a.collapsed){var d=a.commonAncestorContainer;this._next=a.startContainer!=d||t(a.startContainer)?m(d,a.startContainer):a.startContainer.childNodes[a.startOffset];this._end=a.endContainer!=d||t(a.endContainer)?m(d,a.endContainer).nextSibling:a.endContainer.childNodes[a.endOffset]}},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;this._next=this._current&&this._current.nextSibling!=this._end?this._current.nextSibling:null;t(this._current)&&(this.range.endContainer==this._current&&(a=a.cloneNode(!0),a.deleteData(this.range.endOffset,a.length-this.range.endOffset)),this.range.startContainer==this._current&&(a=a.cloneNode(!0),a.deleteData(0,this.range.startOffset)));return a},traverse:function(a){function d(){b._current=b._next;b._next=b._current&&b._current.nextSibling!=b._end?b._current.nextSibling:null;return b._current}for(var b=this,c;c=d();)b.hasPartialSubtree()?b.getSubtreeIterator().traverse(a):a(c);return c},remove:function(a){var d=this.range.startContainer==this._current,b=this.range.endContainer==this._current,c,e,f;t(this._current)&&(d||b)?(c=d?this.range.startOffset:0,e=b?this.range.endOffset:this._current.length,f=e-c,a&&(d||b)&&(this._current==a.startContainer&&c<=a.startOffset&&(a.startOffset-=f),this._current==a.endContainer&&e<=a.endOffset&&(a.endOffset-=f)),this._current.deleteData(c,f)):(d=this._current.parentNode,!a||this.range.startContainer!=d&&this.range.endContainer!=d||(b=x(this._current),d==a.startContainer&&b<=a.startOffset&&--a.startOffset,d==a.endContainer&&b<a.endOffset&&--a.endOffset),E.remove(this._current))},hasPartialSubtree:function(){return!t(this._current)&&(E.isAncestorOrSelf(this._current,this.range.startContainer)||E.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var a=this.range.cloneRange();a.selectNodeContents(this._current);E.isAncestorOrSelf(this._current,this.range.startContainer)&&a.setStart(this.range.startContainer,this.range.startOffset);E.isAncestorOrSelf(this._current,this.range.endContainer)&&a.setEnd(this.range.endContainer,this.range.endOffset);return new D(a)}}),f=C.extend({init:function(a){this.ownerDocument=a;this.rangeCount=1},addRange:function(a){var d=this.ownerDocument.body.createTextRange();B(d,a,!1);B(d,a,!0);d.select()},removeAllRanges:function(){var a=this.ownerDocument.selection;"None"!=a.type&&a.empty()},getRangeAt:function(){var a,b=new n(this.ownerDocument),c=this.ownerDocument.selection,f;try{if(a=c.createRange(),f=a.item?a.item(0):a.parentElement(),f.ownerDocument!=this.ownerDocument)return b}catch(H){return b}if("Control"==c.type)b.selectNode(a.item(0));else{c=a;f=c.duplicate();var l=c.duplicate();f.collapse(!0);l.collapse(!1);c=E.commonAncestor(c.parentElement(),f.parentElement(),l.parentElement());u(a,b,c,!0);u(a,b,c,!1);9==b.startContainer.nodeType&&b.setStart(b.endContainer,b.startOffset);9==b.endContainer.nodeType&&b.setEnd(b.startContainer,b.endOffset);0===a.compareEndPoints("StartToEnd",a)&&b.collapse(!1);a=b.startContainer;c=b.endContainer;f=this.ownerDocument.body;if(!(b.collapsed||0!==b.startOffset||b.endOffset!=e(b.endContainer)||a==c&&t(a)&&a.parentNode==f)){for(var h=l=!1;0===x(a)&&a==a.parentNode.firstChild&&a!=f;)a=a.parentNode,l=!0;for(;x(c)==e(c.parentNode)-1&&c==c.parentNode.lastChild&&c!=f;)c=c.parentNode,h=!0;a==f&&c==f&&l&&h&&(b.setStart(a,0),b.setEnd(c,e(f)))}}return b}}),l=C.extend({init:function(a){this.enumerate=function(){function b(a){if(E.is(a,"img")||3==a.nodeType&&(!E.isEmptyspace(a)||"\ufeff"==a.nodeValue))d.push(a);else for(a=a.firstChild;a;)b(a),a=a.nextSibling}var d=[];(new D(a)).traverse(b);return d}}}),c=C.extend({init:function(b,c){this.range=b;this.rootNode=a.documentFromRange(b);this.body=c||this.getEditable(b);"body"!=E.name(this.body)&&(this.rootNode=this.body);this.html=this.body.innerHTML;this.startContainer=this.nodeToPath(b.startContainer);this.endContainer=this.nodeToPath(b.endContainer);this.startOffset=this.offset(b.startContainer,b.startOffset);this.endOffset=this.offset(b.endContainer,b.endOffset)},index:function(a){for(var b=0,d=a.nodeType;a=a.previousSibling;){var c=a.nodeType;3==c&&d==c||b++;d=c}return b},getEditable:function(a){for(a=a.commonAncestorContainer;a&&(3==a.nodeType||a.attributes&&!a.attributes.contentEditable);)a=a.parentNode;return a},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(a,b){if(3==a.nodeType)for(;(a=a.previousSibling)&&3==a.nodeType;)b+=a.nodeValue.length;return b},nodeToPath:function(a){for(var b=[];a!=this.rootNode;)b.push(this.index(a)),a=a.parentNode;return b},toRangePoint:function(a,b,c,e){for(var d=this.rootNode,g=c.length;g--;)d=d.childNodes[c[g]];for(;d&&3==d.nodeType&&d.nodeValue.length<e;)e-=d.nodeValue.length,d=d.nextSibling;if(d&&0<=e)a[b?"setStart":"setEnd"](d,e)},toRange:function(){var a=this.range.cloneRange();this.toRangePoint(a,!0,this.startContainer,this.startOffset);this.toRangePoint(a,!1,this.endContainer,this.endOffset);return a}}),C=C.extend({init:function(){this.caret=null},addCaret:function(b){this.caret=E.create(a.documentFromRange(b),"span",{className:"k-marker"});b.insertNode(this.caret);b.selectNode(this.caret);return this.caret},removeCaret:function(a){var b=this.caret.previousSibling,d=0;b&&(d=t(b)?b.nodeValue.length:x(b));var c=this.caret.parentNode,e=b?x(b):0;E.remove(this.caret);h(c);e=c.childNodes[e];if(t(e))a.setStart(e,d);else if(e)if(d=E.lastTextNode(e))a.setStart(d,d.nodeValue.length);else a[b?"setStartAfter":"setStartBefore"](e);else A.msie||c.innerHTML||(c.innerHTML='\x3cbr _moz_dirty\x3d"" /\x3e'),a.selectNodeContents(c);a.collapse(!0)},add:function(b,c){var d=b.collapsed&&!a.isExpandable(b),e=a.documentFromRange(b);c&&b.collapsed&&(this.addCaret(b),b=a.expand(b));var g=b.cloneRange();g.collapse(!1);this.end=E.create(e,"span",{className:"k-marker"});g.insertNode(this.end);g=b.cloneRange();g.collapse(!0);this.start=this.end.cloneNode(!0);g.insertNode(this.start);this._removeDeadMarkers(this.start,this.end);d&&(d=e.createTextNode("\ufeff"),E.insertAfter(d.cloneNode(),this.start),E.insertBefore(d,this.end));h(b.commonAncestorContainer);b.setStartBefore(this.start);b.setEndAfter(this.end);return b},_removeDeadMarkers:function(a,b){a.previousSibling&&"\ufeff"==a.previousSibling.nodeValue&&E.remove(a.previousSibling);b.nextSibling&&"\ufeff"==b.nextSibling.nodeValue&&E.remove(b.nextSibling)},_normalizedIndex:function(a){for(var b=x(a);a.previousSibling;)3==a.nodeType&&3==a.previousSibling.nodeType&&b--,a=a.previousSibling;return b},remove:function(a){var b=this.start,d=this.end;for(h(a.commonAncestorContainer);!b.nextSibling&&b.parentNode;)b=b.parentNode;for(;!d.previousSibling&&d.parentNode;)d=d.parentNode;var b=b.nextSibling,d=d.previousSibling,c=!1,e=!1;b==this.end&&(e=!!this.start.previousSibling,b=d=this.start.previousSibling||this.end.nextSibling,c=!0);E.remove(this.start);E.remove(this.end);if(b&&d){var f=c?t(b)?b.nodeValue.length:b.childNodes.length:0,l=t(d)?d.nodeValue.length:d.childNodes.length;if(3==b.nodeType)for(;b.previousSibling&&3==b.previousSibling.nodeType;)b=b.previousSibling,f+=b.nodeValue.length;if(3==d.nodeType)for(;d.previousSibling&&3==d.previousSibling.nodeType;)d=d.previousSibling,l+=d.nodeValue.length;var m=b.parentNode,r=d.parentNode,n=this._normalizedIndex(b),w=this._normalizedIndex(d);h(m);3==b.nodeType&&(b=m.childNodes[n]);h(r);3==d.nodeType&&(d=r.childNodes[w]);if(c){if(3==b.nodeType)a.setStart(b,f);else a[e?"setStartAfter":"setStartBefore"](b);a.collapse(!0)}else 3==b.nodeType?a.setStart(b,f):a.setStartBefore(b),3==d.nodeType?a.setEnd(d,l):a.setEndAfter(d);this.caret&&this.removeCaret(a)}else a.selectNodeContents(a.commonAncestorContainer),a.collapse(!0)}}),w=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,a={nodes:function(b){var d=a.textNodes(b);d.length||(b.selectNodeContents(b.commonAncestorContainer),d=a.textNodes(b),d.length||(d=E.significantChildNodes(b.commonAncestorContainer)));return d},textNodes:function(a){return(new l(a)).enumerate()},documentFromRange:function(a){a=a.startContainer;return 9==a.nodeType?a:a.ownerDocument},createRange:function(a){return A.msie&&9>A.version?new n(a):a.createRange()},selectRange:function(b){var d=a.image(b);d&&(b.setStartAfter(d),b.setEndAfter(d));d=p.selectionFromRange(b);d.removeAllRanges();d.addRange(b)},stringify:function(a){return z.format("{0}:{1} - {2}:{3}",E.name(a.startContainer),a.startOffset,E.name(a.endContainer),a.endOffset)},split:function(a,b,c){function d(d){var e=a.cloneRange();e.collapse(d);e[d?"setStartBefore":"setEndAfter"](b);e=e.extractContents();c&&(e=E.trim(e));E[d?"insertBefore":"insertAfter"](e,b)}d(!0);d(!1)},mapAll:function(a,c){var d=[];(new D(a)).traverse(function(a){(a=c(a))&&0>b.inArray(a,d)&&d.push(a)});return d},getAll:function(b,c){var d=c;"string"==typeof c&&(c=function(a){return E.is(a,d)});return a.mapAll(b,function(a){if(c(a))return a})},getMarkers:function(b){return a.getAll(b,function(a){return"k-marker"==a.className})},image:function(b){b=a.getAll(b,"img");if(1==b.length)return b[0]},isStartOf:function(a,b){if(0!==a.startOffset)return!1;for(var d=a.cloneRange();0===d.startOffset&&d.startContainer!=b;){for(var c=E.findNodeIndex(d.startContainer),e=d.startContainer.parentNode;0<c&&e[c-1]&&E.insignificant(e[c-1]);)c--;d.setStart(e,c)}return 0===d.startOffset&&d.startContainer==b},isEndOf:function(a,b){var d=a.cloneRange();d.collapse(!1);var c=d.startContainer;E.isDataNode(c)&&d.startOffset==E.getNodeLength(c)&&(d.setStart(c.parentNode,E.findNodeIndex(c)+1),d.collapse(!0));d.setEnd(b,E.getNodeLength(b));var e=[];(new D(d)).traverse(function(a){E.insignificant(a)||e.push(a)});return!e.length},wrapSelectedElements:function(a){function b(a,b){var d=E.getNodeLength(b);if(a==d)return!0;for(var c=a;c<d;c++)if(!E.insignificant(b.childNodes[c]))return!1;return!0}for(var d=E.editableParent(a.startContainer),c=E.editableParent(a.endContainer);0===a.startOffset&&a.startContainer!=d;)a.setStart(a.startContainer.parentNode,E.findNodeIndex(a.startContainer));for(;b(a.endOffset,a.endContainer)&&a.endContainer!=c;)a.setEnd(a.endContainer.parentNode,E.findNodeIndex(a.endContainer)+1);return a},expand:function(a){a=a.cloneRange();var b=a.startContainer.childNodes[0===a.startOffset?0:a.startOffset-1],d=a.endContainer.childNodes[a.endOffset];if(!t(b)||!t(d))return a;var c=b.nodeValue,e=d.nodeValue;if(!c||!e)return a;var f=c.split("").reverse().join("").search(w),l=e.search(w);if(!f||!l)return a;l=-1==l?e.length:l;f=-1==f?0:c.length-f;a.setStart(b,f);a.setEnd(d,l);return a},isExpandable:function(b){var d=b.startContainer,c=a.documentFromRange(b);if(d==c||d==c.body)return!1;b=b.cloneRange();c=d.nodeValue;if(!c)return!1;d=c.substring(0,b.startOffset);b=c.substring(b.startOffset);var e=c=0;d&&(c=d.split("").reverse().join("").search(w));b&&(e=b.search(w));return c&&e}};y(F,{SelectionUtils:p,W3CRange:n,RangeIterator:D,W3CSelection:f,RangeEnumerator:l,RestorePoint:c,Marker:C,RangeUtils:a})})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/system",["editor/range"],b)})(function(){(function(b){function k(a,b){var d=a.selectionRestorePoint=new E(a.getRange()),c=new e(b,d);c.editor=a;a.undoRedoStack.push(c);return d}var q=window.kendo,B=q.Class,u=q.ui.editor,z=u.EditorUtils,C=z.registerTool,y=u.Dom,F=u.Tool,A=u.ToolTemplate,E=u.RestorePoint,x=u.Marker,t=b.extend,m=B.extend({init:function(a){this.options=a;this.restorePoint=new E(a.range);this.marker=new x;this.formatter=a.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(a){return this.marker.add(this.getRange(),a)},releaseRange:function(a){this.marker.remove(a);this.editor.selectRange(a)},undo:function(){var a=this.restorePoint;a.restoreHtml();this.editor.selectRange(a.toRange())},redo:function(){this.exec()},createDialog:function(a,d){var c=this.editor;return b(a).appendTo(document.body).kendoWindow(t({},c.options.dialogOptions,d)).closest(".k-window").toggleClass("k-rtl",q.support.isRtl(c.wrapper)).end()},exec:function(){var a=this.lockRange(!0);this.formatter.editor=this.editor;this.formatter.toggle(a);this.releaseRange(a)}}),e=B.extend({init:function(a,b){this.body=a.body;this.startRestorePoint=a;this.endRestorePoint=b},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}}),h=m.extend({init:function(a){m.fn.init.call(this,a);this.managesUndoRedo=!0},exec:function(){var a=this.editor,b=this.options,d=b.range,c=a.body,g=new E(d,c),f=b.html||b.value||"";a.selectRange(d);a.clipboard.paste(f,b);b.postProcess&&b.postProcess(a,a.getRange());b=new e(g,new E(a.getRange(),c));b.editor=a;a.undoRedoStack.push(b);a.focus()}}),p=F.extend({initialize:function(a,b){var d=b.editor,c=this.options;this._selectBox=new u.SelectBox(a,{dataSource:c.items?c.items:d.options.insertHtml,dataTextField:"text",dataValueField:"value",change:function(){F.exec(d,"insertHtml",this.value())},title:d.options.messages.insertHtml,highlightFirst:!1})},command:function(a){return new h(a)},update:function(a){a=a.data("kendoSelectBox")||a.find("select").data("kendoSelectBox");a.close();a.value(a.options.title)}}),n=B.extend({init:function(a){this.editor=a},keydown:function(a){var d=this,c=d.editor,e=c.keyboard,g=e.isTypingKey(a),f=t(b.Event(),a);d.editor.trigger("keydown",f);return f.isDefaultPrevented()?(a.preventDefault(),!0):f.isDefaultPrevented()||!g||e.isTypingInProgress()?!1:(a=c.getRange(),d.startRestorePoint=new E(a),e.startTyping(function(){d.endRestorePoint=k(c,d.startRestorePoint)}),!0)},keyup:function(a){var b=this.editor.keyboard;this.editor.trigger("keyup",a);return b.isTypingInProgress()?(b.endTyping(),!0):!1}}),D=B.extend({init:function(a){this.editor=a},_addCaret:function(a){var b=y.create(this.editor.document,"a");y.insertAt(a,b,0);return b},_restoreCaret:function(a){var b=this.editor.createRange();b.setStartAfter(a);b.collapse(!0);this.editor.selectRange(b);y.remove(a)},_handleDelete:function(a){var b=y.closestEditableOfType(a.endContainer,y.blockElements);if(b&&u.RangeUtils.isEndOf(a,b)){a=y.next(b);if(!a||"p"!=y.name(a))return!1;var d=this._addCaret(a);this._merge(b,a);this._restoreCaret(d);return!0}return!1},_cleanBomBefore:function(a){for(var b=a.startOffset,d=a.startContainer,c=d.nodeValue,e=0;0<=b-e&&"\ufeff"==c[b-e-1];)e++;0<e&&(d.deleteData(b-e,e),a.setStart(d,Math.max(0,b-e)),a.collapse(!0),this.editor.selectRange(a))},_handleBackspace:function(a){var b=a.startContainer,d=y.closestEditableOfType(b,["li"]),c=y.closestEditableOfType(b,"p h1 h2 h3 h4 h5 h6".split(" "));y.isDataNode(b)&&this._cleanBomBefore(a);return c&&c.previousSibling&&u.RangeUtils.isStartOf(a,c)?(a=c.previousSibling,d=this._addCaret(c),this._merge(a,c),this._restoreCaret(d),!0):d&&u.RangeUtils.isStartOf(a,d)?(c=d.firstChild,c||(d.innerHTML=u.emptyElementContent,c=d.firstChild),b=new u.ListFormatter(y.name(d.parentNode),"p"),a.selectNodeContents(d),b.toggle(a),y.insignificant(c)?a.setStartBefore(c):a.setStart(c,0),this.editor.selectRange(a),!0):!1},_handleSelection:function(a){var d=a.commonAncestorContainer,c=y.closest(d,"table"),e=u.emptyElementContent;/t(able|body)/i.test(y.name(d))&&a.selectNode(c);var g=new x;g.add(a,!1);a.setStartAfter(g.start);a.setEndBefore(g.end);var f=a.startContainer,l=a.endContainer;a.deleteContents();c&&""===b(c).text()&&(a.selectNode(c),a.deleteContents());d=a.commonAncestorContainer;"p"===y.name(d)&&""===d.innerHTML&&(d.innerHTML=e,a.setStart(d,0));this._join(f,l);y.insertAfter(this.editor.document.createTextNode("\ufeff"),g.start);g.remove(a);f=a.startContainer;"tr"==y.name(f)&&(f=f.childNodes[Math.max(0,a.startOffset-1)],a.setStart(f,y.getNodeLength(f)));a.collapse(!0);this.editor.selectRange(a);return!0},_root:function(a){for(;a&&a.parentNode&&"body"!=y.name(a.parentNode);)a=a.parentNode;return a},_join:function(a,b){a=this._root(a);b=this._root(b);a!=b&&y.is(b,"p")&&this._merge(a,b)},_merge:function(a,b){for(y.removeTrailingBreak(a);b.firstChild;)1==a.nodeType?a.appendChild(b.firstChild):a.parentNode.appendChild(b.firstChild);y.remove(b)},keydown:function(a){var b,d,c=this.editor.getRange(),e=a.keyCode,g=q.keys;d=e===g.BACKSPACE;e=e==g.DELETE;!d&&!e||c.collapsed?d?b="_handleBackspace":e&&(b="_handleDelete"):b="_handleSelection";b&&(d=new E(c),this[b](c)&&(a.preventDefault(),k(this.editor,d)))},keyup:b.noop}),f=B.extend({init:function(a){this.editor=a;this.systemCommandIsInProgress=!1},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=k(this.editor,this.startRestorePoint)},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(a){var b=this.editor,d=b.keyboard;return d.isModifierKey(a)?(d.isTypingInProgress()&&d.endTyping(!0),this.startRestorePoint=new E(b.getRange()),!0):d.isSystem(a)?(this.systemCommandIsInProgress=!0,this.changed()&&(this.systemCommandIsInProgress=!1,this.createUndoCommand()),!0):!1},keyup:function(){return this.systemCommandIsInProgress&&this.changed()?(this.systemCommandIsInProgress=!1,this.createUndoCommand(),!0):!1}}),l=B.extend({init:function(a){this.handlers=a;this.typingInProgress=!1},isCharacter:function(a){return 48<=a&&90>=a||96<=a&&111>=a||186<=a&&192>=a||219<=a&&222>=a||229==a},toolFromShortcut:function(a,d){var c=String.fromCharCode(d.keyCode),e,g;for(e in a)if(g=b.extend({ctrl:!1,alt:!1,shift:!1},a[e].options),(g.key==c||g.key==d.keyCode)&&g.ctrl==d.ctrlKey&&g.alt==d.altKey&&g.shift==d.shiftKey)return e},isTypingKey:function(a){var b=a.keyCode;return this.isCharacter(b)&&!a.ctrlKey&&!a.altKey||32==b||13==b||8==b||46==b&&!a.shiftKey&&!a.ctrlKey&&!a.altKey},isModifierKey:function(a){var b=a.keyCode;return 17==b&&!a.shiftKey&&!a.altKey||16==b&&!a.ctrlKey&&!a.altKey||18==b&&!a.ctrlKey&&!a.shiftKey},isSystem:function(a){return 46==a.keyCode&&a.ctrlKey&&!a.altKey&&!a.shiftKey},startTyping:function(a){this.onEndTyping=a;this.typingInProgress=!0},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping)this.onEndTyping();this.typingInProgress=!1},endTyping:function(a){this.clearTimeout();a?this.stopTyping():this.timeout=window.setTimeout(b.proxy(this.stopTyping,this),1E3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(a,b){var d,c=this.handlers;for(d=0;d<c.length&&!c[d][b](a);d++);},keydown:function(a){this.notify(a,"keydown")},keyup:function(a){this.notify(a,"keyup")}}),c=B.extend({init:function(b){this.editor=b;this.cleaners=[new a,new d,new g,new G]},htmlToFragment:function(a){var b=this.editor.document,d=y.create(b,"div"),b=b.createDocumentFragment();for(d.innerHTML=a;d.firstChild;)b.appendChild(d.firstChild);return b},isBlock:function(a){return/<(div|p|ul|ol|table|h[1-6])/i.test(a)},_startModification:function(){var a,b,d=this.editor;if(!this._inProgress)return this._inProgress=!0,a=d.getRange(),b=new E(a),y.persistScrollTop(d.document),{range:a,restorePoint:b}},_endModification:function(a){k(this.editor,a.restorePoint);this.editor._selectionChange();this._inProgress=!1},_contentModification:function(a,b){var d=this,c=d.editor,e=d._startModification();e&&(a.call(d,c,e.range),setTimeout(function(){b.call(d,c,e.range);d._endModification(e)}))},_removeBomNodes:function(a){a=u.RangeUtils.textNodes(a);for(var b=0;b<a.length;b++)a[b].nodeValue=y.stripBom(a[b].nodeValue)},_onBeforeCopy:function(a){var b=new x;b.add(a);this._removeBomNodes(a);b.remove(a);this.editor.selectRange(a)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange());this._contentModification(b.noop,b.noop)},_fileToDataURL:function(a){var d=b.Deferred(),c=new FileReader;a instanceof window.File||!a.getAsFile||(a=a.getAsFile());c.onload=b.proxy(d.resolve,d);c.readAsDataURL(a);return d.promise()},_triggerPaste:function(a,b){var d={html:a||""};d.html=d.html.replace(/\ufeff/g,"");this.editor.trigger("paste",d);this.paste(d.html,b||{})},_handleImagePaste:function(a){if("FileReader"in window&&(a=a.clipboardData||a.originalEvent.clipboardData||window.clipboardData||{},a=a.items||a.files)){var d=b.grep(a,function(a){return/^image\//i.test(a.type)});if(!b.grep(a,function(a){return/^text\/html/i.test(a.type)}).length&&d.length){var c=this._startModification();if(c)return b.when.apply(b,b.map(d,this._fileToDataURL)).done(b.proxy(function(){var a=Array.prototype.slice.call(arguments),a=b.map(a,function(a){return'\x3cimg src\x3d"'+a.target.result+'" /\x3e'}).join("");this._triggerPaste(a);this._endModification(c)},this)),!0}}},onpaste:function(a){this._handleImagePaste(a)?a.preventDefault():this._contentModification(function(d,c){var e=y.create(d.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"}),g=q.support.browser;d.body.appendChild(e);g.msie&&11>g.version?(a.preventDefault(),g=d.createRange(),g.selectNodeContents(e),d.selectRange(g),g=d.document.body.createTextRange(),g.moveToElementText(e),b(d.body).unbind("paste"),g.execCommand("Paste"),b(d.body).bind("paste",b.proxy(this.onpaste,this))):(g=d.createRange(),g.selectNodeContents(e),d.selectRange(g));c.deleteContents()},function(a,d){var c="",e;a.selectRange(d);e=b(a.body).children(".k-paste-container");e.each(function(){var a=this.lastChild;a&&y.is(a,"br")&&y.remove(a);c+=this.innerHTML});e.remove();this._triggerPaste(c,{clean:!0})})},splittableParent:function(a,b){var d,c;if(a)return y.closestEditableOfType(b,["p","ul","ol"])||b.parentNode;d=b.parentNode;c=b.ownerDocument.body;if(y.isInline(d))for(;d.parentNode!=c&&!y.isBlock(d.parentNode);)d=d.parentNode;return d},paste:function(a,d){var c=this.editor,e,g;d=t({clean:!1,split:!0},d);e=0;for(g=this.cleaners.length;e<g;e++)this.cleaners[e].applicable(a)&&(a=this.cleaners[e].clean(a));d.clean&&(a=a.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),a=a.replace(/<(a|span)[^>]*><\/\1>/gi,""));a=a.replace(/^<li/i,"\x3cul\x3e\x3cli").replace(/li>$/g,"li\x3e\x3c/ul\x3e");var f=this.isBlock(a);c.focus();var l=c.getRange();l.deleteContents();l.startContainer==c.document&&l.selectNodeContents(c.body);var h=new x,m=h.addCaret(l);e=this.splittableParent(f,m);var n=!1;g=e!=c.body&&!y.is(e,"td");d.split&&g&&(f||y.isInline(e))&&(l.selectNode(m),u.RangeUtils.split(l,e,!0),n=!0);var w=this.htmlToFragment(a);if(w.firstChild&&"k-paste-container"===w.firstChild.className){var p=[];e=0;for(g=w.childNodes.length;e<g;e++)p.push(w.childNodes[e].innerHTML);w=this.htmlToFragment(p.join("\x3cbr /\x3e"))}b(w.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");l.insertNode(w);e=this.splittableParent(f,m);if(n){for(;m.parentNode!=e;)y.unwrap(m.parentNode);y.unwrap(m.parentNode)}y.normalize(l.commonAncestorContainer);m.style.display="inline";y.restoreScrollTop(c.document);y.scrollTo(m);h.removeCaret(l);f=l.commonAncestorContainer.parentNode;l.collapsed&&"tbody"==y.name(f)&&(l.setStartAfter(b(f).closest("table")[0]),l.collapse(!0));c.selectRange(l)}}),w=B.extend({clean:function(a){var b=this.replacements,d,c;d=0;for(c=b.length;d<c;d+=2)a=a.replace(b[d],b[d+1]);return a}}),a=w.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"\x3c$1telerik:script$2\x3e"]},applicable:function(a){return/<script[^>]*>/i.test(a)}}),d=w.extend({init:function(){this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi," ",/\t/gi," ",/&nbsp;&nbsp; &nbsp;/gi," "]},applicable:function(a){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(a)}}),g=w.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/\x3c!--(.|\n)*?--\x3e/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"\x3cBR\x3e\x3cBR\x3e",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"\x3ctable$1\x3e\x3ct",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"\x3cbr\x3e",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"\x3c$1strong$2\x3e",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"\x3c$1em$2\x3e",/<o:p>&nbsp;<\/o:p>/gi,"\x26nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(a,b){return b?a:" "}]},convertFontMatch:function(a,b,d){a=/face=['"]([^'"]+)['"]/i.exec(d);d=d&&a&&a[1];return b?"\x3c/span\x3e":d?'\x3cspan style\x3d"font-family:'+d+'"\x3e':"\x3cspan\x3e"},applicable:function(a){return/class="?Mso/i.test(a)||/style="[^"]*mso-/i.test(a)||/urn:schemas-microsoft-com:office/.test(a)},stripEmptyAnchors:function(a){return a.replace(/<a([^>]*)>\s*<\/a>/gi,function(a,b){return!b||0>b.indexOf("href")?"":a})},listType:function(a){var b;/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(a)&&(b=!0);a=a.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if(!b&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(a)||b&&/^.\u00a0+/.test(a))return"ul";if(/^\s*\w+[\.\)]\u00a0{2,}/.test(a))return"ol"},_convertToLi:function(a){var b;1==a.childNodes.length?b=a.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(y.remove(a.firstChild),3==a.firstChild.nodeType&&/^[ivx]+\.$/i.test(a.firstChild.nodeValue)&&y.remove(a.firstChild),/^(&nbsp;|\s)+$/i.test(a.firstChild.innerHTML)&&y.remove(a.firstChild),b=a.innerHTML);y.remove(a);return y.create(document,"li",{innerHTML:b})},lists:function(a){var d=b(y.blockElements.join(","),a),c=-1,e,g,f={ul:{},ol:{}},l=a,h,m,n,w,p,t;for(h=0;h<d.length;h++)if(m=d[h],n=this.listType(m.innerHTML),g=y.name(m),"td"!=g)if(n&&"p"==g){g=parseFloat(m.style.marginLeft||0);w=f[n][g];if(g>c||!w)w=y.create(document,n),l==a?y.insertBefore(w,m):l.appendChild(w),f[n][g]=w;if(e!=n)for(p in f)for(t in f[p])b.contains(w,f[p][t])&&delete f[p][t];l=this._convertToLi(m);w.appendChild(l);c=g;e=n}else m.innerHTML?(f={ul:{},ol:{}},l=a,c=-1):y.remove(m)},removeAttributes:function(a){for(var b=a.attributes,d=b.length;d--;)"colspan"!=y.name(b[d])&&a.removeAttributeNode(b[d])},createColGroup:function(a){var d=a.cells;a=b(a).closest("table");var c=a.children("colgroup");2>d.length||(c.length&&(d=c.children(),c[0].parentNode.removeChild(c[0])),c=b(b.map(d,function(a){return(a=a.width)&&0!==parseInt(a,10)?q.format('\x3ccol style\x3d"width:{0}px;"/\x3e',a):"\x3ccol /\x3e"}).join("")),c.is("colgroup")||(c=b("\x3ccolgroup/\x3e").append(c)),c.prependTo(a))},convertHeaders:function(a){var d=a.cells,c,e=b.map(d,function(a){if((a=b(a).children("p").children("strong")[0])&&"strong"==y.name(a))return a});if(e.length==d.length){for(c=0;c<e.length;c++)y.unwrap(e[c]);b(a).closest("table").find("colgroup").after("\x3cthead\x3e\x3c/thead\x3e").end().find("thead").append(a);for(c=0;c<d.length;c++)y.changeTag(d[c],"th")}},removeParagraphs:function(a){var d,c,e,g;for(d=0;d<a.length;d++)for(this.removeAttributes(a[d]),c=b(a[d]),g=c.children("p"),c=0,e=g.length;c<e;c++)c<e-1&&y.insertAfter(y.create(document,"br"),g[c]),y.unwrap(g[c])},removeDefaultColors:function(a){for(var b=0;b<a.length;b++)/^\s*color:\s*[^;]*;?$/i.test(a[b].style.cssText)&&y.unwrap(a[b])},tables:function(a){a=b(a).find("table");var d,c,e,g,f;for(g=0;g<a.length;g++){d=a[g].rows;e=c=d[0];for(f=1;f<d.length;f++)d[f].cells.length>e.cells.length&&(e=d[f]);this.createColGroup(e);this.convertHeaders(c);this.removeAttributes(a[g]);this.removeParagraphs(a.eq(g).find("td,th"));this.removeDefaultColors(a.eq(g).find("span"))}},headers:function(a){a=b(a).find("p.MsoTitle");for(var d=0;d<a.length;d++)y.changeTag(a[d],"h1")},clean:function(a){a=w.fn.clean.call(this,a);a=this.stripEmptyAnchors(a);a=y.create(document,"div",{innerHTML:a});this.headers(a);this.lists(a);this.tables(a);return a=a.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}}),G=w.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"\x3c$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(a){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(a)}}),B=m.extend({init:function(a){m.fn.init.call(this,a);this.managesUndoRedo=!0},exec:function(){var a=this.editor;q.support.browser.msie?a.document.execCommand("print",!1,null):a.window.print&&a.window.print()}}),P=m.extend({init:function(a){this.async=!0;m.fn.init.call(this,a)},exec:function(){var a=this,b=this.lockRange(!0);this.editor.saveAsPDF().then(function(){a.releaseRange(b)})}});t(u,{_finishUpdate:k,Command:m,GenericCommand:e,InsertHtmlCommand:h,InsertHtmlTool:p,TypingHandler:n,SystemHandler:f,BackspaceHandler:D,Keyboard:l,Clipboard:c,Cleaner:w,TabCleaner:d,MSWordFormatCleaner:g,WebkitFormatCleaner:G,PrintCommand:B,ExportPdfCommand:P});C("insertHtml",new p({template:new A({template:z.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}));C("print",new F({command:B,template:new A({template:z.buttonTemplate,title:"Print"})}));C("pdf",new F({command:P,template:new A({template:z.buttonTemplate,title:"Export PDF"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/inlineformat",["editor/system"],b)})(function(){(function(b){var k=window.kendo,q=k.Class,B=k.ui.editor,u=k.ui.Editor.fn.options.formats,z=B.EditorUtils,C=B.Tool,y=B.ToolTemplate,F=B.FormatTool,A=B.Dom,E=B.RangeUtils,x=b.extend,t=B.EditorUtils.registerTool,m=B.EditorUtils.registerFormat,e=q.extend({init:function(b){this.format=b},numberOfSiblings:function(b){var c=0,a=0,d=0,e=b.parentNode,f;for(f=e.firstChild;f;f=f.nextSibling)f!=b&&("k-marker"==f.className?d++:3==f.nodeType?c++:a++);return 1<d&&"k-marker"==e.firstChild.className&&"k-marker"==e.lastChild.className?0:a+c},findSuitable:function(b,e){if(!e&&0<this.numberOfSiblings(b))return null;for(var a=b.parentNode,d=this.format[0].tags;!A.ofType(a,d);){if(0<this.numberOfSiblings(a))return null;a=a.parentNode}return a},findFormat:function(b){var c=this.format,a=A.attrEquals,d,e,f,l,h;d=0;for(e=c.length;d<e;d++){f=b;l=c[d].tags;h=c[d].attr;if(f&&A.ofType(f,l)&&a(f,h))return f;for(;f;)if((f=A.parentOfType(f,l))&&a(f,h))return f}return null},isFormatted:function(b){var c,a;c=0;for(a=b.length;c<a;c++)if(this.findFormat(b[c]))return!0;return!1}}),h=q.extend({init:function(b,f){this.finder=new e(b);this.attributes=x({},b[0].attr,f);this.tag=b[0].tags[0]},wrap:function(b){return A.wrap(b,A.create(b.ownerDocument,this.tag,this.attributes))},activate:function(b,e){this.finder.isFormatted(e)?(this.split(b),this.remove(e)):this.apply(e)},toggle:function(b){var c=E.textNodes(b);0<c.length&&this.activate(b,c)},apply:function(b){var c=[],a,d,e,f;a=0;for(d=b.length;a<d;a++){e=b[a];if(f=this.finder.findSuitable(e))A.attr(f,this.attributes);else{for(;!A.isBlock(e.parentNode)&&1==e.parentNode.childNodes.length;)e=e.parentNode;f=this.wrap(e)}c.push(f)}this.consolidate(c)},remove:function(b){var c,a,d;c=0;for(a=b.length;c<a;c++)if(d=this.finder.findFormat(b[c]))this.attributes&&this.attributes.style?(A.unstyle(d,this.attributes.style),d.style.cssText||d.attributes["class"]||A.unwrap(d)):A.unwrap(d)},split:function(b){var c=E.textNodes(b),a=c.length,d,e;if(0<a)for(d=0;d<a;d++)(e=this.finder.findFormat(c[d]))&&E.split(b,e,!0)},consolidate:function(b){for(var c,a;1<b.length;)if(c=b.pop(),a=b[b.length-1],c.previousSibling&&"k-marker"==c.previousSibling.className&&a.appendChild(c.previousSibling),c.tagName==a.tagName&&c.previousSibling==a&&c.style.cssText==a.style.cssText){for(;c.firstChild;)a.appendChild(c.firstChild);A.remove(c)}}}),p=e.extend({init:function(b,f){this.format=b;this.greedyProperty=f;e.fn.init.call(this,b)},getInlineCssValue:function(c){var e=c.attributes,a=b.trim,d,g,f,l,h,m,n;if(e)for(d=0,g=e.length;d<g;d++)if(f=e[d],l=f.nodeName,h=f.nodeValue,f.specified&&"style"==l)for(f=a(h||c.style.cssText).split(";"),l=0,h=f.length;l<h;l++)if(m=f[l],m.length&&(n=m.split(":"),m=a(n[0].toLowerCase()),n=a(n[1]),m==this.greedyProperty))return 0<=m.indexOf("color")?A.toHex(n):n},getFormatInner:function(c){c=b(A.isDataNode(c)?c.parentNode:c).parentsUntil("[contentEditable]").addBack().toArray().reverse();var e,a,d;e=0;for(a=c.length;e<a;e++)if(d="className"==this.greedyProperty?c[e].className:this.getInlineCssValue(c[e]))return d;return"inherit"},getFormat:function(b){var c=this.getFormatInner(b[0]),a,d;a=1;for(d=b.length;a<d;a++)if(c!=this.getFormatInner(b[a]))return"";return c},isFormatted:function(b){return""!==this.getFormat(b)}}),n=h.extend({init:function(b,e,a){h.fn.init.call(this,b,e);this.values=e;this.finder=new p(b,a);a&&(this.greedyProperty=k.toCamelCase(a))},activate:function(b,e){var a=this.greedyProperty,d="apply";this.split(b);a&&"inherit"==this.values.style[a]&&(d="remove");this[d](e)}}),q=F.extend({init:function(b){F.fn.init.call(this,x(b,{finder:new e(b.format),formatter:function(){return new h(b.format)}}))}}),D=C.extend({update:function(b,e){var a=b.data(this.type);a.close();a.value(this.finder.getFormat(e))}}),f=D.extend({init:function(b){C.fn.init.call(this,b);this.type=k.support.browser.msie||k.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span"]}];this.finder=new p(this.format,b.cssAttr)},command:function(b){var c=this.options,a=this.format,d={};return new B.FormatCommand(x(b,{formatter:function(){d[c.domAttr]=b.value;return new n(a,{style:d},c.cssAttr)}}))},initialize:function(b,e){var a=e.editor,d=this.options,c=d.name,f=[];d.defaultValue&&(f=[{text:a.options.messages[d.defaultValue[0].text],value:d.defaultValue[0].value}]);d=f.concat(d.items?d.items:a.options[c]||[]);b.attr({title:e.title});b[this.type]({dataTextField:"text",dataValueField:"value",dataSource:d,change:function(){C.exec(a,c,this.value())},highlightFirst:!1});b.closest(".k-widget").removeClass("k-"+c).find("*").addBack().attr("unselectable","on");b.data(this.type).value("inherit")}}),l=C.extend({init:function(b){C.fn.init.call(this,b);this.format=[{tags:["span"]}];this.finder=new p(this.format,b.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(b){var c=this.options,a=this.format,d={};return new B.FormatCommand(x(b,{formatter:function(){d[c.domAttr]=b.value;return new n(a,{style:d},c.cssAttr)}}))},initialize:function(b,e){var a=e.editor,d=this.name,c=x({},l.fn.options,this.options);b=this._widget=new k.ui.ColorPicker(b,{toolIcon:"k-"+c.name,palette:c.palette,change:function(){var c=b.value();c&&C.exec(a,d,c);a.focus()},activate:function(a){a.preventDefault();b.trigger("change")}});b.wrapper.attr({title:e.title,unselectable:"on"}).find("*").attr("unselectable","on")}});x(B,{InlineFormatFinder:e,InlineFormatter:h,DelayedExecutionTool:D,GreedyInlineFormatFinder:p,GreedyInlineFormatter:n,InlineFormatTool:q,FontTool:f,ColorTool:l});m("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);t("bold",new q({key:"B",ctrl:!0,format:u.bold,template:new y({template:z.buttonTemplate,title:"Bold"})}));m("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);t("italic",new q({key:"I",ctrl:!0,format:u.italic,template:new y({template:z.buttonTemplate,title:"Italic"})}));m("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);t("underline",new q({key:"U",ctrl:!0,format:u.underline,template:new y({template:z.buttonTemplate,title:"Underline"})}));m("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);t("strikethrough",new q({format:u.strikethrough,template:new y({template:z.buttonTemplate,title:"Strikethrough"})}));m("superscript",[{tags:["sup"]}]);t("superscript",new q({format:u.superscript,template:new y({template:z.buttonTemplate,title:"Superscript"})}));m("subscript",[{tags:["sub"]}]);t("subscript",new q({format:u.subscript,template:new y({template:z.buttonTemplate,title:"Subscript"})}));t("foreColor",new l({cssAttr:"color",domAttr:"color",name:"foreColor",template:new y({template:z.colorPickerTemplate,title:"Color"})}));t("backColor",new l({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new y({template:z.colorPickerTemplate,title:"Background Color"})}));t("fontName",new f({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new y({template:z.comboBoxTemplate,title:"Font Name"})}));t("fontSize",new f({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new y({template:z.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/formatblock",["editor/inlineformat"],b)})(function(){(function(b){var k=window.kendo,q=k.Class,B=b.extend,u=k.ui.editor,k=k.ui.Editor.fn.options.formats,z=u.Dom,C=u.Command,y=u.ToolTemplate,F=u.FormatTool,A=u.EditorUtils,E=A.registerTool,x=A.registerFormat,t=u.RangeUtils,m=q.extend({init:function(b){this.format=b},contains:function(b,e){var f,l,c;f=0;for(l=e.length;f<l;f++)if(c=e[f],!c||!z.isAncestorOrSelf(b,c))return!1;return!0},findSuitable:function(e){var h=this.format,f=[],l,c,m;l=0;for(c=e.length;l<c;l++){for(var a=h.length-1;0<=a&&!(m=z.ofType(e[l],h[a].tags)?e[l]:z.closestEditableOfType(e[l],h[a].tags));a--);if(!m||"true"===m.contentEditable)return[];0>b.inArray(m,f)&&f.push(m)}l=0;for(c=f.length;l<c;l++)if(this.contains(f[l],f))return[f[l]];return f},findFormat:function(b){var e=this.format,f,l,c,h,a,d=z.editableParent(b);f=0;for(l=e.length;f<l;f++)for(c=b,h=e[f].tags,a=e[f].attr;c&&z.isAncestorOf(d,c);){if(z.ofType(c,h)&&z.attrEquals(c,a))return c;c=c.parentNode}return null},getFormat:function(b){var e=this,f=function(a){return e.findFormat(z.isDataNode(a)?a.parentNode:a)},l=f(b[0]),c,h;if(!l)return"";c=1;for(h=b.length;c<h;c++)if(l!=f(b[c]))return"";return l.nodeName.toLowerCase()},isFormatted:function(b){for(var e=0,f=b.length;e<f;e++)if(!this.findFormat(b[e]))return!1;return!0}}),e=q.extend({init:function(b,e){this.format=b;this.values=e;this.finder=new m(b)},wrap:function(b,e,f){f=1==f.length?z.blockParentOrBody(f[0]):z.commonAncestor.apply(null,f);z.isInline(f)&&(f=z.blockParentOrBody(f));var l=z.significantChildNodes(f),c=z.findNodeIndex(l[0]);b=z.create(f.ownerDocument,b,e);var h,a;for(h=0;h<l.length;h++)a=l[h],z.isBlock(a)?(z.attr(a,e),b.childNodes.length&&(z.insertBefore(b,a),b=b.cloneNode(!1)),c=z.findNodeIndex(a)+1):b.appendChild(a);b.firstChild&&z.insertAt(f,b,c)},apply:function(e){var h=this.values,f=z.filter("img",e),l=A.formatByName("img",this.format),c=B({},l&&l.attr,h);b.each(f,function(){z.attr(this,c)});if(f.length!=e.length)if(l=z.filter("img",e,!0),f=this.finder.findSuitable(l),f.length)for(var l=0,m=f.length;l<m;l++)e=A.formatByName(z.name(f[l]),this.format),z.attr(f[l],B({},e&&e.attr,h));else e=this.format[0],this.wrap(e.tags[0],B({},e&&e.attr,h),l)},remove:function(b){var e,f,l,c;e=0;for(f=b.length;e<f;e++)if(l=this.finder.findFormat(b[e]))c=z.name(l),"div"!=c||l.getAttribute("class")?(c=A.formatByName(c,this.format),c.attr.style&&z.unstyle(l,c.attr.style),c.attr.className&&z.removeClass(l,c.attr.className)):z.unwrap(l)},toggle:function(b){b=t.nodes(b);this.finder.isFormatted(b)?this.remove(b):this.apply(b)}}),h=q.extend({init:function(b,e){this.format=b;this.values=e;this.finder=new m(b)},apply:function(b){var h=this.format,f=z.blockParents(b),l=h[0].tags[0],c,m,a;if(f.length)for(b=0,c=f.length;b<c;b++)m=z.name(f[b]),"li"==m?(m=f[b].parentNode,m=new u.ListFormatter(m.nodeName.toLowerCase(),l),a=this.editor.createRange(),a.selectNode(f[b]),m.toggle(a)):l&&("td"==m||f[b].attributes.contentEditable)?(new e(h,this.values)).apply(f[b].childNodes):(m=z.changeTag(f[b],l),z.attr(m,h[0].attr));else(new e(h,this.values)).apply(b)},toggle:function(b){var e=t.textNodes(b);e.length||(b.selectNodeContents(b.commonAncestorContainer),e=t.textNodes(b),e.length||(e=z.significantChildNodes(b.commonAncestorContainer)));this.apply(e)}}),p=C.extend({init:function(b){b.formatter=b.formatter();C.fn.init.call(this,b)}}),q=F.extend({init:function(b){F.fn.init.call(this,B(b,{finder:new m(b.format),formatter:function(){return new e(b.format)}}))}});B(u,{BlockFormatFinder:m,BlockFormatter:e,GreedyBlockFormatter:h,FormatCommand:p,BlockFormatTool:q});h=["ul","ol","li"];x("justifyLeft",[{tags:z.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}},{tags:h,attr:{style:{textAlign:"left",listStylePosition:""}}}]);E("justifyLeft",new q({format:k.justifyLeft,template:new y({template:A.buttonTemplate,title:"Justify Left"})}));x("justifyCenter",[{tags:z.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:h,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);E("justifyCenter",new q({format:k.justifyCenter,template:new y({template:A.buttonTemplate,title:"Justify Center"})}));x("justifyRight",[{tags:z.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:h,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);E("justifyRight",new q({format:k.justifyRight,template:new y({template:A.buttonTemplate,title:"Justify Right"})}));x("justifyFull",[{tags:z.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:h,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);E("justifyFull",new q({format:k.justifyFull,template:new y({template:A.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/linebreak",["editor/formatblock"],b)})(function(){(function(b){var k=window.kendo,q=b.extend,B=k.ui.editor,u=B.Dom,z=B.Command,C=B.Tool,y=B.BlockFormatter,F=u.normalize,A=B.RangeUtils,E=B.EditorUtils.registerTool,x=z.extend({init:function(b){this.options=b;z.fn.init.call(this,b)},_insertMarker:function(b,e){var h=u.create(b,"a"),m;h.className="k-marker";e.insertNode(h);h.parentNode||(m=e.commonAncestorContainer,m.innerHTML="",m.appendChild(h));F(h.parentNode);return h},_moveFocus:function(b,e){if(u.isEmpty(e))b.setStartBefore(e);else{b.selectNodeContents(e);var h=A.textNodes(b)[0];if(!h){for(;e.childNodes.length&&!u.is(e.firstChild,"br");)e=e.firstChild;h=e}u.isEmpty(h)?b.setStartBefore(h):(u.emptyNode(h)&&(h.innerHTML="\ufeff"),b.setStartBefore(h.firstChild||h))}},shouldTrim:function(b){var e="p h1 h2 h3 h4 h5 h6".split(" "),h=u.parentOfType(b.startContainer,e);b=u.parentOfType(b.endContainer,e);return h&&!b||!h&&b},_blankAfter:function(b){for(;b&&(u.isMarker(b)||""===u.stripBom(b.nodeValue));)b=b.nextSibling;return!b},exec:function(){var b=this.getRange(),e=A.documentFromRange(b),h,p,n;h=B.emptyElementContent;var t,f,l;p=this.shouldTrim(b);b.deleteContents();t=this._insertMarker(e,b);f=u.closestEditableOfType(t,["li"]);l=u.closestEditableOfType(t,"h1 h2 h3 h4 h5 h6".split(" "));f?u.emptyNode(f)&&(n=u.create(e,"p"),f.nextSibling&&(e=b.cloneRange(),e.selectNode(f),A.split(e,f.parentNode)),u.insertAfter(n,f.parentNode),u.remove(1==f.parentNode.childNodes.length?f.parentNode:f),n.innerHTML=h):l&&this._blankAfter(t)&&(n=u.create(e,"p"),u.insertAfter(n,l),n.innerHTML=h,u.remove(t));n||(f||l||(new y([{tags:["p"]}])).apply([t]),b.selectNode(t),h=u.parentOfType(t,[f?"li":l?u.name(l):"p"]),A.split(b,h,p),p=h.previousSibling,u.is(p,"li")&&p.firstChild&&!u.is(p.firstChild,"br")&&(p=p.firstChild),n=h.nextSibling,this.clean(p),this.clean(n,{links:!0}),u.is(n,"li")&&n.firstChild&&!u.is(n.firstChild,"br")&&(n=n.firstChild),u.remove(h),F(p));F(n);this._moveFocus(b,n);b.collapse(!0);u.scrollTo(n);A.selectRange(b)},clean:function(m,e){var h=m;m.firstChild&&u.is(m.firstChild,"br")&&u.remove(m.firstChild);u.isDataNode(m)&&!m.nodeValue&&(m=m.parentNode);if(m){for(var p=!1;m.firstChild&&1==m.firstChild.nodeType;)p=p||1<u.significantNodes(m.childNodes).length,m=m.firstChild;u.isEmpty(m)||!/^\s*$/.test(m.innerHTML)||p||(b(h).find(".k-br").remove(),m.innerHTML=B.emptyElementContent);if(e&&e.links)for(;m!=h;){if(u.is(m,"a")&&u.emptyNode(m)){u.unwrap(m);break}m=m.parentNode}}}}),t=z.extend({init:function(b){this.options=b;z.fn.init.call(this,b)},exec:function(){var b=this.getRange(),e=u.create(A.documentFromRange(b),"br"),h;h=k.support.browser;h=h.msie&&11>h.version;b.deleteContents();b.insertNode(e);F(e.parentNode);h||e.nextSibling&&!u.isWhitespace(e.nextSibling)||(h=e.cloneNode(!0),h.className="k-br",u.insertAfter(h,e));b.setStartAfter(e);b.collapse(!0);u.scrollTo(e.nextSibling||e);A.selectRange(b)}});q(B,{ParagraphCommand:x,NewLineCommand:t});E("insertLineBreak",new C({key:13,shift:!0,command:t}));E("insertParagraph",new C({key:13,command:x}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/lists",["editor/linebreak"],b)})(function(){(function(b){var k=window.kendo,q=k.Class,B=b.extend,k=k.ui.editor,u=k.Dom,z=k.RangeUtils,C=k.EditorUtils,y=k.Command,F=k.ToolTemplate,A=k.FormatTool,E=k.BlockFormatFinder,x=z.textNodes,t=k.EditorUtils.registerTool,m=E.extend({init:function(b){this.tag=b;b=this.tags=["ul"==b?"ol":"ul",b];E.fn.init.call(this,[{tags:b}])},isFormatted:function(b){var e=[],h,f;for(f=0;f<b.length;f++)(h=this.findFormat(b[f]))&&u.name(h)==this.tag&&e.push(h);if(1>e.length||e.length!=b.length)return!1;for(f=0;f<e.length&&e[f].parentNode==h.parentNode;f++)if(e[f]!=h)return!1;return!0},findSuitable:function(b){return(b=this.findFormat(b[0]))&&u.name(b)==this.tag?b:null}}),e=q.extend({init:function(b,e){this.finder=new m(b);this.tag=b;this.unwrapTag=e},isList:function(b){b=u.name(b);return"ul"==b||"ol"==b||"dl"==b},wrap:function(b,e){var h=u.create(b.ownerDocument,"li"),f,l;for(f=0;f<e.length;f++)if(l=e[f],u.is(l,"li"))b.appendChild(l);else if(this.isList(l))for(;l.firstChild;)b.appendChild(l.firstChild);else if(u.is(l,"td")){for(;l.firstChild;)h.appendChild(l.firstChild);b.appendChild(h);l.appendChild(b);b=b.cloneNode(!1);h=h.cloneNode(!1)}else h.appendChild(l),u.isBlock(l)&&(b.appendChild(h),u.unwrap(l),h=h.cloneNode(!1));h.firstChild&&b.appendChild(h)},containsAny:function(b,e){for(var h=0;h<e.length;h++)if(u.isAncestorOrSelf(b,e[h]))return!0;return!1},suitable:function(b,e){if("k-marker"==b.className){var h=b.nextSibling;if(h&&u.isBlock(h)||(h=b.previousSibling)&&u.isBlock(h))return!1}return this.containsAny(b,e)||u.isInline(b)||3==b.nodeType},_parentLists:function(e){var h=u.closestEditable(e);return b(e).parentsUntil(h,"ul,ol")},split:function(b){var e=x(b),h,f;if(e.length){h=u.parentOfType(e[0],["li"]);f=u.parentOfType(e[e.length-1],["li"]);b.setStartBefore(h);b.setEndAfter(f);f=0;for(var l=e.length;f<l;f++){var c=this.finder.findFormat(e[f]);c&&(h=this._parentLists(c),h.length?z.split(b,h.last()[0],!0):z.split(b,c,!0))}}},merge:function(b,e){for(var h=e.previousSibling;h&&("k-marker"==h.className||3==h.nodeType&&u.isWhitespace(h));)h=h.previousSibling;if(h&&u.name(h)==b){for(;e.firstChild;)h.appendChild(e.firstChild);u.remove(e);e=h}for(h=e.nextSibling;h&&("k-marker"==h.className||3==h.nodeType&&u.isWhitespace(h));)h=h.nextSibling;if(h&&u.name(h)==b){for(;e.lastChild;)h.insertBefore(e.lastChild,h.firstChild);u.remove(e)}},breakable:function(b){return b!=b.ownerDocument.body&&!/table|tbody|tr|td/.test(u.name(b))&&!b.attributes.contentEditable},applyOnSection:function(e,h){function n(){c.push(this)}var f=this.tag,l=u.closestSplittableParent(h),c=[],p=this.finder.findSuitable(h);p||(p=(new m("ul"==f?"ol":"ul")).findSuitable(h));var a;/table|tbody/.test(u.name(l))?a=b.map(h,function(a){return u.parentOfType(a,["td"])}):(a=u.significantChildNodes(l),b.grep(a,u.isBlock).length&&(a=b.grep(a,b.proxy(function(a){return this.containsAny(a,h)},this))),a.length||(a=h));for(var d=0;d<a.length;d++){var g=a[d];p&&u.isAncestorOrSelf(p,g)||!this.suitable(g,h)||(p&&this.isList(g)?(b.each(g.childNodes,n),u.remove(g)):c.push(g))}c.length==a.length&&this.breakable(l)&&(c=[l]);p||(p=u.create(l.ownerDocument,f),u.insertBefore(p,c[0]));this.wrap(p,c);u.is(p,f)||u.changeTag(p,f);this.merge(f,p)},apply:function(b){var e=0,h=[],f,l,c;do c=u.closestEditable(b[e],["td","body"]),f&&c==f?l.push(b[e]):(f&&h.push({section:f,nodes:l}),l=[b[e]],f=c),e++;while(e<b.length);h.push({section:f,nodes:l});for(e=0;e<h.length;e++)this.applyOnSection(h[e].section,h[e].nodes)},unwrap:function(b){var e=b.ownerDocument.createDocumentFragment(),h=this.unwrapTag,f,l,c;for(f=b.firstChild;f;f=f.nextSibling){for(l=u.create(b.ownerDocument,h||"p");f.firstChild;)c=f.firstChild,u.isBlock(c)?(l.firstChild&&(e.appendChild(l),l=u.create(b.ownerDocument,h||"p")),e.appendChild(c)):l.appendChild(c);l.firstChild&&e.appendChild(l)}h=this._parentLists(b);h[0]?(u.insertAfter(e,h.last()[0]),h.last().remove()):u.insertAfter(e,b);u.remove(b)},remove:function(b){for(var e,h=0,f=b.length;h<f;h++)(e=this.finder.findFormat(b[h]))&&this.unwrap(e)},toggle:function(b){var e=x(b),h=b.commonAncestorContainer;e.length||(b.selectNodeContents(h),e=x(b),e.length||(h=h.ownerDocument.createTextNode(""),b.startContainer.appendChild(h),e=[h],b.selectNode(h.parentNode)));this.finder.isFormatted(e)?(this.split(b),this.remove(e)):this.apply(e)}}),h=y.extend({init:function(b){b.formatter=new e(b.tag);y.fn.init.call(this,b)}}),q=A.extend({init:function(b){this.options=b;A.fn.init.call(this,B(b,{finder:new m(b.tag)}))},command:function(b){return new h(B(b,{tag:this.options.tag}))}});B(k,{ListFormatFinder:m,ListFormatter:e,ListCommand:h,ListTool:q});t("insertUnorderedList",new q({tag:"ul",template:new F({template:C.buttonTemplate,title:"Insert unordered list"})}));t("insertOrderedList",new q({tag:"ol",template:new F({template:C.buttonTemplate,title:"Insert ordered list"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/link",["editor/lists"],b)})(function(){(function(b,k){var q=window.kendo,B=q.Class,u=b.extend,z=b.proxy,C=q.ui.editor,y=C.Dom,F=C.RangeUtils,A=C.EditorUtils,E=C.Command,x=C.Tool,t=C.ToolTemplate,m=C.InlineFormatter,e=C.InlineFormatFinder,h=F.textNodes,C=C.EditorUtils.registerTool,p=B.extend({findSuitable:function(b){return y.parentOfType(b,["a"])}}),n=B.extend({init:function(){this.finder=new p},apply:function(b,c){var e=h(b),a,d,g;if(c.innerHTML){a=F.documentFromRange(b);e=F.getMarkers(b);b.deleteContents();d=y.create(a,"a",c);b.insertNode(d);g=d.parentNode;"a"==y.name(g)&&y.insertAfter(d,g);y.emptyNode(g)&&y.remove(g);for(g=0;g<e.length;g++)y.insertAfter(e[g],d),d=e[g];e.length&&(y.insertBefore(a.createTextNode("\ufeff"),e[1]),y.insertAfter(a.createTextNode("\ufeff"),e[1]),b.setStartBefore(e[0]),b.setEndAfter(e[e.length-1]))}else a=new m([{tags:["a"]}],c),a.finder=this.finder,a.apply(e)}}),D=E.extend({init:function(b){b.formatter={toggle:function(b){(new m([{tags:["a"]}])).remove(h(b))}};this.options=b;E.fn.init.call(this,b)}}),B=E.extend({init:function(b){this.options=b;E.fn.init.call(this,b);this.formatter=new n;b.url?this.exec=function(){this.formatter.apply(b.range,{href:b.url,innerHTML:b.text||b.url,target:b.target})}:(this.attributes=null,this.async=!0)},_dialogTemplate:function(){return q.template("\x3cdiv class\x3d\"k-editor-dialog k-popup-edit-form k-edit-form-container\"\x3e\x3cdiv class\x3d'k-edit-label'\x3e\x3clabel for\x3d'k-editor-link-url'\x3e#: messages.linkWebAddress #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-field'\x3e\x3cinput type\x3d'text' class\x3d'k-input k-textbox' id\x3d'k-editor-link-url'\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-label k-editor-link-text-row'\x3e\x3clabel for\x3d'k-editor-link-text'\x3e#: messages.linkText #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-field k-editor-link-text-row'\x3e\x3cinput type\x3d'text' class\x3d'k-input k-textbox' id\x3d'k-editor-link-text'\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-label'\x3e\x3clabel for\x3d'k-editor-link-title'\x3e#: messages.linkToolTip #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-field'\x3e\x3cinput type\x3d'text' class\x3d'k-input k-textbox' id\x3d'k-editor-link-title'\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-label'\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-field'\x3e\x3cinput type\x3d'checkbox' class\x3d'k-checkbox' id\x3d'k-editor-link-target'\x3e\x3clabel for\x3d'k-editor-link-target' class\x3d'k-checkbox-label'\x3e#: messages.linkOpenInNewWindow #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d'k-edit-buttons k-state-default'\x3e\x3cbutton class\x3d\"k-dialog-insert k-button k-primary\"\x3e#: messages.dialogInsert #\x3c/button\x3e\x3cbutton class\x3d\"k-dialog-close k-button\"\x3e#: messages.dialogCancel #\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e")({messages:this.editor.options.messages})},exec:function(){var e=this.editor.options.messages;this._initialText="";this._range=this.lockRange(!0);var c=h(this._range),f=c.length?this.formatter.finder.findSuitable(c[0]):null,a=c.length&&"img"==y.name(c[0]),e=this.createDialog(this._dialogTemplate(),{title:e.createLink,close:z(this._close,this),visible:!1});f&&(this._range.selectNodeContents(f),c=h(this._range));this._initialText=this.linkText(c);e.find(".k-dialog-insert").click(z(this._apply,this)).end().find(".k-dialog-close").click(z(this._close,this)).end().find(".k-edit-field input").keydown(z(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(f)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(f?f.title:"").end().find("#k-editor-link-target").attr("checked",f?"_blank"==f.target:!1).end().find(".k-editor-link-text-row").toggle(!a);this._dialog=e.data("kendoWindow").center().open();b("#k-editor-link-url",e).focus().select()},_keydown:function(b){var c=q.keys;b.keyCode==c.ENTER?this._apply(b):b.keyCode==c.ESC&&this._close(b)},_apply:function(e){var c=this._dialog.element,f=b("#k-editor-link-url",c).val(),a,d=b("#k-editor-link-text",c);if(f&&"http://"!=f){0<f.indexOf("@")&&!/^(\w+:)|(\/\/)/i.test(f)&&(f="mailto:"+f);this.attributes={href:f};if(a=b("#k-editor-link-title",c).val())this.attributes.title=a;d.is(":visible")&&((a=d.val(),a||this._initialText)?a&&a!==this._initialText&&(this.attributes.innerHTML=y.stripBom(a)):this.attributes.innerHTML=f);c=b("#k-editor-link-target",c).is(":checked");this.attributes.target=c?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(e);this.change&&this.change()},_close:function(b){b.preventDefault();this._dialog.destroy();y.windowFromDocument(F.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(b){return b?b.getAttribute("href",2):"http://"},linkText:function(b){var c="",e;for(e=0;e<b.length;e++)c+=b[e].nodeValue;return y.stripBom(c||"")},redo:function(){var b=this.lockRange(!0);this.formatter.apply(b,this.attributes);this.releaseRange(b)}}),f=x.extend({init:function(f){this.options=f;this.finder=new e([{tags:["a"]}]);x.fn.init.call(this,b.extend(f,{command:D}))},initialize:function(b,c){x.fn.initialize.call(this,b,c);b.addClass("k-state-disabled")},update:function(b,c){b.toggleClass("k-state-disabled",!this.finder.isFormatted(c)).removeClass("k-state-hover")}});u(q.ui.editor,{LinkFormatFinder:p,LinkFormatter:n,UnlinkCommand:D,LinkCommand:B,UnlinkTool:f});C("createLink",new x({key:"K",ctrl:!0,command:B,template:new t({template:A.buttonTemplate,title:"Create Link"})}));C("unlink",new f({key:"K",ctrl:!0,shift:!0,template:new t({template:A.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/file",["kendo.filebrowser","editor/link"],b)})(function(){(function(b,k){var q=window.kendo,B=b.extend,u=q.ui.editor,z=u.EditorUtils,C=u.Dom,y=z.registerTool,F=u.ToolTemplate,A=u.RangeUtils,E=u.Command,x=u.LinkFormatter,t=A.textNodes,m=q.keys,e=E.extend({init:function(b){E.fn.init.call(this,b);this.formatter=new x;this.async=!0;this.attributes={}},insertFile:function(b,e){var h=this.attributes,m=A.documentFromRange(e);if(h.href&&"http://"!=h.href)if(b)C.attr(b,h);else return b=C.create(m,"a",{href:h.href}),b.innerHTML=h.innerHTML,e.deleteContents(),e.insertNode(b),b.nextSibling||C.insertAfter(m.createTextNode("\ufeff"),b),e.setStartAfter(b),e.setEndAfter(b),A.selectRange(e),!0;return!1},_dialogTemplate:function(b){return q.template('\x3cdiv class\x3d"k-editor-dialog k-popup-edit-form k-edit-form-container"\x3e# if (showBrowser) { #\x3cdiv class\x3d"k-filebrowser"\x3e\x3c/div\x3e# } #\x3cdiv class\x3d\'k-edit-label\'\x3e\x3clabel for\x3d"k-editor-file-url"\x3e#: messages.fileWebAddress #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-field\'\x3e\x3cinput type\x3d"text" class\x3d"k-input k-textbox" id\x3d"k-editor-file-url"\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-label\'\x3e\x3clabel for\x3d"k-editor-file-title"\x3e#: messages.fileTitle #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-field\'\x3e\x3cinput type\x3d"text" class\x3d"k-input k-textbox" id\x3d"k-editor-file-title"\x3e\x3c/div\x3e\x3cdiv class\x3d"k-edit-buttons k-state-default"\x3e\x3cbutton class\x3d"k-dialog-insert k-button k-primary"\x3e#: messages.dialogInsert #\x3c/button\x3e\x3cbutton class\x3d"k-dialog-close k-button"\x3e#: messages.dialogCancel #\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e')({messages:this.editor.options.messages,showBrowser:b})},redo:function(){var b=this.lockRange();this.formatter.apply(b,this.attributes);this.releaseRange(b)},exec:function(){function b(a){var b=w.element,d=b.find("#k-editor-file-url").val().replace(/ /g,"%20"),b=b.find("#k-editor-file-title").val();n.attributes={href:d,innerHTML:""!==b?b:d};l=n.insertFile(c,x);e(a);n.change&&n.change()}function e(a){a.preventDefault();w.destroy();C.windowFromDocument(A.documentFromRange(x)).focus();l||n.releaseRange(x)}var n=this,x=n.lockRange(),f=t(x),l=!1,c=f.length?this.formatter.finder.findSuitable(f[0]):null,w,a=n.editor.options,f=a.fileBrowser,d=!!(q.ui.FileBrowser&&f&&f.transport&&f.transport.read!==k),a={title:a.messages.insertFile,visible:!1,resizable:d};a.close=e;d&&(a.width=750);w=this.createDialog(n._dialogTemplate(d),a).toggleClass("k-filebrowser-dialog",d).find(".k-dialog-insert").click(b).end().find(".k-dialog-close").click(e).end().find(".k-edit-field input").keydown(function(a){a.keyCode==m.ENTER?b(a):a.keyCode==m.ESC&&e(a)}).end().find("#k-editor-file-url").val(c?c.getAttribute("href",2):"http://").end().find("#k-editor-file-title").val(c?c.title:"").end().data("kendoWindow");d&&(n._fileBrowser=new q.ui.FileBrowser(w.element.find(".k-filebrowser"),B({},f,{change:function(){w.element.find("#k-editor-file-url").val(this.value())},apply:b})));w.center().open();w.element.find("#k-editor-file-url").focus().select()}});q.ui.editor.FileCommand=e;y("insertFile",new u.Tool({command:e,template:new F({template:z.buttonTemplate,title:"Insert File"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/image",["kendo.imagebrowser","editor/link"],b)})(function(){(function(b,k){var q=window.kendo,B=b.extend,u=q.ui.editor,z=u.EditorUtils,C=u.Dom,y=z.registerTool,F=u.ToolTemplate,A=u.RangeUtils,E=u.Command,x=q.keys,t=E.extend({init:function(b){E.fn.init.call(this,b);this.async=!0;this.attributes={}},insertImage:function(b,e){var h=this.attributes,m=A.documentFromRange(e);if(h.src&&"http://"!=h.src){var n=function(){setTimeout(function(){h.width||b.removeAttribute("width");h.height||b.removeAttribute("height");b.removeAttribute("complete")})};if(b)b.onload=b.onerror=n,C.attr(b,h),n();else return b=C.create(m,"img",h),b.onload=b.onerror=n,e.deleteContents(),e.insertNode(b),b.nextSibling||C.insertAfter(m.createTextNode("\ufeff"),b),n(),e.setStartAfter(b),e.setEndAfter(b),A.selectRange(e),!0}return!1},_dialogTemplate:function(b){return q.template('\x3cdiv class\x3d"k-editor-dialog k-popup-edit-form k-edit-form-container"\x3e# if (showBrowser) { #\x3cdiv class\x3d"k-filebrowser k-imagebrowser"\x3e\x3c/div\x3e# } #\x3cdiv class\x3d\'k-edit-label\'\x3e\x3clabel for\x3d"k-editor-image-url"\x3e#: messages.imageWebAddress #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-field\'\x3e\x3cinput type\x3d"text" class\x3d"k-input k-textbox" id\x3d"k-editor-image-url"\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-label\'\x3e\x3clabel for\x3d"k-editor-image-title"\x3e#: messages.imageAltText #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-field\'\x3e\x3cinput type\x3d"text" class\x3d"k-input k-textbox" id\x3d"k-editor-image-title"\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-label\'\x3e\x3clabel for\x3d"k-editor-image-width"\x3e#: messages.imageWidth #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-field\'\x3e\x3cinput type\x3d"text" class\x3d"k-input k-textbox" id\x3d"k-editor-image-width"\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-label\'\x3e\x3clabel for\x3d"k-editor-image-height"\x3e#: messages.imageHeight #\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d\'k-edit-field\'\x3e\x3cinput type\x3d"text" class\x3d"k-input k-textbox" id\x3d"k-editor-image-height"\x3e\x3c/div\x3e\x3cdiv class\x3d"k-edit-buttons k-state-default"\x3e\x3cbutton class\x3d"k-dialog-insert k-button k-primary"\x3e#: messages.dialogInsert #\x3c/button\x3e\x3cbutton class\x3d"k-dialog-close k-button"\x3e#: messages.dialogCancel #\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e')({messages:this.editor.options.messages,showBrowser:b})},redo:function(){var b=this.lockRange();this.insertImage(A.image(b),b)||this.releaseRange(b)},exec:function(){function b(a){var b=c.element,d=parseInt(b.find("#k-editor-image-width").val(),10),g=parseInt(b.find("#k-editor-image-height").val(),10);h.attributes={src:b.find("#k-editor-image-url").val().replace(/ /g,"%20"),alt:b.find("#k-editor-image-title").val()};h.attributes.width=null;h.attributes.height=null;!isNaN(d)&&0<d&&(h.attributes.width=d);!isNaN(g)&&0<g&&(h.attributes.height=g);n=h.insertImage(t,p);e(a);h.change&&h.change()}function e(a){a.preventDefault();c.destroy();C.windowFromDocument(A.documentFromRange(p)).focus();n||h.releaseRange(p)}var h=this,p=h.lockRange(),n=!1,t=A.image(p),f=t&&t.getAttribute("width")||"",l=t&&t.getAttribute("height")||"",c,w=h.editor.options,a=w.imageBrowser,d=!!(q.ui.ImageBrowser&&a&&a.transport&&a.transport.read!==k),w={title:w.messages.insertImage,visible:!1,resizable:d};w.close=e;d&&(w.width=750);c=this.createDialog(h._dialogTemplate(d),w).toggleClass("k-filebrowser-dialog",d).find(".k-dialog-insert").click(b).end().find(".k-dialog-close").click(e).end().find(".k-edit-field input").keydown(function(a){a.keyCode==x.ENTER?b(a):a.keyCode==x.ESC&&e(a)}).end().find("#k-editor-image-url").val(t?t.getAttribute("src",2):"http://").end().find("#k-editor-image-title").val(t?t.alt:"").end().find("#k-editor-image-width").val(f).end().find("#k-editor-image-height").val(l).end().data("kendoWindow");d&&(this._imageBrowser=new q.ui.ImageBrowser(c.element.find(".k-imagebrowser"),B({},a,{change:function(){c.element.find("#k-editor-image-url").val(this.value())},apply:b})));c.center().open();c.element.find("#k-editor-image-url").focus().select()}});q.ui.editor.ImageCommand=t;y("insertImage",new u.Tool({command:t,template:new F({template:z.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/components",["editor/image"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui.DropDownList,u=q.ui.editor.Dom,z=B.extend({init:function(k,u){var y=this;B.fn.init.call(y,k,u);q.support.mobileOS.ios&&(this._initSelectOverlay(),this.bind("dataBound",b.proxy(this._initSelectOverlay,this)));y.text(y.options.title);y.bind("open",function(){if(y.options.autoSize){var b=y.list,k;b.css({whiteSpace:"nowrap",width:"auto"});k=(k=b.width())?k+20:y._listWidth;b.css("width",k+q.support.scrollbar());y._listWidth=k}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){for(var k=this,u=k.value(),z=this.dataSource.view(),A,E="",x=q.htmlEncode,t=0;t<z.length;t++)A=z[t],E+="\x3coption value\x3d'"+x(A.value)+"'",A.value==u&&(E+=" selected"),E+="\x3e"+x(A.text)+"\x3c/option\x3e";u=b("\x3cselect class\x3d'k-select-overlay'\x3e"+E+"\x3c/select\x3e");z=b(this.element).closest(".k-widget");z.next(".k-select-overlay").remove();u.insertAfter(z);u.on("change",function(){k.value(this.value);k.trigger("change")})},value:function(b){var q=B.fn.value.call(this,b);if(b===k)return q;B.fn.value.call(this)||this.text(this.options.title)},decorate:function(k){var q=this.dataSource,z=q.data(),A,E,x;k&&this.list.css("background-color",u.getEffectiveBackground(b(k)));for(A=0;A<z.length;A++)E=z[A].tag||"span",x=z[A].className,E=u.inlineStyle(k,E,{className:x}),E=E.replace(/"/g,"'"),z[A].style=E+";display:inline-block";q.trigger("change")}});q.ui.plugin(z);q.ui.editor.SelectBox=z})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/indent",["editor/components"],b)})(function(){(function(b,k){function q(e,h){var c="rtl"==b(e).css("direction")?"Right":"Left",c="td"!=C.name(e)?"margin"+c:"padding"+c;if(h===k)return e.style[c]||0;0<h?e.style[c]=h+"px":(e.style[c]="",e.style.cssText||e.removeAttribute("style"))}var B=window.kendo,u=b.extend,z=B.ui.editor,C=z.Dom,y=z.EditorUtils,F=y.registerTool,A=z.Command,E=z.Tool,x=z.ToolTemplate,t=z.RangeUtils,m=C.blockElements,e=z.BlockFormatFinder,h=z.BlockFormatter,p=B.Class.extend({init:function(){this.finder=new e([{tags:C.blockElements}])},apply:function(e){var f=this.finder.findSuitable(e),c=[],m;if(f.length){e=0;for(m=f.length;e<m;e++)C.is(f[e],"li")?b(f[e]).index()?0>b.inArray(f[e].parentNode,c)&&c.push(f[e]):c.push(f[e].parentNode):c.push(f[e]);for(;c.length;)if(f=c.shift(),C.is(f,"li")){e=f.parentNode;m=b(f).prev("li");var a=m.find("ul,ol").last(),d=b(f).children("ul,ol")[0];if(d&&m[0])a[0]?(a.append(f),a.append(b(d).children()),C.remove(d)):(m.append(d),d.insertBefore(f,d.firstChild));else for(d=m.children("ul,ol")[0],d||(d=C.create(f.ownerDocument,C.name(e)),m.append(d));f&&f.parentNode==e;)d.appendChild(f),f=c.shift()}else for(e=parseInt(q(f),10)+30,q(f,e),e=0;e<c.length;e++)b.contains(f,c[e])&&c.splice(e,1)}else(new h([{tags:["p"]}],{style:{marginLeft:30}})).apply(e)},remove:function(e){e=this.finder.findSuitable(e);var f,c,h,a,d,g,m;c=0;for(h=e.length;c<h;c++){m=b(e[c]);if(m.is("li"))if(a=m.parent(),d=a.parent(),d.is("li,ul,ol")&&!q(a[0])){if(f&&b.contains(f,d[0]))continue;g=m.nextAll("li");g.length&&b(a[0].cloneNode(!1)).appendTo(m).append(g);d.is("li")?m.insertAfter(d):m.appendTo(d);a.children("li").length||a.remove();continue}else{if(f==a[0])continue;f=a[0]}else f=e[c];a=parseInt(q(f),10)-30;q(f,a)}}}),B=A.extend({init:function(b){b.formatter={toggle:function(b){(new p).apply(t.nodes(b))}};A.fn.init.call(this,b)}}),n=A.extend({init:function(b){b.formatter={toggle:function(b){(new p).remove(t.nodes(b))}};A.fn.init.call(this,b)}}),D=E.extend({init:function(b){E.fn.init.call(this,b);this.finder=new e([{tags:m}])},initialize:function(b,e){E.fn.initialize.call(this,b,e);b.addClass("k-state-disabled")},update:function(e,h){var c=this.finder.findSuitable(h),f,a,d;a=0;for(d=c.length;a<d;a++)if(f=q(c[a]),f||(f=b(c[a]).parents("ul,ol").length,f=C.is(c[a],"li")&&(1<f||q(c[a].parentNode))||C.ofType(c[a],["ul","ol"])&&0<f),f){e.removeClass("k-state-disabled");return}e.addClass("k-state-disabled").removeClass("k-state-hover")}});u(z,{IndentFormatter:p,IndentCommand:B,OutdentCommand:n,OutdentTool:D});F("indent",new E({command:B,template:new x({template:y.buttonTemplate,title:"Indent"})}));F("outdent",new D({command:n,template:new x({template:y.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/viewhtml",["editor/indent"],b)})(function(){(function(b,k){var q=window.kendo,B=b.extend,u=q.ui.editor,z=u.EditorUtils,C=u.Command,y=u.Tool,F=u.ToolTemplate,A=C.extend({init:function(b){this.options=b;C.fn.init.call(this,b);this.attributes=null;this.async=!0},exec:function(){function k(b){b.preventDefault();e.data("kendoWindow").destroy();t.focus()}var x=this,t=x.editor,m=t.options.messages,e=b(q.template(A.template)(m)).appendTo(document.body),h=A.indent(t.value());this.createDialog(e,{title:m.viewHtml,close:k,visible:!1}).find(".k-editor-textarea").val(h).end().find(".k-dialog-update").click(function(b){t.value(e.find(".k-editor-textarea").val());k(b);x.change&&x.change();t.trigger("change")}).end().find(".k-dialog-close").click(k).end().data("kendoWindow").center().open();e.find(".k-editor-textarea").focus()}});B(A,{template:"\x3cdiv class\x3d'k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'\x3e\x3ctextarea class\x3d'k-editor-textarea k-input'\x3e\x3c/textarea\x3e\x3cdiv class\x3d'k-edit-buttons k-state-default'\x3e\x3cbutton class\x3d'k-dialog-update k-button k-primary'\x3e#: dialogUpdate #\x3c/button\x3e\x3cbutton class\x3d'k-dialog-close k-button'\x3e#: dialogCancel #\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e",indent:function(b){return b.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"\x3c/$1\x3e\n").replace(/<(ul|ol)([^>]*)><li/gi,"\x3c$1$2\x3e\n\x3cli").replace(/<br \/>/gi,"\x3cbr /\x3e\n").replace(/\n$/,"")}});q.ui.editor.ViewHtmlCommand=A;u.EditorUtils.registerTool("viewHtml",new y({command:A,template:new F({template:z.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/formatting",["editor/viewhtml"],b)})(function(){(function(b){var k=window.kendo,q=k.ui.editor,B=q.Tool,u=q.ToolTemplate,z=q.DelayedExecutionTool,C=q.Command,y=q.Dom,F=q.EditorUtils,A=q.RangeUtils,E=F.registerTool,x=z.extend({init:function(b){B.fn.init.call(this,k.deepExtend({},this.options,b));this.type="kendoSelectBox";this.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(b){var m=b.value;if(!m||b.tag||b.className)return b;var e=m.indexOf(".");0===e?b.className=m.substring(1):-1==e?b.tag=m:(b.tag=m.substring(0,e),b.className=m.substring(e+1));return b},command:function(t){var m=t.value,m=this.toFormattingItem(m);return new q.FormatCommand({range:t.range,formatter:function(){var e=(m.tag||m.context||"span").split(","),h=[{tags:e,attr:{className:m.className||""}}];return 0<=b.inArray(e[0],y.inlineElements)?new q.GreedyInlineFormatter(h):new q.GreedyBlockFormatter(h)}})},initialize:function(b,m){var e=m.editor,h=this.options,p=h.name,n=this;b.width(h.width);b.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:h.items||e.options[p],title:e.options.messages[p],autoSize:!0,change:function(){var b=this.dataItem();b&&B.exec(e,p,b.toJSON())},dataBound:function(){var b,e=this.dataSource.data();for(b=0;b<e.length;b++)e[b]=n.toFormattingItem(e[b])},highlightFirst:!1,template:k.template('\x3cspan unselectable\x3d"on" style\x3d"display:block;#\x3d(data.style||"")#"\x3e#:data.text#\x3c/span\x3e')});b.addClass("k-decorated").closest(".k-widget").removeClass("k-"+p).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,m){for(var e=0;e<t.length;e++){var h=t[e],p=(h.tag||h.context||"")+(h.className?"."+h.className:"");if(b(m[0]).closest(p)[0]){if(1==m.length)return h.value;for(var n=1;n<m.length&&b(m[n]).closest(p)[0];n++)if(n==m.length-1)return h.value}}return""},update:function(t,m){var e=b(t).data(this.type);if(e){var h=e.dataSource,p=h.data(),n,k,f=y.commonAncestor.apply(null,m);if(f==y.closestEditable(f)||this._ancestor!=f){this._ancestor=f;for(n=0;n<p.length;n++)k=p[n].context,p[n].visible=!k||!!b(f).closest(k).length;h.filter([{field:"visible",operator:"eq",value:!0}]);z.fn.update.call(this,t,m);e.value(this.getFormattingValue(h.view(),m));e.wrapper.toggleClass("k-state-disabled",!h.view().length)}}},destroy:function(){this._ancestor=null}}),C=C.extend({exec:function(){var b=this.lockRange(!0);this.tagsToClean=this.options.remove||"strong em span sup sub del b i u font".split(" ");A.wrapSelectedElements(b);for(var m=A.mapAll(b,function(b){return b}),e=m.length-1;0<=e;e--)this.clean(m[e]);this.releaseRange(b)},clean:function(t){if(t&&!y.isMarker(t)){var m=y.name(t);if("ul"==m||"ol"==m){var e=new q.ListFormatter(m),h=t.previousSibling,p=t.nextSibling;for(e.unwrap(t);h&&h!=p;h=h.nextSibling)this.clean(h)}else if("blockquote"==m)y.changeTag(t,"p");else if(1!=t.nodeType||y.insignificant(t)){if(e=y.closestEditableOfType(t,["li"]))h=new q.ListFormatter(y.name(e.parentNode)),p=k.ui.editor.W3CRange.fromNode(t),p.selectNode(e),h.toggle(p)}else{for(e=t.childNodes.length-1;0<=e;e--)this.clean(t.childNodes[e]);t.removeAttribute("style");t.removeAttribute("class")}-1<b.inArray(m,this.tagsToClean)&&y.unwrap(t)}}});b.extend(q,{FormattingTool:x,CleanFormatCommand:C});E("formatting",new x({template:new u({template:F.dropDownListTemplate,title:"Format"})}));E("cleanFormatting",new B({command:C,template:new u({template:F.buttonTemplate,title:"Clean formatting"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/toolbar",["editor/formatting"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui,u=B.editor,z=B.Widget,C=b.extend,y=b.proxy,F=q.keys,B=q.ui.editor.EditorUtils,A=q.ui.editor.ToolTemplate,E=q.ui.editor.Tool.extend({initialize:function(k,t){k.attr({unselectable:"on"});k.on("click",b.proxy(function(){this.overflowPopup.toggle()},t.editor.toolbar))},options:{name:"overflowAnchor"},command:b.noop,update:b.noop,destroy:b.noop});B.registerTool("overflowAnchor",new E({key:"",ctrl:!0,template:new A({template:B.overflowAnchorTemplate})}));B=z.extend({init:function(b,k){var m=this;k=C({},k,{name:"EditorToolbar"});z.fn.init.call(m,b,k);k.popup&&m._initPopup();k.resizable&&k.resizable.toolbar&&(m._resizeHandler=q.onResize(function(){m.resize()}),m.element.addClass("k-toolbar-resizable"))},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:"createTable addColumnLeft addColumnRight addRowAbove addRowBelow deleteRow deleteColumn".split(" "),advanced:["viewHtml","cleanFormatting","print","pdf"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:"formatting fontName fontSize foreColor backColor insertHtml".split(" "),_initPopup:function(){this.window=b(this.element).wrap("\x3cdiv class\x3d'editorToolbarWindow k-header' /\x3e").parent().prepend("\x3cbutton class\x3d'k-button k-button-bare k-editortoolbar-dragHandle'\x3e\x3cspan class\x3d'k-icon k-i-move' /\x3e\x3c/button\x3e").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(k){b(k.target).is(".k-icon")||k.preventDefault()}).data("kendoWindow")},_toggleOverflowStyles:function(b,k){b.find("li").toggleClass("k-item k-state-default",k).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",k)},_initOverflowPopup:function(k){var t=this;t.overflowPopup=b("\x3cul class\x3d'k-editor-overflow-popup k-overflow-container k-list-container'\x3e\x3c/ul\x3e").appendTo("body").kendoPopup({anchor:k,origin:"bottom right",position:"top right",copyAnchorStyles:!1,open:function(b){this.element.is(":empty")&&b.preventDefault();t._toggleOverflowStyles(this.element,!0)},activate:y(t.focusOverflowPopup,t)}).data("kendoPopup")},items:function(){var b=this.options.resizable&&this.options.resizable.toolbar,k;k=this.element.children().find("\x3e *, select");b&&(b=this.overflowPopup,k=k.add(b.element.children().find("\x3e *")));return k},focused:function(){return 0<this.element.find(".k-state-focused").length},toolById:function(b){var k,m=this.tools;for(k in m)if(k.toLowerCase()==b)return m[k]},toolGroupFor:function(k){var t,m=this.groups;if(this.isCustomTool(k))return"custom";for(t in m)if(0<=b.inArray(k,m[t]))return t},bindTo:function(k){var t=this,m=t.window;t._editor&&t._editor.unbind("select",y(t.resize,t));t._editor=k;t.options.resizable&&t.options.resizable.toolbar&&k.options.tools.push("overflowAnchor");t.tools=t.expandTools(k.options.tools);t.render();t.element.find(".k-combobox .k-input").keydown(function(e){var h=b(this).closest(".k-combobox").data("kendoComboBox"),m=e.keyCode;m==F.RIGHT||m==F.LEFT?h.close():m!=F.DOWN||h.dropDown.isOpened()||(e.stopImmediatePropagation(),h.open())});t._attachEvents();t.items().each(function(){var e=t._toolName(this),h="more"!==e?t.tools[e]:t.tools.overflowAnchor,m=h&&h.options,n=k.options.messages,m=m&&m.tooltip||n[e],q=b(this);if(h&&h.initialize){if("fontSize"==e||"fontName"==e)e=n[e+"Inherit"],q.find("input").val(e).end().find("span.k-input").text(e).end();h.initialize(q,{title:t._appendShortcutSequence(m,h),editor:t._editor});q.closest(".k-widget",t.element).addClass("k-editor-widget");q.closest(".k-colorpicker",t.element).next(".k-colorpicker").addClass("k-editor-widget")}});k.bind("select",y(t.resize,t));t.update();m&&m.wrapper.css({top:"",left:"",width:""})},show:function(){var b=this.window,k=this.options.editor,m;b&&(m=b.wrapper,k=k.element,m.is(":visible")&&this.window.options.visible||(m[0].style.width||m.width(k.outerWidth()-parseInt(m.css("border-left-width"),10)-parseInt(m.css("border-right-width"),10)),b._moved||(k=k.offset(),m.css({top:Math.max(0,parseInt(k.top,10)-m.outerHeight()-parseInt(this.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(k.left,10))})),b.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var b=this.element,k=this._editor.element.attr("tabIndex");b.attr("tabIndex",k||0).focus().find(".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input").first().focus();k||0===k||b.removeAttr("tabIndex")},focusOverflowPopup:function(){var b=this.overflowPopup.element,k=this._editor.element.attr("tabIndex");b.closest(".k-animation-container").addClass("k-overflow-wrapper");b.attr("tabIndex",k||0).find(".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input").first().focus();k||0===k||b.removeAttr("tabIndex")},_appendShortcutSequence:function(b,k){if(!k.key)return b;var m=b+" (";k.ctrl&&(m+="Ctrl + ");k.shift&&(m+="Shift + ");k.alt&&(m+="Alt + ");return m+=k.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(b){return!(b in q.ui.Editor.defaultTools)},expandTools:function(k){var t,m,e=this._nativeTools,h=q.deepExtend({},q.ui.Editor.defaultTools),p={},n;for(m=0;m<k.length;m++)t=k[m],n=t.name,b.isPlainObject(t)?n&&h[n]?(p[n]=C({},h[n]),C(p[n].options,t)):(t=C({cssClass:"k-i-custom",type:"button",title:""},t),t.name||(t.name="custom"),t.cssClass="k-"+("custom"==t.name?"i-custom":t.name),t.template||"button"!=t.type||(t.template=u.EditorUtils.buttonTemplate,t.title=t.title||t.tooltip),p[n]={options:t}):h[t]&&(p[t]=h[t]);for(m=0;m<e.length;m++)p[e[m]]||(p[e[m]]=h[e[m]]);return p},render:function(){function k(a){a.getHtml?a=a.getHtml():(b.isFunction(a)||(a=q.template(a)),a=a(p));return b.trim(a)}function t(){g.children().length&&(A&&(g.data("position",E),E++),g.appendTo(l))}function m(a){"overflowAnchor"!==a?(g=b("\x3cli class\x3d'k-tool-group' role\x3d'presentation' /\x3e"),g.data("overflow",-1===b.inArray(a,z)?!0:!1)):g=b("\x3cli class\x3d'k-overflow-tools' /\x3e")}var e=this,h=e.tools,p,n,u,f=e._editor.element,l=e.element.empty(),c,w,a=e._editor.options.tools,d=q.support.browser,g,G,E=0,A=e.options.resizable&&e.options.resizable.toolbar,z=this.overflowFlaseTools;l.empty();a.length&&(u=a[0].name||a[0]);m(u,z);for(G=0;G<a.length;G++)if(u=a[G].name||a[G],p=h[u]&&h[u].options,!p&&b.isPlainObject(u)&&(p=u),n=p&&p.template,"break"==u&&(t(),b("\x3cli class\x3d'k-row-break' /\x3e").appendTo(e.element),m(u,z)),n){w=e.toolGroupFor(u);if(c!=w||"overflowAnchor"==u)t(),m(u,z),c=w;n=k(n);n=b(n).appendTo(g);"custom"==w&&(t(),m(u,z));p.exec&&n.hasClass("k-tool")&&n.click(y(p.exec,f[0]))}t();b(e.element).children(":has(\x3e .k-tool)").addClass("k-button-group");e.options.popup&&d.msie&&9>d.version&&e.window.wrapper.find("*").attr("unselectable","on");e.updateGroups();A&&e._initOverflowPopup(e.element.find(".k-overflow-anchor"));e.angular("compile",function(){return{elements:e.element}})},updateGroups:function(){b(this.element).children().each(function(){b(this).children().filter(function(){return!b(this).hasClass("k-state-disabled")}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(k){this.items().filter(".k-decorated").each(function(){var t=b(this).data("kendoSelectBox");t&&t.decorate(k)})},destroy:function(){z.fn.destroy.call(this);var b,k=this.tools;for(b in k)k[b].destroy&&k[b].destroy();this.window&&this.window.destroy();this._resizeHandler&&q.unbindResize(this._resizeHandler);this.overflowPopup&&this.overflowPopup.destroy()},_attachEvents:function(){var k=this,t=k.overflowPopup?k.overflowPopup.element:b([]);k.element.add(t).off(".kendoEditor").on("mouseenter.kendoEditor","[role\x3dbutton].k-tool:not(.k-state-disabled)",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoEditor","[role\x3dbutton].k-tool:not(.k-state-disabled)",function(){b(this).removeClass("k-state-hover")}).on("mousedown.kendoEditor","[role\x3dbutton].k-tool",function(b){b.preventDefault()}).on("keydown.kendoEditor",".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input",function(m){function e(b,e,c){e=e.find(".k-tool-group:visible a.k-tool:not(.k-state-disabled),.k-tool.k-overflow-anchor,.k-tool-group:visible .k-widget.k-colorpicker,.k-tool-group:visible .k-selectbox,.k-tool-group:visible .k-dropdown,.k-tool-group:visible .k-combobox .k-input");b=e.index(h)+b;c&&(b=Math.max(0,Math.min(e.length-1,b)));return e[b]}var h=this,p=k.options.resizable&&k.options.resizable.toolbar,n,t=m.keyCode;t==F.RIGHT||t==F.LEFT?b(h).hasClass(".k-dropdown")||(n=e(t==F.RIGHT?1:-1,k.element,!0)):!p||t!=F.UP&&t!=F.DOWN?t==F.ESC?(k.overflowPopup.visible()&&k.overflowPopup.close(),n=k._editor):t!=F.TAB||m.ctrlKey||m.altKey||(p=p?b(h.parentElement).hasClass("k-overflow-tool-group")?k.overflowPopup.element:k.element:k.element,m.shiftKey?n=e(-1,p):(n=e(1,p),n||(n=k._editor))):n=e(t==F.DOWN?1:-1,k.overflowPopup.element,!0);n&&(m.preventDefault(),n.focus())}).on("click.kendoEditor","[role\x3dbutton].k-tool:not(.k-state-disabled)",function(m){var e=b(this);m.preventDefault();m.stopPropagation();e.removeClass("k-state-hover");e.is("[data-popup]")||k._editor.exec(k._toolName(this))}).on("click.kendoEditor","[role\x3dbutton].k-tool.k-state-disabled",function(b){b.preventDefault()})},_toolName:function(k){if(k){var t=k.className;/k-tool\b/i.test(t)&&(t=k.firstChild.className);k=b.grep(t.split(" "),function(b){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(b)});return k[0]?k[0].substring(k[0].lastIndexOf("-")+1):"custom"}},refreshTools:function(){var k=this,t=k._editor.getRange(),m=q.ui.editor.RangeUtils.textNodes(t);m.length||(m=[t.startContainer]);k.items().each(function(){var e=k.tools[k._toolName(this)];e&&e.update&&e.update(b(this),m)});this.update()},update:function(){this.updateGroups()},_resize:function(b){b=b.width;var k=this.options.resizable&&this.options.resizable.toolbar,m=this.overflowPopup;this.refreshTools();k&&(m.visible()&&m.close(!0),this._refreshWidths(),this._shrink(b),this._stretch(b),this._toggleOverflowStyles(this.element,!1),this._toggleOverflowStyles(this.overflowPopup.element,!0),this.element.children("li.k-overflow-tools").css("visibility",m.element.is(":empty")?"hidden":"visible"))},_refreshWidths:function(){this.element.children("li").each(function(k,t){var m=b(t);m.data("outerWidth",m.outerWidth(!0))})},_shrink:function(b){var k,m;if(b<this._groupsWidth()){m=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var e=m.length-1;0<=e&&!(k=m.eq(e),b>this._groupsWidth());e--)this._hideGroup(k)}},_stretch:function(b){var k,m;if(b>this._groupsWidth()){m=this._hiddenGroups();for(var e=0;e<m.length&&(k=m.eq(e),!(b<this._groupsWidth())&&this._showGroup(k,b));e++);}},_hiddenGroups:function(){var k=this.overflowPopup,t=this.element.children("li.k-tool-group").filter(":hidden"),t=t.add(k.element.children("li"));t.sort(function(m,e){return b(m).data("position")>b(e).data("position")?1:-1});return t},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var k=0;this._visibleGroups().each(function(){k+=b(this).data("outerWidth")});return Math.ceil(k)},_hideGroup:function(b){if(b.data("overflow")){var k=this.overflowPopup;b.detach().prependTo(k.element).addClass("k-overflow-tool-group")}else b.hide()},_showGroup:function(k,t){var m,e;return k.length&&t>this._groupsWidth()+k.data("outerWidth")?(k.hasClass("k-overflow-tool-group")?(m=k.data("position"),0===m?k.detach().prependTo(this.element):(e=this.element.children().filter(function(e,k){return b(k).data("position")===m-1}),k.detach().insertAfter(e)),k.removeClass("k-overflow-tool-group")):k.show(),!0):!1}});b.extend(u,{Toolbar:B})})(window.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("editor/tables",["editor/toolbar"],b)})(function(){(function(b,k){var q=window.kendo,B=b.extend,u=b.proxy,z=q.ui.editor,C=z.Dom,y=z.EditorUtils,F=z.RangeUtils,A=z.Command,E=z.Tool,x=z.ToolTemplate,t=z.InsertHtmlCommand,m=z.EditorUtils.registerTool,e="\x3ctd\x3e"+z.emptyElementContent+"\x3c/td\x3e",h=new z.BlockFormatFinder([{tags:["table"]}]),p=t.extend({_tableHtml:function(a,b){return"\x3ctable class\x3d'k-table' data-last\x3e"+Array((a||1)+1).join("\x3ctr\x3e"+Array((b||1)+1).join(e)+"\x3c/tr\x3e")+"\x3c/table\x3e"},postProcess:function(a,d){var c=b("table[data-last]",a.document).removeAttr("data-last");d.setStart(c.find("td")[0],0);d.collapse(!0);a.selectRange(d)},exec:function(){var a=this.options;a.html=this._tableHtml(a.rows,a.columns);a.postProcess=this.postProcess;t.fn.exec.call(this)}}),n=E.extend({initialize:function(a,d){E.fn.initialize.call(this,a,d);var c=b(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:a,copyAnchorStyles:!1,open:u(this._open,this),activate:u(this._activate,this),close:u(this._close,this)}).data("kendoPopup");a.click(u(this._toggle,this)).keydown(u(this._keydown,this));this._editor=d.editor;this._popup=c},popup:function(){return this._popup},_activate:b.noop,_open:function(){this._popup.options.anchor.addClass("k-state-active")},_close:function(){this._popup.options.anchor.removeClass("k-state-active")},_keydown:function(a){var b=q.keys,c=a.keyCode;c==b.DOWN&&a.altKey?this._popup.open():c==b.ESC&&this._popup.close()},_toggle:function(a){b(a.target).closest(".k-tool").hasClass("k-state-disabled")||this.popup().toggle()},update:function(a){var b=this.popup();b.wrapper&&"block"==b.wrapper.css("display")&&b.close();a.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),D=n.extend({init:function(a){this.cols=8;this.rows=6;n.fn.init.call(this,b.extend(a,{command:p,popupTemplate:"\x3cdiv class\x3d'k-ct-popup'\x3e"+Array(this.cols*this.rows+1).join("\x3cspan class\x3d'k-ct-cell k-state-disabled' /\x3e")+"\x3cdiv class\x3d'k-status'\x3e\x3c/div\x3e\x3c/div\x3e"}))},_activate:function(){function a(a){var d=b(window);return{row:Math.floor((a.clientY+d.scrollTop()-h.top)/r)+1,col:Math.floor((a.clientX+d.scrollLeft()-h.left)/k)+1}}var d=this,c=d._popup.element,e=c.find(".k-ct-cell"),f=e.eq(0),e=e.eq(e.length-1),h=q.getOffset(f),f=q.getOffset(e),l=d.cols,m=d.rows,k,r;c.find("*").addBack().attr("unselectable","on");f.left+=e[0].offsetWidth;f.top+=e[0].offsetHeight;k=(f.left-h.left)/l;r=(f.top-h.top)/m;c.on("mousemove.kendoEditor",function(b){d._setTableSize(a(b))}).on("mouseleave.kendoEditor",function(){d._setTableSize()}).on("mouseup.kendoEditor",function(b){d._exec(a(b))})},_valid:function(a){return a&&0<a.row&&0<a.col&&a.row<=this.rows&&a.col<=this.cols},_exec:function(a){this._valid(a)&&(this._editor.exec("createTable",{rows:a.row,columns:a.col}),this._popup.close())},_setTableSize:function(a){var d=this._popup.element,c=d.find(".k-status"),d=d.find(".k-ct-cell"),e=this.cols,f=this._editor.options.messages;this._valid(a)?(c.text(q.format(f.createTableHint,a.row,a.col)),d.each(function(d){b(this).toggleClass("k-state-selected",d%e<a.col&&d/e<a.row)})):(c.text(f.dialogCancel),d.removeClass("k-state-selected"))},_keydown:function(a){n.fn._keydown.call(this,a);if(this._popup.visible()){var b=q.keys,c=a.keyCode,e=this._popup.element.find(".k-ct-cell"),f=Math.max(e.filter(".k-state-selected").last().index(),0),e=Math.floor(f/this.cols),h=f%this.cols,f=!1;c!=b.DOWN||a.altKey?c==b.UP?(f=!0,e--):c==b.RIGHT?(f=!0,h++):c==b.LEFT&&(f=!0,h--):(f=!0,e++);e={row:Math.max(1,Math.min(this.rows,e+1)),col:Math.max(1,Math.min(this.cols,h+1))};c==b.ENTER?this._exec(e):this._setTableSize(e);f&&(a.preventDefault(),a.stopImmediatePropagation())}},_open:function(){var a=this._editor.options.messages;n.fn._open.call(this);this.popup().element.find(".k-status").text(a.dialogCancel).end().find(".k-ct-cell").removeClass("k-state-selected")},_close:function(){n.fn._close.call(this);this.popup().element.off(".kendoEditor")},update:function(a,b){var d;n.fn.update.call(this,a);d=h.isFormatted(b);a.toggleClass("k-state-disabled",d)}}),f=A.extend({exec:function(){for(var a=this.lockRange(!0),b=a.endContainer,c;"td"!=C.name(b);)b=b.parentNode;b=b.parentNode;c=b.cloneNode(!0);for(var e=0;e<b.cells.length;e++)c.cells[e].innerHTML=z.emptyElementContent;"before"==this.options.position?C.insertBefore(c,b):C.insertAfter(c,b);this.releaseRange(a)}}),l=A.extend({exec:function(){var a=this.lockRange(!0),b=C.closest(a.endContainer,"td"),c,e=C.closest(b,"table").rows,f,h,l=this.options.position,b=C.findNodeIndex(b,!0);for(c=0;c<e.length;c++)f=e[c].cells[b],h=f.cloneNode(),h.innerHTML=z.emptyElementContent,"before"==l?C.insertBefore(h,f):C.insertAfter(h,f);this.releaseRange(a)}}),c=A.extend({exec:function(){var a=this.lockRange(),d=F.mapAll(a,function(a){return b(a).closest("tr")[0]}),c=C.closest(d[0],"table"),e;if(c.rows.length<=d.length){e=C.next(c);if(!e||C.insignificant(e))e=C.prev(c);C.remove(c)}else for(c=0;c<d.length;c++){var f=d[c];C.removeTextSiblings(f);e=C.next(f)||C.prev(f);e=e.cells[0];C.remove(f)}e&&(a.setStart(e,0),a.collapse(!0),this.editor.selectRange(a))}}),w=A.extend({exec:function(){var a=this.lockRange(),b=C.closest(a.endContainer,"td"),c=C.closest(b,"table"),e=c.rows,f=C.findNodeIndex(b,!0);if(1==e[0].cells.length){b=C.next(c);if(!b||C.insignificant(b))b=C.prev(c);C.remove(c)}else for(C.removeTextSiblings(b),b=C.next(b)||C.prev(b),c=0;c<e.length;c++)C.remove(e[c].cells[f]);b&&(a.setStart(b,0),a.collapse(!0),this.editor.selectRange(a))}}),A=E.extend({command:function(a){a=B(a,this.options);return"delete"==a.action?"row"==a.type?new c(a):new w(a):"row"==a.type?new f(a):new l(a)},initialize:function(a,b){E.fn.initialize.call(this,a,b);a.addClass("k-state-disabled")},update:function(a,b){var d=!h.isFormatted(b);a.toggleClass("k-state-disabled",d)}});B(q.ui.editor,{PopupTool:n,TableCommand:p,InsertTableTool:D,TableModificationTool:A,InsertRowCommand:f,InsertColumnCommand:l,DeleteRowCommand:c,DeleteColumnCommand:w});m("createTable",new D({template:new x({template:y.buttonTemplate,popup:!0,title:"Create table"})}));m("addColumnLeft",new A({type:"column",position:"before",template:new x({template:y.buttonTemplate,title:"Add column on the left"})}));m("addColumnRight",new A({type:"column",template:new x({template:y.buttonTemplate,title:"Add column on the right"})}));m("addRowAbove",new A({type:"row",position:"before",template:new x({template:y.buttonTemplate,title:"Add row above"})}));m("addRowBelow",new A({type:"row",template:new x({template:y.buttonTemplate,title:"Add row below"})}));m("deleteRow",new A({type:"row",action:"delete",template:new x({template:y.buttonTemplate,title:"Delete row"})}));m("deleteColumn",new A({type:"column",action:"delete",template:new x({template:y.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.editor","kendo.combobox kendo.dropdownlist kendo.resizable kendo.window kendo.colorpicker kendo.imagebrowser util/undoredostack editor/main editor/dom editor/serializer editor/range editor/system editor/inlineformat editor/formatblock editor/linebreak editor/lists editor/link editor/file editor/image editor/components editor/indent editor/viewhtml editor/formatting editor/toolbar editor/tables".split(" "),b)})(function(){},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.ooxml",["kendo.core"],b)})(function(){(function(b,k){function q(b){var e=Math.floor(b/26)-1;return(0<=e?q(e):"")+String.fromCharCode(65+b%26)}function B(b,e){return q(e)+(b+1)}function u(b){return(b.frozenRows||(b.freezePane||{}).rowSplit||1)-1}function z(b){6>b.length&&(b=b.replace(/(\w)/g,function(b,c){return c+c}));b=b.substring(1).toUpperCase();8>b.length&&(b="FF"+b);return b}function C(b,e){var c="";if(e&&e.size){var f=e.size,a="thin";2===f?a="medium":3===f&&(a="thick");c+="\x3c"+b+' style\x3d"'+a+'"\x3e';e.color&&(c+='\x3ccolor rgb\x3d"'+z(e.color)+'"/\x3e');c+="\x3c/"+b+"\x3e"}return c}var y=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3ccp:coreProperties xmlns:cp\x3d"http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc\x3d"http://purl.org/dc/elements/1.1/" xmlns:dcterms\x3d"http://purl.org/dc/terms/" xmlns:dcmitype\x3d"http://purl.org/dc/dcmitype/" xmlns:xsi\x3d"http://www.w3.org/2001/XMLSchema-instance"\x3e\x3cdc:creator\x3e${creator}\x3c/dc:creator\x3e\x3ccp:lastModifiedBy\x3e${lastModifiedBy}\x3c/cp:lastModifiedBy\x3e\x3cdcterms:created xsi:type\x3d"dcterms:W3CDTF"\x3e${created}\x3c/dcterms:created\x3e\x3cdcterms:modified xsi:type\x3d"dcterms:W3CDTF"\x3e${modified}\x3c/dcterms:modified\x3e\x3c/cp:coreProperties\x3e'),F=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3cProperties xmlns\x3d"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt\x3d"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"\x3e\x3cApplication\x3eMicrosoft Excel\x3c/Application\x3e\x3cDocSecurity\x3e0\x3c/DocSecurity\x3e\x3cScaleCrop\x3efalse\x3c/ScaleCrop\x3e\x3cHeadingPairs\x3e\x3cvt:vector size\x3d"2" baseType\x3d"variant"\x3e\x3cvt:variant\x3e\x3cvt:lpstr\x3eWorksheets\x3c/vt:lpstr\x3e\x3c/vt:variant\x3e\x3cvt:variant\x3e\x3cvt:i4\x3e${sheets.length}\x3c/vt:i4\x3e\x3c/vt:variant\x3e\x3c/vt:vector\x3e\x3c/HeadingPairs\x3e\x3cTitlesOfParts\x3e\x3cvt:vector size\x3d"${sheets.length}" baseType\x3d"lpstr"\x3e# for (var idx \x3d 0; idx \x3c sheets.length; idx++) { ## if (sheets[idx].options.title) { #\x3cvt:lpstr\x3e${sheets[idx].options.title}\x3c/vt:lpstr\x3e# } else { #\x3cvt:lpstr\x3eSheet${idx+1}\x3c/vt:lpstr\x3e# } ## } #\x3c/vt:vector\x3e\x3c/TitlesOfParts\x3e\x3cLinksUpToDate\x3efalse\x3c/LinksUpToDate\x3e\x3cSharedDoc\x3efalse\x3c/SharedDoc\x3e\x3cHyperlinksChanged\x3efalse\x3c/HyperlinksChanged\x3e\x3cAppVersion\x3e14.0300\x3c/AppVersion\x3e\x3c/Properties\x3e'),A=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3cTypes xmlns\x3d"http://schemas.openxmlformats.org/package/2006/content-types"\x3e\x3cDefault Extension\x3d"rels" ContentType\x3d"application/vnd.openxmlformats-package.relationships+xml" /\x3e\x3cDefault Extension\x3d"xml" ContentType\x3d"application/xml" /\x3e\x3cOverride PartName\x3d"/xl/workbook.xml" ContentType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /\x3e\x3cOverride PartName\x3d"/xl/styles.xml" ContentType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/\x3e\x3cOverride PartName\x3d"/xl/sharedStrings.xml" ContentType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/\x3e# for (var idx \x3d 1; idx \x3c\x3d count; idx++) { #\x3cOverride PartName\x3d"/xl/worksheets/sheet${idx}.xml" ContentType\x3d"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /\x3e# } #\x3cOverride PartName\x3d"/docProps/core.xml" ContentType\x3d"application/vnd.openxmlformats-package.core-properties+xml" /\x3e\x3cOverride PartName\x3d"/docProps/app.xml" ContentType\x3d"application/vnd.openxmlformats-officedocument.extended-properties+xml" /\x3e\x3c/Types\x3e'),E=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3cworkbook xmlns\x3d"http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships"\x3e\x3cfileVersion appName\x3d"xl" lastEdited\x3d"5" lowestEdited\x3d"5" rupBuild\x3d"9303" /\x3e\x3cworkbookPr defaultThemeVersion\x3d"124226" /\x3e\x3cbookViews\x3e\x3cworkbookView xWindow\x3d"240" yWindow\x3d"45" windowWidth\x3d"18195" windowHeight\x3d"7995" /\x3e\x3c/bookViews\x3e\x3csheets\x3e# for (var idx \x3d 0; idx \x3c sheets.length; idx++) { ## var options \x3d sheets[idx].options; ## var name \x3d options.name || options.title ## if (name) { #\x3csheet name\x3d"${name}" sheetId\x3d"${idx+1}" r:id\x3d"rId${idx+1}" /\x3e# } else { #\x3csheet name\x3d"Sheet${idx+1}" sheetId\x3d"${idx+1}" r:id\x3d"rId${idx+1}" /\x3e# } ## } #\x3c/sheets\x3e# if (definedNames.length) { #\x3cdefinedNames\x3e # for (var di \x3d 0; di \x3c definedNames.length; di++) { #\x3cdefinedName name\x3d"_xlnm._FilterDatabase" hidden\x3d"1" localSheetId\x3d"${definedNames[di].localSheetId}"\x3e${definedNames[di].name}!$${definedNames[di].from}:$${definedNames[di].to}\x3c/definedName\x3e # } #\x3c/definedNames\x3e# } #\x3ccalcPr calcId\x3d"145621" /\x3e\x3c/workbook\x3e'),x=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3cworksheet xmlns\x3d"http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc\x3d"http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac\x3d"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable\x3d"x14ac"\x3e\x3cdimension ref\x3d"A1" /\x3e\x3csheetViews\x3e\x3csheetView #if(index\x3d\x3d0) {# tabSelected\x3d"1" #}# workbookViewId\x3d"0"\x3e# if (frozenRows || frozenColumns) { #\x3cpane state\x3d"frozen"# if (frozenColumns) { # xSplit\x3d"${frozenColumns}"# } ## if (frozenRows) { # ySplit\x3d"${frozenRows}"# } # topLeftCell\x3d"${String.fromCharCode(65 + (frozenColumns || 0))}${(frozenRows || 0)+1}"/\x3e# } #\x3c/sheetView\x3e\x3c/sheetViews\x3e\x3csheetFormatPr x14ac:dyDescent\x3d"0.25" defaultRowHeight\x3d"#\x3d defaults.rowHeight ? defaults.rowHeight * 0.75 : 15 #" # if (defaults.columnWidth) { # defaultColWidth\x3d"#\x3d kendo.ooxml.toWidth(defaults.columnWidth) #" # } # /\x3e# if (columns \x26\x26 columns.length \x3e 0) { #\x3ccols\x3e# for (var ci \x3d 0; ci \x3c columns.length; ci++) { ## var column \x3d columns[ci]; ## var columnIndex \x3d typeof column.index \x3d\x3d\x3d "number" ? column.index + 1 : (ci + 1); ## if (column.width) { #\x3ccol min\x3d"${columnIndex}" max\x3d"${columnIndex}" customWidth\x3d"1"# if (column.autoWidth) { # width\x3d"${((column.width*7+5)/7*256)/256}" bestFit\x3d"1"# } else { # width\x3d"#\x3d kendo.ooxml.toWidth(column.width) #" # } #/\x3e# } ## } #\x3c/cols\x3e# } #\x3csheetData\x3e# for (var ri \x3d 0; ri \x3c data.length; ri++) { ## var row \x3d data[ri]; ## var rowIndex \x3d typeof row.index \x3d\x3d\x3d "number" ? row.index + 1 : (ri + 1); #\x3crow r\x3d"${rowIndex}" x14ac:dyDescent\x3d"0.25" # if (row.height) { # ht\x3d"#\x3d kendo.ooxml.toHeight(row.height) #" customHeight\x3d"1" # } # \x3e# for (var ci \x3d 0; ci \x3c row.data.length; ci++) { ## var cell \x3d row.data[ci];#\x3cc r\x3d"#\x3dcell.ref#"# if (cell.style) { # s\x3d"#\x3dcell.style#" # } ## if (cell.type) { # t\x3d"#\x3dcell.type#"# } #\x3e# if (cell.formula !\x3d null) { #\x3cf\x3e${cell.formula}\x3c/f\x3e# } ## if (cell.value !\x3d null) { #\x3cv\x3e${cell.value}\x3c/v\x3e# } #\x3c/c\x3e# } #\x3c/row\x3e# } #\x3c/sheetData\x3e# if (filter) { #\x3cautoFilter ref\x3d"${filter.from}:${filter.to}"/\x3e# } ## if (mergeCells.length) { #\x3cmergeCells count\x3d"${mergeCells.length}"\x3e# for (var ci \x3d 0; ci \x3c mergeCells.length; ci++) { #\x3cmergeCell ref\x3d"${mergeCells[ci]}"/\x3e# } #\x3c/mergeCells\x3e# } #\x3cpageMargins left\x3d"0.7" right\x3d"0.7" top\x3d"0.75" bottom\x3d"0.75" header\x3d"0.3" footer\x3d"0.3" /\x3e\x3c/worksheet\x3e'),t=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3cRelationships xmlns\x3d"http://schemas.openxmlformats.org/package/2006/relationships"\x3e# for (var idx \x3d 1; idx \x3c\x3d count; idx++) { #\x3cRelationship Id\x3d"rId${idx}" Type\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target\x3d"worksheets/sheet${idx}.xml" /\x3e# } #\x3cRelationship Id\x3d"rId${count+1}" Type\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target\x3d"styles.xml" /\x3e\x3cRelationship Id\x3d"rId${count+2}" Type\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target\x3d"sharedStrings.xml" /\x3e\x3c/Relationships\x3e'),m=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3csst xmlns\x3d"http://schemas.openxmlformats.org/spreadsheetml/2006/main" count\x3d"${count}" uniqueCount\x3d"${uniqueCount}"\x3e# for (var index in indexes) { #\x3csi\x3e\x3ct\x3e${index.substring(1)}\x3c/t\x3e\x3c/si\x3e# } #\x3c/sst\x3e'),e=k.template('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\x3cstyleSheet xmlns\x3d"http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc\x3d"http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable\x3d"x14ac" xmlns:x14ac\x3d"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"\x3e\x3cnumFmts count\x3d"${formats.length}"\x3e# for (var fi \x3d 0; fi \x3c formats.length; fi++) { ## var format \x3d formats[fi]; #\x3cnumFmt formatCode\x3d"${format.format}" numFmtId\x3d"${165+fi}" /\x3e# } #\x3c/numFmts\x3e\x3cfonts count\x3d"${fonts.length+1}" x14ac:knownFonts\x3d"1"\x3e\x3cfont\x3e\x3csz val\x3d"11" /\x3e\x3ccolor theme\x3d"1" /\x3e\x3cname val\x3d"Calibri" /\x3e\x3cfamily val\x3d"2" /\x3e\x3cscheme val\x3d"minor" /\x3e\x3c/font\x3e# for (var fi \x3d 0; fi \x3c fonts.length; fi++) { ## var font \x3d fonts[fi]; #\x3cfont\x3e# if (font.fontSize) { #\x3csz val\x3d"${font.fontSize}" /\x3e# } else { #\x3csz val\x3d"11" /\x3e# } ## if (font.bold) { #\x3cb/\x3e# } ## if (font.italic) { #\x3ci/\x3e# } ## if (font.underline) { #\x3cu/\x3e# } ## if (font.color) { #\x3ccolor rgb\x3d"${font.color}" /\x3e# } else { #\x3ccolor theme\x3d"1" /\x3e# } ## if (font.fontFamily) { #\x3cname val\x3d"${font.fontFamily}" /\x3e\x3cfamily val\x3d"2" /\x3e# } else { #\x3cname val\x3d"Calibri" /\x3e\x3cfamily val\x3d"2" /\x3e\x3cscheme val\x3d"minor" /\x3e# } #\x3c/font\x3e# } #\x3c/fonts\x3e\x3cfills count\x3d"${fills.length+2}"\x3e\x3cfill\x3e\x3cpatternFill patternType\x3d"none"/\x3e\x3c/fill\x3e\x3cfill\x3e\x3cpatternFill patternType\x3d"gray125"/\x3e\x3c/fill\x3e# for (var fi \x3d 0; fi \x3c fills.length; fi++) { ## var fill \x3d fills[fi]; ## if (fill.background) { #\x3cfill\x3e\x3cpatternFill patternType\x3d"solid"\x3e\x3cfgColor rgb\x3d"${fill.background}"/\x3e\x3c/patternFill\x3e\x3c/fill\x3e# } ## } #\x3c/fills\x3e\x3cborders count\x3d"${borders.length+1}"\x3e\x3cborder\x3e\x3cleft/\x3e\x3cright/\x3e\x3ctop/\x3e\x3cbottom/\x3e\x3cdiagonal/\x3e\x3c/border\x3e# for (var bi \x3d 0; bi \x3c borders.length; bi++) { ##\x3d kendo.ooxml.borderTemplate(borders[bi]) ## } #\x3c/borders\x3e\x3ccellStyleXfs count\x3d"1"\x3e\x3cxf borderId\x3d"0" fillId\x3d"0" fontId\x3d"0" /\x3e\x3c/cellStyleXfs\x3e\x3ccellXfs count\x3d"${styles.length+1}"\x3e\x3cxf numFmtId\x3d"0" fontId\x3d"0" fillId\x3d"0" borderId\x3d"0" xfId\x3d"0"/\x3e# for (var si \x3d 0; si \x3c styles.length; si++) { ## var style \x3d styles[si]; #\x3cxf xfId\x3d"0"# if (style.fontId) { # fontId\x3d"${style.fontId}" applyFont\x3d"1"# } ## if (style.fillId) { # fillId\x3d"${style.fillId}" applyFill\x3d"1"# } ## if (style.numFmtId) { # numFmtId\x3d"${style.numFmtId}" applyNumberFormat\x3d"1"# } ## if (style.textAlign || style.verticalAlign || style.wrap) { # applyAlignment\x3d"1"# } ## if (style.borderId) { # borderId\x3d"${style.borderId}" applyBorder\x3d"1"# } #\x3e# if (style.textAlign || style.verticalAlign || style.wrap) { #\x3calignment# if (style.textAlign) { # horizontal\x3d"${style.textAlign}"# } ## if (style.verticalAlign) { # vertical\x3d"${style.verticalAlign}"# } ## if (style.wrap) { # wrapText\x3d"1"# } #/\x3e# } #\x3c/xf\x3e# } #\x3c/cellXfs\x3e\x3ccellStyles count\x3d"1"\x3e\x3ccellStyle name\x3d"Normal" xfId\x3d"0" builtinId\x3d"0"/\x3e\x3c/cellStyles\x3e\x3cdxfs count\x3d"0" /\x3e\x3ctableStyles count\x3d"0" defaultTableStyle\x3d"TableStyleMedium2" defaultPivotStyle\x3d"PivotStyleMedium9" /\x3e\x3c/styleSheet\x3e'),h=new Date(1900,0,0),p=k.Class.extend({init:function(b,e,c,h){this.options=b;this._strings=e;this._styles=c;this._borders=h},toXML:function(b){this._mergeCells=this.options.mergedCells||[];this._rowsByIndex=[];for(var e=this.options.rows||[],c=0;c<e.length;c++){var f=e[c].index;"number"!==typeof f&&(f=c);e[c].index=f;this._rowsByIndex[f]=e[c]}f=[];for(c=0;c<e.length;c++)f.push(this._row(e[c],c));f.sort(function(a,b){return a.index-b.index});(e=this.options.filter)&&"number"===typeof e.from&&"number"===typeof e.to&&(e={from:B(u(this.options),e.from),to:B(u(this.options),e.to)});c=this.options.freezePane||{};return x({frozenColumns:this.options.frozenColumns||c.colSplit,frozenRows:this.options.frozenRows||c.rowSplit,columns:this.options.columns,defaults:this.options.defaults||{},data:f,index:b,mergeCells:this._mergeCells,filter:e})},_row:function(e){var f=[],c=0,h=this,a={};b.each(e.cells,function(d,g){if(g){var l;"number"===typeof g.index?(l=g.index,c=l-d):l=d+c;g.colSpan&&(c+=g.colSpan-1);l=h._cell(g,e.index,l);b.each(l,function(b,d){a[d.ref]||(a[d.ref]=!0,f.push(d))})}});return{data:f,height:e.height,index:e.index}},_lookupString:function(b){b="$"+b;var e=this._strings.indexes[b];void 0!==e?b=e:(b=this._strings.indexes[b]=this._strings.uniqueCount,this._strings.uniqueCount++);this._strings.count++;return b},_lookupStyle:function(e){e=k.stringify(e);if("{}"==e)return 0;var f=b.inArray(e,this._styles);0>f&&(f=this._styles.push(e)-1);return f+1},_lookupBorder:function(e){e=k.stringify(e);if("{}"!=e){var f=b.inArray(e,this._borders);0>f&&(f=this._borders.push(e)-1);return f+1}},_cell:function(b,e,c){if(!b)return[];var f=b.value,a={};b.borderLeft&&(a.left=b.borderLeft);b.borderRight&&(a.right=b.borderRight);b.borderTop&&(a.top=b.borderTop);b.borderBottom&&(a.bottom=b.borderBottom);var a=this._lookupBorder(a),d={bold:b.bold,color:b.color,background:b.background,italic:b.italic,underline:b.underline,fontFamily:b.fontFamily||b.fontName,fontSize:b.fontSize,format:b.format,textAlign:b.textAlign||b.hAlign,verticalAlign:b.verticalAlign||b.vAlign,wrap:b.wrap,borderId:a},a=(this.options.columns||[])[c],g=typeof f;if(a&&a.autoWidth){var l=f;"number"===g&&(l=k.toString(f,b.format));a.width=Math.max(a.width||0,(l+"").length)}"string"===g?(f=this._lookupString(f),g="s"):"number"===g?g="n":"boolean"===g?(g="b",f=+f):f&&f.getTime?(g=null,a=(f.getTimezoneOffset()-h.getTimezoneOffset())*k.date.MS_PER_MINUTE,f=(f-h-a)/k.date.MS_PER_DAY+1,d.format||(d.format="mm-dd-yy")):f=g=null;d=this._lookupStyle(d);a=[];l=B(e,c);a.push({value:f,formula:b.formula,type:g,style:d,ref:l});f=b.colSpan||1;b=b.rowSpan||1;if(1<f||1<b){this._mergeCells.push(l+":"+B(e+b-1,c+f-1));for(g=e+1;g<e+b;g++)for(this._rowsByIndex[g]||(this._rowsByIndex[g]={index:g,cells:[]}),d=c;d<c+f;d++)this._rowsByIndex[g].cells.splice(d,0,{});for(d=c+1;d<c+f;d++)a.push({ref:B(e,d)})}return a}}),n={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70},D=k.Class.extend({init:function(e){this.options=e||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._borders=[];this._sheets=b.map(this.options.sheets||[],b.proxy(function(b){b.defaults=this.options;return new p(b,this._strings,this._styles,this._borders)},this))},toDataURL:function(){if("undefined"===typeof JSZip)throw Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.");var f=new JSZip,h=f.folder("docProps");h.file("core.xml",y({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var c=this._sheets.length;h.file("app.xml",F({sheets:this._sheets}));f.folder("_rels").file(".rels",'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8" standalone\x3d"yes"?\x3e\r\n\x3cRelationships xmlns\x3d"http://schemas.openxmlformats.org/package/2006/relationships"\x3e\x3cRelationship Id\x3d"rId3" Type\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target\x3d"docProps/app.xml"/\x3e\x3cRelationship Id\x3d"rId2" Type\x3d"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target\x3d"docProps/core.xml"/\x3e\x3cRelationship Id\x3d"rId1" Type\x3d"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target\x3d"xl/workbook.xml"/\x3e\x3c/Relationships\x3e');h=f.folder("xl");h.folder("_rels").file("workbook.xml.rels",t({count:c}));h.file("workbook.xml",E({sheets:this._sheets,definedNames:b.map(this._sheets,function(a,b){var d=a.options,c=d.filter;if(c&&"undefined"!==typeof c.from&&"undefined"!==typeof c.to){var e=d.name||d.title||"Sheet"+(b+1),g=u(d),g=q(c.from)+"$"+(g+1),d=u(d),c=q(c.to)+"$"+(d+1);return{localSheetId:b,name:e,from:g,to:c}}})}));for(var p=h.folder("worksheets"),a=0;a<c;a++)p.file(k.format("sheet{0}.xml",a+1),this._sheets[a].toXML(a));var p=b.map(this._borders,b.parseJSON),a=b.map(this._styles,b.parseJSON),d=function(a){return a.underline||a.bold||a.italic||a.color||a.fontFamily||a.fontSize},g=b.map(a,function(a){a.color&&(a.color=z(a.color));if(d(a))return a}),G=b.map(a,function(a){if(a.format&&void 0===n[a.format])return a}),x=b.map(a,function(a){if(a.background)return a.background=z(a.background),a});h.file("styles.xml",e({fonts:g,fills:x,formats:G,borders:p,styles:b.map(a,function(a){var c={};d(a)&&(c.fontId=b.inArray(a,g)+1);a.background&&(c.fillId=b.inArray(a,x)+2);c.textAlign=a.textAlign;c.verticalAlign=a.verticalAlign;c.wrap=a.wrap;c.borderId=a.borderId;a.format&&(c.numFmtId=void 0!==n[a.format]?n[a.format]:165+b.inArray(a,G));return c})}));h.file("sharedStrings.xml",m(this._strings));f.file("[Content_Types].xml",A({count:c}));return"data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+f.generate({compression:"DEFLATE"})}});k.ooxml={Workbook:D,Worksheet:p,toWidth:function(b){return(b/7*100+.5)/100},toHeight:function(b){return.75*b},borderTemplate:function(b){return"\x3cborder\x3e"+C("left",b.left)+C("right",b.right)+C("top",b.top)+C("bottom",b.bottom)+"\x3c/border\x3e"}}})(kendo.jQuery,kendo);return kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.excel",["kendo.core","kendo.data","kendo.ooxml"],b)})(function(){(function(b,k){k.ExcelExporter=k.Class.extend({init:function(q){q.columns=this._trimColumns(q.columns||[]);this.allColumns=b.map(this._leafColumns(q.columns||[]),this._prepareColumn);this.columns=b.grep(this.allColumns,function(b){return!b.hidden});this.options=q;var B=q.dataSource;B instanceof k.data.DataSource?(this.dataSource=new B.constructor(b.extend({},B.options,{page:q.allPages?0:B.page(),filter:B.filter(),pageSize:q.allPages?B.total():B.pageSize(),sort:B.sort(),group:B.group(),aggregate:B.aggregate()})),q=B.data(),0<q.length&&(this.dataSource._data=q,q=this.dataSource.transport,B._isServerGrouped()&&q.options.data&&(q.options.data=null))):this.dataSource=k.data.DataSource.create(B)},_trimColumns:function(k){var q=this;return b.grep(k,function(b){var k=!!b.field;!k&&b.columns&&(k=0<q._trimColumns(b.columns).length);return k})},_leafColumns:function(b){for(var k=[],q=0;q<b.length;q++)b[q].columns?k=k.concat(this._leafColumns(b[q].columns)):k.push(b[q]);return k},workbook:function(){return b.Deferred(b.proxy(function(k){this.dataSource.fetch().then(b.proxy(function(){var b={sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};k.resolve(b,this.dataSource.view())},this))},this)).promise()},_prepareColumn:function(q){if(q.field){var B=function(b){return b.get(q.field)},u=null;q.values&&(u={},b.each(q.values,function(){u[this.value]=this.text}),B=function(b){return u[b.get(q.field)]});return b.extend({},q,{value:B,values:u,groupHeaderTemplate:k.template(q.groupHeaderTemplate||"#\x3d title #: #\x3d value #"),groupFooterTemplate:q.groupFooterTemplate?k.template(q.groupFooterTemplate):null,footerTemplate:q.footerTemplate?k.template(q.footerTemplate):null})}},_filter:function(){if(!this.options.filterable)return null;var b=this._depth();return{from:b,to:b+this.columns.length-1}},_dataRow:function(k,B,u){this._hierarchical()&&(B=this.dataSource.level(k)+1);for(var q=[],C=0;C<B;C++)q[C]={background:"#dfdfdf",color:"#333"};if(u&&k.items){var y=b.grep(this.allColumns,function(b){return b.field==k.field})[0],F=y&&y.title?y.title:k.field,C=y?y.groupHeaderTemplate:null,A=F+": "+k.value,y=b.extend({title:F,field:k.field,value:y&&y.values?y.values[k.value]:k.value,aggregates:k.aggregates},k.aggregates[k.field]);C&&(A=C(y));q.push({value:A,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+u-B});B=this._dataRows(k.items,B+1);B.unshift({type:"group-header",cells:q});return B.concat(this._footer(k))}C=[];for(A=0;A<this.columns.length;A++)C[A]=this._cell(k,this.columns[A]);this._hierarchical()&&(C[0].colSpan=u-B+1);return[{type:"data",cells:q.concat(C)}]},_dataRows:function(b,k){for(var q=this._depth(),z=[],C=0;C<b.length;C++)z.push.apply(z,this._dataRow(b[C],k,q));return z},_footer:function(k){var q=[],u=!1,z=b.map(this.columns,b.proxy(function(q){return q.groupFooterTemplate?(u=!0,{background:"#dfdfdf",color:"#333",value:q.groupFooterTemplate(b.extend({},this.dataSource.aggregates(),k.aggregates,k.aggregates[q.field]))}):{background:"#dfdfdf",color:"#333"}},this));u&&q.push({type:"group-footer",cells:b.map(Array(this.dataSource.group().length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(z)});return q},_isColumnVisible:function(b){return 0<this._visibleColumns([b]).length&&(b.field||b.columns)},_visibleColumns:function(k){var q=this;return b.grep(k,function(b){var k=!b.hidden;k&&b.columns&&(k=0<q._visibleColumns(b.columns).length);return k})},_headerRow:function(k,B){var q=b.map(k.cells,function(b){return{background:"#7a7a7a",color:"#fff",value:b.title,colSpan:1<b.colSpan?b.colSpan:1,rowSpan:1<k.rowSpan&&!b.colSpan?k.rowSpan:1}});this._hierarchical()&&(q[0].colSpan=this._depth()+1);return{type:"header",cells:b.map(Array(B.length),function(){return{background:"#7a7a7a",color:"#fff"}}).concat(q)}},_prependHeaderRows:function(b){var k=this.dataSource.group(),q=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(q,this.options.columns);for(var z=q.length-1;0<=z;z--)b.unshift(this._headerRow(q[z],k))},_prepareHeaderRows:function(b,k,u,z){z=z||b[b.length-1];for(var q=b[z.index+1],y=0,B,A,E=0;E<k.length;E++)B=k[E],this._isColumnVisible(B)&&(A={title:B.title||B.field,colSpan:0},z.cells.push(A),B.columns&&B.columns.length&&(q||(q={rowSpan:0,cells:[],index:b.length},b.push(q)),A.colSpan=this._trimColumns(this._visibleColumns(B.columns)).length,this._prepareHeaderRows(b,B.columns,A,q),y+=A.colSpan-1,z.rowSpan=b.length-z.index));u&&(u.colSpan+=y)},_rows:function(){var k=this.dataSource.group(),B=this._dataRows(this.dataSource.view(),0);if(this.columns.length){this._prependHeaderRows(B);var u=!1,z=b.map(this.columns,b.proxy(function(k){if(k.footerTemplate){u=!0;var q=this.dataSource.aggregates();return{background:"#dfdfdf",color:"#333",value:k.footerTemplate(b.extend({},q,q[k.field]))}}return{background:"#dfdfdf",color:"#333"}},this));u&&B.push({type:"footer",cells:b.map(Array(k.length),function(){return{background:"#dfdfdf",color:"#333"}}).concat(z)})}return B},_headerDepth:function(b){for(var k=0,q=0;q<b.length;q++)if(b[q].columns){var z=this._headerDepth(b[q].columns);z>k&&(k=z)}return 1+k},_freezePane:function(){var k=this._visibleColumns(this.options.columns||[]),B=this._visibleColumns(this._trimColumns(this._leafColumns(b.grep(k,function(b){return b.locked})))).length;return{rowSplit:this._headerDepth(k),colSplit:B?B+this.dataSource.group().length:0}},_cell:function(b,k){return{value:k.value(b)}},_hierarchical:function(){return this.options.hierarchy&&this.dataSource.level},_depth:function(){var b=this.dataSource,k=0,u,z,C;if(this._hierarchical()){u=b.view();for(z=0;z<u.length;z++)C=b.level(u[z]),C>k&&(k=C);k++}else k=b.group().length;return k},_columns:function(){var k=this._depth();return b.map(Array(k),function(){return{width:20}}).concat(b.map(this.columns,function(b){return{width:parseInt(b.width,10),autoWidth:b.width?!1:!0}}))}});k.ExcelMixin={extend:function(k){k.events.push("excelExport");k.options.excel=b.extend(k.options.excel,this.options);k.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:!1,filterable:!1,fileName:"Export.xlsx"},saveAsExcel:function(){var q=this.options.excel||{};(new k.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:q.allPages,filterable:q.filterable,hierarchy:q.hierarchy})).workbook().then(b.proxy(function(b,u){if(!this.trigger("excelExport",{workbook:b,data:u})){var z=new k.ooxml.Workbook(b);k.saveAs({dataURI:z.toDataURL(),fileName:b.fileName||q.fileName,proxyURL:q.proxyURL,forceProxy:q.forceProxy})}},this))}}})(kendo.jQuery,kendo);return kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("util/main",["kendo.core"],b)})(function(){(function(){function b(b){return"undefined"!==typeof b}function k(b){var e=[],h;for(h in b)e.push(h+b[h]);return e.sort().join("")}function q(b){for(var e=2166136261,h=0;h<b.length;++h)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=b.charCodeAt(h);return e>>>0}function B(b){var e=b.length,h,m=E,k=x;for(h=0;h<e;h++)k=C.max(k,b[h]),m=C.min(m,b[h]);return{min:m,max:k}}function u(b){for(var e=E,h=x,m=0,k=b.length;m<k;m++){var t=b[m];null!==t&&isFinite(t)&&(e=C.min(e,t),h=C.max(h,t))}return{min:e===E?void 0:e,max:h===x?void 0:h}}function z(m,e){return b(e)&&null!==e?" "+m+"\x3d'"+e+"' ":""}var C=Math,y=window.kendo,F=y.deepExtend,A=C.PI/180,E=Number.MAX_VALUE,x=-Number.MAX_VALUE,t=Date.now;t||(t=function(){return(new Date).getTime()});F(y,{util:{MAX_NUM:E,MIN_NUM:x,append:function(b,e){b.push.apply(b,e);return b},arrayLimits:B,arrayMin:function(b){return B(b).min},arrayMax:function(b){return B(b).max},defined:b,deg:function(b){return b/A},hashKey:q,hashObject:function(b){return q(k(b))},isNumber:function(b){return"number"===typeof b&&!isNaN(b)},isTransparent:function(m){return""===m||null===m||"none"===m||"transparent"===m||!b(m)},last:function(b){if(b)return b[b.length-1]},limitValue:function(b,e,h){return C.max(C.min(b,h),e)},now:t,objectKey:k,round:function(b,e){var h;h=e?C.pow(10,e):1;return C.round(b*h)/h},rad:function(b){return b*A},renderAttr:z,renderAllAttr:function(b){for(var e="",h=0;h<b.length;h++)e+=z(b[h][0],b[h][1]);return e},renderPos:function(b){var e=[];if(b){b=y.toHyphens(b).split("-");for(var h=0;h<b.length;h++)e.push("k-pos-"+b[h])}return e.join(" ")},renderSize:function(b){"string"!==typeof b&&(b+="px");return b},renderStyle:function(m){for(var e="",h=0;h<m.length;h++){var k=m[h][1];b(k)&&(e+=m[h][0]+":"+k+";")}if(""!==e)return e},renderTemplate:function(b){return y.template(b,{useWithBlock:!1,paramName:"d"})},sparseArrayLimits:u,sparseArrayMin:function(b){return u(b).min},sparseArrayMax:function(b){return u(b).max},sqr:function(b){return b*b},valueOrDefault:function(m,e){return b(m)?m:e},romanToArabic:function(b){b=b.toLowerCase();for(var e={i:1,v:5,x:10,l:50,c:100,d:500,m:1E3},h=0,m=0,k=0;k<b.length;++k){var t=e[b.charAt(k)];if(!t)return null;h+=t;t>m&&(h-=2*m);m=t}return h},arabicToRoman:function(b){for(var e={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1E3:"m"},h=[1E3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],m="";0<b;)b<h[0]?h.shift():(m+=e[h[0]],b-=h[0]);return m},memoize:function(b){var e=Object.create(null);return function(){for(var h="",m=arguments.length;0<=--m;)h+=":"+arguments[m];return h in e?e[h]:b.apply(this,arguments)}},ucs2encode:function(b){return b.map(function(b){var e="";65535<b&&(b-=65536,e+=String.fromCharCode(b>>>10&1023|55296),b=56320|b&1023);return e+=String.fromCharCode(b)}).join("")},ucs2decode:function(b){for(var e=[],h=0,m=b.length,k,t;h<m;)k=b.charCodeAt(h++),55296<=k&&56319>=k&&h<m?(t=b.charCodeAt(h++),56320==(t&64512)?e.push(((k&1023)<<10)+(t&1023)+65536):(e.push(k),h--)):e.push(k);return e}}});y.drawing.util=y.util;y.dataviz.util=y.util})();return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("util/text-metrics",["kendo.core","util/main"],b)})(function(){(function(b){var k=document,q=window.kendo,B=q.Class,u=q.util,z=u.defined,C=B.extend({init:function(b){this._size=b;this._length=0;this._map={}},put:function(b,k){var q=this._map,t={key:b,value:k};q[b]=t;this._head?(this._tail.newer=t,t.older=this._tail,this._tail=t):this._head=this._tail=t;this._length>=this._size?(q[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++},get:function(b){if(b=this._map[b])return b===this._head&&b!==this._tail&&(this._head=b.newer,this._head.older=null),b!==this._tail&&(b.older&&(b.older.newer=b.newer,b.newer.older=b.older),b.older=this._tail,b.newer=null,this._tail=this._tail.newer=b),b.value}}),y=b("\x3cdiv style\x3d'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;' /\x3e")[0],F=B.extend({init:function(b){this._cache=new C(1E3);this._initOptions(b)},options:{baselineMarkerSize:1},measure:function(q,E,x){if(!q)return{width:0,height:0,baseline:0};var t=u.objectKey(E),t=u.hashKey(q+t),m=this._cache.get(t);if(m)return m;m={width:0,height:0,baseline:0};x=x?x:y;var e=this._baselineMarker().cloneNode(!1),h;for(h in E){var p=E[h];z(p)&&(x.style[h]=p)}b(x).text(q);x.appendChild(e);k.body.appendChild(x);(q+"").length&&(m.width=x.offsetWidth-this.options.baselineMarkerSize,m.height=x.offsetHeight,m.baseline=e.offsetTop+this.options.baselineMarkerSize);0<m.width&&0<m.height&&this._cache.put(t,m);x.parentNode.removeChild(x);return m},_baselineMarker:function(){return b("\x3cdiv class\x3d'k-baseline-marker' style\x3d'display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;' /\x3e")[0]}});F.current=new F;q.util.TextMetrics=F;q.util.LRUCache=C;q.util.loadFonts=function(b,k){var x=[];if(0<b.length&&document.fonts){try{x=b.map(function(b){return document.fonts.load(b)})}catch(t){q.logToConsole(t)}Promise.all(x).then(k,k)}else k()};q.util.measureText=function(b,k,q){return F.current.measure(b,k,q)}})(window.kendo.jQuery)},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});
(function(b,k){k("util/base64",["util/main"],b)})(function(){(function(){function b(b){for(var k="",q=0;q<b.length;q++){var u=b.charCodeAt(q);128>u?k+=B(u):2048>u?(k+=B(192|u>>>6),k+=B(128|u&63)):65536>u&&(k+=B(224|u>>>12),k+=B(128|u>>>6&63),k+=B(128|u&63))}return k}var k=window.kendo,q=k.deepExtend,B=String.fromCharCode;q(k.util,{encodeBase64:function(k){var q="",u,y,B,A,E,x,t=0;for(k=b(k);t<k.length;)u=k.charCodeAt(t++),y=k.charCodeAt(t++),B=k.charCodeAt(t++),A=u>>2,u=(u&3)<<4|y>>4,E=(y&15)<<2|B>>6,x=B&63,isNaN(y)?E=x=64:isNaN(B)&&(x=64),q=q+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(A)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(u)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(E)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(x);return q},encodeUTF8:b})})();return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("mixins/observers",["kendo.core"],b)})(function(){(function(b){var k=Math,q=window.kendo,B=q.deepExtend,u=b.inArray;B(q,{mixins:{ObserversMixin:{observers:function(){return this._observers=this._observers||[]},addObserver:function(b){this._observers?this._observers.push(b):this._observers=[b];return this},removeObserver:function(b){var k=this.observers();b=u(b,k);-1!=b&&k.splice(b,1);return this},trigger:function(b,k){var q=this._observers,u,A;if(q&&!this._suspended)for(A=0;A<q.length;A++)if(u=q[A],u[b])u[b](k);return this},optionsChange:function(b){this.trigger("optionsChange",b)},geometryChange:function(b){this.trigger("geometryChange",b)},suspend:function(){this._suspended=(this._suspended||0)+1;return this},resume:function(){this._suspended=k.max((this._suspended||0)-1,0);return this},_observerField:function(b,k){this[b]&&this[b].removeObserver(this);this[b]=k;k.addObserver(this)}}}})})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.grid","kendo.data kendo.columnsorter kendo.editable kendo.window kendo.filtermenu kendo.columnmenu kendo.groupable kendo.pager kendo.selectable kendo.sortable kendo.reorderable kendo.resizable kendo.mobile.actionsheet kendo.mobile.pane kendo.ooxml kendo.excel kendo.progressbar kendo.pdf".split(" "),b)})(function(){(function(b,k){function q(a){return Array(a+1).join('\x3ctd class\x3d"k-group-cell"\x3e\x26nbsp;\x3c/td\x3e')}function B(a){var b,d=" ";if(a){if("string"===typeof a)return a;for(b in a)d+=b+'\x3d"'+a[b]+'"'}return d}function u(a,d){b("th, th .k-grid-filter, th .k-link",a).add(document.body).css("cursor",d)}function z(a,d,c,e,g){var v=d;d=b();g=g||1;for(var f=0;f<g;f++)d=d.add(a.eq(v+f));if("number"==typeof c)d[e?"insertBefore":"insertAfter"](a.eq(c));else d.appendTo(c)}function C(a,d,c){return b(a).add(d).find(c)}function y(a,b,d){return ea(a,function(a){a="string"===typeof a?{field:a}:a;var c;if(!t(a)||d)a.attributes=ca(a.attributes),a.footerAttributes=ca(a.footerAttributes),a.headerAttributes=ca(a.headerAttributes),c=!0;a.columns&&(a.columns=y(a.columns,b,c));var e=I.guid();a.headerAttributes=T({id:e},a.headerAttributes);return T({encoded:b,hidden:c},a)})}function F(a,b){var d=[];A(a,b,d);return d[d.length-1]}function A(a,b,d){d=d||[];for(var c=0;c<b.length;c++){if(a===b[c])return!0;if(b[c].columns){var e=d.length;d.push(b[c]);if(A(a,b[c].columns,d))return!0;d.splice(e,d.length-e)}}return!1}function E(a,b){var d=b?Ba:ca;a.hidden=!b;a.attributes=d(a.attributes);a.footerAttributes=d(a.footerAttributes);a.headerAttributes=d(a.headerAttributes)}function x(){return"none"!==this.style.display}function t(a){return 0<m([a]).length}function m(a){return U(a,function(a){var b=!a.hidden;b&&a.columns&&(b=0<m(a.columns).length);return b})}function e(a){return b(a).map(function(){return this.toArray()})}function h(a,d,c,e,g,f,h){a=n(a);d=n([d]);if(a>d){h=Array(h+1).join('\x3cth class\x3d"k-group-cell k-header" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e');var v=f.children(":not(.k-filter-row)");b(Array(a-d+1).join("\x3ctr\x3e"+h+"\x3c/tr\x3e")).insertAfter(v.last())}a-=d;h=f.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(d=0;d<h.length;d++)h[d].rowSpan+=a;D(c,e,g,f)}function p(a,d,c){c=c||0;var e,g=d;d=K(d);var v={};a=a.find("\x3etr:not(.k-filter-row)");for(var h=function(){var a=b(this);return!a.hasClass("k-group-cell")&&!a.hasClass("k-hierarchy-cell")},l=0,r=d.length;l<r;l++)e=f(d[l],g),v[e.row]||(v[e.row]=a.eq(e.row).find(".k-header").filter(h)),e=v[e.row].eq(e.cell),e.attr(I.attr("index"),c+l);return d.length}function n(a){for(var b=0,d=0;d<a.length;d++)if(a[d].columns){var c=n(a[d].columns);c>b&&(b=c)}return 1+b}function D(a,d,e,g){var v=c(a[0],d),f=e.find("\x3etr:not(.k-filter-row):eq("+v.row+")\x3eth.k-header"),h=b(),l=v.cell,r;for(r=0;r<a.length;r++)h=h.add(f.eq(l+r));g.find("\x3etr:not(.k-filter-row)").eq(v.row).append(h);v=[];for(r=0;r<a.length;r++)a[r].columns&&(v=v.concat(a[r].columns));v.length&&D(v,d,e,g)}function f(a,b,d,c){var e,g;d=d||0;c=c||{};c[d]=c[d]||0;for(g=0;g<b.length;g++){if(b[g]==a){e={cell:c[d],row:d};break}else if(b[g].columns&&(e=f(a,b[g].columns,d+1,c)))break;c[d]++}return e}function l(a,b,d,c){if(b.columns)return b=b.columns,b[c?0:b.length-1];var e=F(b,a),e=e?e.columns:a;b=fa(b,e);if(0===b&&c)b++;else if(b==e.length-1&&!c)b--;else if(0<b||0===b&&!c)b+=c?-1:1;var g=fa(d,e),v=b,f,h=d.locked;do f=e[v],v+=g>b?1:-1;while(f&&-1<v&&v<e.length&&f!=d&&!f.columns&&f.locked==h);return(b=f)&&b!=d&&b.columns?l(a,b,d,c):null}function c(a,b,d,e){var g,v;d=d||0;e=e||{};e[d]=e[d]||0;for(v=0;v<b.length;v++){if(b[v]==a){g={cell:e[d],row:d};break}else if(b[v].columns&&(g=c(a,b[v].columns,d+1,e)))break;b[v].hidden||e[d]++}return g}function w(b){return a(J(b)).concat(a(O(b)))}function a(b){for(var d=[],c=[],e=0;e<b.length;e++)d.push(b[e]),b[e].columns&&(c=c.concat(b[e].columns));c.length&&(d=d.concat(a(c)));return d}function d(a){for(var b=0,c,e=0;e<a.length;e++)c=a[e],c.columns?b+=d(c.columns):c.hidden&&b++;return b}function g(a){for(var b,d=0,c=0,e=a.length;c<e;c++)(b=a[c].style.width)&&-1==b.indexOf("%")&&(d+=parseInt(b,10));return d}function G(a){a=a.find("tr:not(.k-filter-row)");for(var d=a.filter(function(){return!b(this).children().length}).remove().length,c=a.find("th:not(.k-group-cell,.k-hierarchy-cell)"),e=0;e<c.length;e++)1<c[e].rowSpan&&(c[e].rowSpan-=d);return a.length-d}function P(a,b,d,c,e){var g,v,f,h=[];g=0;for(f=a.length;g<f;g++)v=d[c]||[],v.push(b.eq(e+g)),d[c]=v,a[g].columns&&(h=h.concat(a[g].columns));h.length&&P(h,b,d,c+1,e+a.length)}function J(a){return U(a,function(a){return a.locked})}function O(a){return U(a,function(a){return!a.locked})}function H(a){return U(a,function(a){return!a.locked&&t(a)})}function Y(a){return U(a,function(a){return a.locked&&t(a)})}function r(a){for(var b=[],d=0;d<a.length;d++)a[d].hidden||(a[d].columns?b=b.concat(r(a[d].columns)):b.push(a[d]));return b}function K(a){for(var b=[],d=0;d<a.length;d++)a[d].columns?b=b.concat(K(a[d].columns)):b.push(a[d]);return b}function Q(a){a=a.find("\x3etr:not(.k-filter-row)");var d=function(){var a=b(this);return!a.hasClass("k-group-cell")&&!a.hasClass("k-hierarchy-cell")},c=b();1<a.length&&(c=a.find("th").filter(d).filter(function(){return 1<this.rowSpan}));var c=c.add(a.last().find("th").filter(d)),e=I.attr("index");c.sort(function(a,d){a=b(a);d=b(d);var c=a.attr(e),g=d.attr(e);c===k&&(c=b(a).index());g===k&&(g=b(d).index());c=parseInt(c,10);g=parseInt(g,10);return c>g?1:c<g?-1:0});return c}function ha(a){var d=a.closest("table"),c=b().add(a),e=a.closest("tr"),d=d.find("tr:not(.k-filter-row)"),g=d.index(e);if(0<g){var d=d.eq(g-1).find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!b(this).attr("rowspan")}),g=0,e=e.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(a),v=a.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return 1<this.colSpan});for(a=0;a<v.length;a++)g+=v[a].colSpan||1;e+=Math.max(g-1,0);for(a=g=0;a<d.length;a++)if(v=d.eq(a),g=v.attr("colSpan")?g+v[0].colSpan:g+1,e>=a&&e<g){c=ha(v).add(c);break}}return c}function N(a){var d=a.closest("thead"),c=b().add(a),e=a.closest("tr"),g=d.find("tr:not(.k-filter-row)"),v=g.index(e)+a[0].rowSpan,d=I.attr("colspan");if(v<=g.length-1){for(var v=e.next(),f=a.prevAll(":not(.k-group-cell,.k-hierarchy-cell)"),f=f.filter(function(){return!this.rowSpan||1===this.rowSpan}),e=g=0;e<f.length;e++)g+=parseInt(f.eq(e).attr(d),10)||1;f=v.find("th:not(.k-group-cell,.k-hierarchy-cell)");a=parseInt(a.attr(d),10)||1;for(e=0;e<a;)v=f.eq(e+g),c=c.add(N(v)),v=parseInt(v.attr(d),10),1<v&&(a-=v-1),e++}return c}function Z(a,d,c,e){var g=a;e&&a.empty();Ma?a[0].innerHTML=c:(a=document.createElement("div"),a.innerHTML="\x3ctable\x3e\x3ctbody\x3e"+c+"\x3c/tbody\x3e\x3c/table\x3e",a=a.firstChild.firstChild,d[0].replaceChild(a,g[0]),a=b(a));return a}function ca(a){a=a||{};var b=a.style;b?(b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),b===a.style&&(b=b.replace(/(.*)?/i,"display:none;$1"))):b="display:none";return T({},a,{style:b})}function Ba(a){a=a||{};var b=a.style;b&&(a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,""));return a}function na(a,d,c,e){var g=a.find("\x3ecolgroup"),f;d=ea(d,function(a){return(f=a.width)&&0!==parseInt(f,10)?I.format('\x3ccol style\x3d"width:{0}"/\x3e',"string"===typeof f?f:f+"px"):"\x3ccol /\x3e"});(c||g.find(".k-hierarchy-col").length)&&d.splice(0,0,'\x3ccol class\x3d"k-hierarchy-col" /\x3e');g.length&&g.remove();g=b(Array(e+1).join('\x3ccol class\x3d"k-group-col"\x3e')+d.join(""));g.is("colgroup")||(g=b("\x3ccolgroup/\x3e").append(g));a.prepend(g);W.msie&&8==W.version&&(a.css("display","inline-table"),window.setTimeout(function(){a.css("display","")},1))}function Fa(a,b){var d=0,c,e,g=a.find("th:not(.k-group-cell)");c=0;for(e=b.length;c<e;c++)b[c].locked&&(g.eq(c).insertBefore(g.eq(d)),g=a.find("th:not(.k-group-cell)"),d++)}function qa(a){var b={},d,c,e;c=0;for(e=a.length;c<e;c++)d=a[c],b[d.value]=d.text;return b}function R(a,b,d,c){a=d&&d.length&&S(d[0])&&"value"in d[0]?qa(d)[a]:a;a=null!=a?a:"";return b?I.format(b,a):!1===c?a:I.htmlEncode(a)}function ga(a,b,d){for(var c=0,e,g=a[c];g;){if((e=d?!0:"none"!==g.style.display)&&!Pa.test(g.className)&&0>--b){g.style.display=d?"":"none";break}g=a[++c]}}function oa(a,d){for(var c=0,e=a.length,g,f;c<e;c+=1)f=a.eq(c),f.is(".k-grouping-row,.k-detail-row")?(g=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),g.attr("colspan",parseInt(g.attr("colspan"),10)-1)):(f.hasClass("k-grid-edit-row")&&(g=f.children(".k-edit-container")[0])&&(g=b(g),g.attr("colspan",parseInt(g.attr("colspan"),10)-1),g.find("col").eq(d).remove(),f=g.find("tr:first")),ga(f[0].cells,d,!1))}function ra(a){for(var b=[],d,c=0;c<a.length;c++){d=a[c];if(!("field"in d&&"value"in d&&"items"in d))break;b.push(d);d.hasSubgroups&&(b=b.concat(ra(d.items)))}return b}function Ha(a){for(var b=[],d,c=0;c<a.length;c++){d=a[c];if(!("field"in d&&"value"in d&&"items"in d))break;d.hasSubgroups&&(b=b.concat(Ha(d.items)));b.push(d.aggregates)}return b}function xa(a,d){for(var c=0,e=a.length,g,f;c<e;c+=1)f=a.eq(c),f.is(".k-grouping-row,.k-detail-row")?(g=f.children(":not(.k-group-cell):first,.k-detail-cell").last(),g.attr("colspan",parseInt(g.attr("colspan"),10)+1)):(f.hasClass("k-grid-edit-row")&&(g=f.children(".k-edit-container")[0])&&(g=b(g),g.attr("colspan",parseInt(g.attr("colspan"),10)+1),na(g.find("\x3eform\x3etable"),m(void 0),!1,0),f=g.find("tr:first")),ga(f[0].cells,d,!0))}function Ca(a,b,d){d=d||1;var c,e,g;e=0;for(g=a.length;e<g;e++)c=a.eq(e).children().last(),c.attr("colspan",parseInt(c.attr("colspan"),10)+d),c=b.eq(e).children().last(),c.attr("colspan",parseInt(c.attr("colspan"),10)-d)}function Aa(a){var b,d=0,c=a.find("\x3ecolgroup\x3ecol");a=0;for(b=c.length;a<b;a+=1)d+=parseInt(c[a].style.width,10);return d}function ba(a,b){var d,c=a.offsetHeight,e=b.offsetHeight;c>e?d=c+"px":c<e&&(d=e+"px");d&&(a.style.height=b.style.height=d)}function va(a,b){var d,c,e;if("string"===typeof a&&a===b||S(a)&&a.name===b)return a;if(sa(a))for(d=0,c=a.length;d<c;d++)if(e=a[d],"string"===typeof e&&e===b||e.name===b)return e;return null}function ja(a,d){var c=W.msie||W.edge;if(!0===d){a=b(a);var e,g;e=a.parent().scrollTop();g=a.parent().scrollLeft();if(c)try{a[0].setActive()}catch(Ra){a[0].focus()}else a[0].focus();a.parent().scrollTop(e).scrollLeft(g)}else b(a).one("focusin",function(a){a.preventDefault()}).focus()}function Ja(a){return b(a).is(":button,a,:input,a\x3e.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon")}function Ka(a){var d=b(a.currentTarget),c=d.is("th"),e=this.table.add(this.lockedTable),g=this.thead.parent().add(b("\x3etable",this.lockedHeader)),f=Ja(a.target),v=d.closest("table")[0];I.support.touch||(f&&d.find(I.roleSelector("filtercell")).length?this._setCurrent(d):v!==e[0]&&v!==e[1]&&v!==g[0]&&v!==g[1]||b(a.target).is("a.k-i-collapse, a.k-i-expand")||(this.options.navigatable&&this._setCurrent(d),!c&&f||setTimeout(function(){L&&b(I._activeElement()).hasClass("k-widget")||Ja(I._activeElement())||ja(v,!0)}),c&&a.preventDefault()))}function ya(a,b,d){return'\x3ctr role\x3d"row" class\x3d"k-grouping-row"\x3e'+q(b)+'\x3ctd colspan\x3d"'+a+'" aria-expanded\x3d"true"\x3e\x3cp class\x3d"k-reset"\x3e\x3ca class\x3d"k-icon k-i-collapse" href\x3d"#" tabindex\x3d"-1"\x3e\x3c/a\x3e'+d+"\x3c/p\x3e\x3c/td\x3e\x3c/tr\x3e"}function Na(a){return'\x3ctr role\x3d"row" class\x3d"k-grouping-row"\x3e\x3ctd colspan\x3d"'+a+'" aria-expanded\x3d"true"\x3e\x3cp class\x3d"k-reset"\x3e\x26nbsp;\x3c/p\x3e\x3c/td\x3e\x3c/tr\x3e'}var I=window.kendo,pa=I.ui,za=I.data.DataSource,Ma=I.support.tbodyInnerHtml,wa=I._activeElement,la=pa.Widget,ia=I.keys,S=b.isPlainObject,T=b.extend,ea=b.map,U=b.grep,sa=b.isArray,fa=b.inArray,Da=Array.prototype.push,V=b.proxy,Oa=I.isFunction,ta=b.isEmptyObject,ua=Math,Ga=/(\}|\#)/gi,ma=/#/gi,Pa=/(^|[\x20\t\r\n\f])(k-group-cell|k-hierarchy-cell)([\x20\t\r\n\f]|$)/,La=/(^|[\x20\t\r\n\f])(k-filter-row)([\x20\t\r\n\f]|$)/,ka=!1,W=I.support.browser,Ea=W.msie&&7==W.version,L=W.msie&&8==W.version,X=la.extend({init:function(a,b){la.fn.init.call(this,a,b);this._refreshHandler=V(this.refresh,this);this.setDataSource(b.dataSource);this.wrap()},setDataSource:function(a){this.dataSource&&this.dataSource.unbind("change",this._refreshHandler);this.dataSource=a;this.dataSource.bind("change",this._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:b.noop,prefetch:!0},destroy:function(){la.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.wrapper.add(this.verticalScrollbar).off(".kendoGrid");this.drag&&(this.drag.destroy(),this.drag=null);this._refreshHandler=this.wrapper=this.element=this.verticalScrollbar=null},wrap:function(){var a=this,d=I.support.scrollbar()+1,c=a.element,e;c.css({width:"auto",overflow:"hidden"}).css(ka?"padding-left":"padding-right",d);a.content=c.children().first();e=a.wrapper=a.content.wrap('\x3cdiv class\x3d"k-virtual-scrollable-wrap"/\x3e').parent().bind("DOMMouseScroll.kendoGrid mousewheel.kendoGrid",V(a._wheelScroll,a));I.support.kineticScrollNeeded&&(a.drag=new I.UserEvents(a.wrapper,{global:!0,start:function(a){a.sender.capture()},move:function(b){a.verticalScrollbar.scrollTop(a.verticalScrollbar.scrollTop()-b.y.delta);e.scrollLeft(e.scrollLeft()-b.x.delta);b.preventDefault()}}));a.verticalScrollbar=b('\x3cdiv class\x3d"k-scrollbar k-scrollbar-vertical" /\x3e').css({width:d}).appendTo(c).bind("scroll.kendoGrid",V(a._scroll,a))},_wheelScroll:function(a){if(!a.ctrlKey){var d=this.verticalScrollbar,c=d.scrollTop(),e=I.wheelDeltaY(a);!e||0<e&&0===c||0>e&&c+d[0].clientHeight==d[0].scrollHeight||(a.preventDefault(),b(a.currentTarget).one("wheel.kendoGrid",!1),this.verticalScrollbar.scrollTop(c+-e))}},_scroll:function(a){var b=this,d=!b.options.prefetch;a=a.currentTarget.scrollTop;var c=b.itemHeight,e=b.dataSource.skip()||0,e=b._rangeStart||e,g=b.element.innerHeight(),f=!!(b._scrollbarTop&&b._scrollbarTop>a),v=ua.max(ua.floor(a/c),0),g=ua.max(v+ua.floor(g/c),0);b._scrollTop=a-e*c;b._scrollbarTop=a;b._scrolling=d;b._fetch(v,g,f)||(b.wrapper[0].scrollTop=b._scrollTop);d&&(b._scrollingTimeout&&clearTimeout(b._scrollingTimeout),b._scrollingTimeout=setTimeout(function(){b._scrolling=!1;b._page(b._rangeStart,b.dataSource.take())},100))},itemIndex:function(a){return(this._rangeStart||this.dataSource.skip()||0)+a},position:function(a){var b=this._rangeStart||this.dataSource.skip()||0,d=this.dataSource.pageSize();a=a>b?a-b+1:b-a-1;return a>d?d:a},scrollIntoView:function(a){var b=this.wrapper[0],d=b.clientHeight,b=this._scrollTop||b.scrollTop,c=a[0].offsetTop;a=a[0].offsetHeight;b>c?this.verticalScrollbar[0].scrollTop-=d/2:c+a>=b+d&&(this.verticalScrollbar[0].scrollTop+=d/2)},_fetch:function(a,d,c){var e=this.dataSource,g=this.itemHeight,f=e.take(),v=this._rangeStart||e.skip()||0,h=ua.floor(a/f)*f,l=!1;a<v?(l=!0,v=ua.max(0,d-f),this._scrollTop=(a-v)*g,this._page(v,f)):d>=v+f&&!c?(l=!0,this._scrollTop=g,this._page(a,f)):!this._fetching&&this.options.prefetch&&(a<h+f-.33*f&&a>f&&e.prefetch(h-f,f,b.noop),d>h+.33*f&&e.prefetch(h+f,f,b.noop));return l},fetching:function(){return this._fetching},_page:function(a,b){var d=this,c=!d.options.prefetch,e=d.dataSource;clearTimeout(d._timeout);d._fetching=!0;d._rangeStart=a;e.inRange(a,b)?e.range(a,b):(c||I.ui.progress(d.wrapper.parent(),!0),d._timeout=setTimeout(function(){d._scrolling||(c&&I.ui.progress(d.wrapper.parent(),!0),e.range(a,b))},100))},repaintScrollbar:function(){var a="",b=this.dataSource,d=I.support.kineticScrollNeeded?0:I.support.scrollbar(),c=this.wrapper[0],e;e=this.itemHeight=this.options.itemHeight()||0;d=c.scrollWidth>c.offsetWidth?d:0;b=b.total()*e+d;for(e=0;e<ua.floor(b/25E4);e++)a+='\x3cdiv style\x3d"width:1px;height:250000px"\x3e\x3c/div\x3e';b%25E4&&(a+='\x3cdiv style\x3d"width:1px;height:'+b%25E4+'px"\x3e\x3c/div\x3e');this.verticalScrollbar.html(a);c.scrollTop=this._scrollTop},refresh:function(){var a=this.dataSource,b=this._rangeStart;I.ui.progress(this.wrapper.parent(),!1);clearTimeout(this._timeout);this.repaintScrollbar();this.drag&&this.drag.cancel();b&&!this._fetching&&(this._rangeStart=a.skip(),1===a.page()&&(this.verticalScrollbar[0].scrollTop=0));this._fetching=!1}}),aa={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-primary k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"},excel:{text:"Export to Excel",imageClass:"k-i-excel",className:"k-grid-excel",iconClass:"k-icon"},pdf:{text:"Export to PDF",imageClass:"k-i-pdf",className:"k-grid-pdf",iconClass:"k-icon"}},Ia=I.ui.DataBoundWidget.extend({init:function(a,d,c){var e=this;d=sa(d)?{dataSource:d}:d;la.fn.init.call(e,a,d);c&&(e._events=c);ka=I.support.isRtl(a);e._element();e._aria();e._columns(e.options.columns);e._dataSource();e._tbody();e._pageable();e._thead();e._groupable();e._toolbar();e._setContentHeight();e._templates();e._navigatable();e._selectable();e._clipboard();e._details();e._editable();e._attachCustomCommandsEvent();e._minScreenSupport();e.options.autoBind?e.dataSource.fetch():(e._group=0<e._groups(),e._footer());e.lockedContent&&(e.wrapper.addClass("k-grid-lockedcolumns"),e._resizeHandler=function(){e.resize()},b(window).on("resize.kendoGrid",e._resizeHandler));I.notify(e)},events:"change dataBinding cancel dataBound detailExpand detailCollapse detailInit filterMenuInit columnMenuInit edit save remove saveChanges columnResize columnReorder columnShow columnHide columnLock columnUnlock navigate".split(" "),setDataSource:function(a){var b=this.options.scrollable;this.options.dataSource=a;this._dataSource();this._pageable();this._thead();b&&(b.virtual?this.content.find("\x3e.k-virtual-scrollable-wrap").scrollLeft(0):this.content.scrollLeft(0));this.options.groupable&&this._groupable();this.virtualScrollable&&this.virtualScrollable.setDataSource(this.options.dataSource);this.options.navigatable&&this._navigatable();this.options.selectable&&this._selectable();this.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,allowCopy:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",noRecords:!1,dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:"Cancel",confirmation:"Are you sure you want to delete this record?",confirmDelete:"Delete"},commands:{create:aa.create.text,cancel:aa.cancel.text,save:aa.save.text,destroy:aa.destroy.text,edit:aa.edit.text,update:aa.update.text,canceledit:aa.canceledit.text,excel:aa.excel.text,pdf:aa.pdf.text},noRecords:"No records available."}},destroy:function(){var a;this._angularItems("cleanup");this._destroyColumnAttachments();la.fn.destroy.call(this);this._navigatableTables=null;this._resizeHandler&&b(window).off("resize.kendoGrid",this._resizeHandler);this.pager&&this.pager.element&&this.pager.destroy();this.pager=null;this.groupable&&this.groupable.element&&this.groupable.element.kendoGroupable("destroy");this.groupable=null;this.options.reorderable&&this.wrapper.data("kendoReorderable").destroy();this.selectable&&this.selectable.element&&(this.selectable.destroy(),this.clearArea(),this.copyHandler&&(this.wrapper.off("keydown",this.copyHandler),this.unbind(this.copyHandler)),this.updateClipBoardState&&(this.unbind(this.updateClipBoardState),this.updateClipBoardState=null),this.clearAreaHandler&&this.wrapper.off("keyup",this.clearAreaHandler));this.selectable=null;this.resizable&&(this.resizable.destroy(),this._resizeUserEvents&&(this._resizeHandleDocumentClickHandler&&b(document).off("click",this._resizeHandleDocumentClickHandler),this._resizeUserEvents.destroy(),this._resizeUserEvents=null),this.resizable=null);this.virtualScrollable&&this.virtualScrollable.element&&this.virtualScrollable.destroy();this.virtualScrollable=null;this._destroyEditable();this.dataSource&&(this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler),this._refreshHandler=this._progressHandler=this._errorHandler=null);a=this.element.add(this.wrapper).add(this.table).add(this.thead).add(this.wrapper.find("\x3e.k-grid-toolbar"));this.content&&(a=a.add(this.content).add(this.content.find("\x3e.k-virtual-scrollable-wrap")));this.lockedHeader&&this._removeLockedContainers();this.pane&&this.pane.destroy();this.minScreenResizeHandler&&b(window).off("resize",this.minScreenResizeHandler);this._draggableInstance&&this._draggableInstance.element&&this._draggableInstance.destroy();this._draggableInstance=null;a.off(".kendoGrid");I.destroy(this.wrapper);this.scrollables=this.thead=this.tbody=this.element=this.table=this.content=this.footer=this.wrapper=this.lockedTable=this.lockedContent=this.lockedHeader=this.lockedFooter=this._groupableClickHandler=this._setContentWidthHandler=this.rowTemplate=this.altRowTemplate=this.lockedRowTemplate=this.lockedAltRowTemplate=this.detailTemplate=this.footerTemplate=this.groupFooterTemplate=this.lockedGroupFooterTemplate=this.noRecordsTemplate=null},getOptions:function(){this.options.dataSource=null;var a=T(!0,{},this.options);a.columns=I.deepExtend([],this.columns);var d=this.dataSource,c=d.options.data&&d._data;d.options.data=null;a.dataSource=b.extend(!0,{},d.options);d.options.data=c;a.dataSource.data=c;a.dataSource.page=d.page();a.dataSource.filter=d.filter();a.dataSource.pageSize=d.pageSize();a.dataSource.sort=d.sort();a.dataSource.group=d.group();a.dataSource.aggregate=d.aggregate();a.dataSource.transport&&(a.dataSource.transport.dataSource=null);a.pageable&&a.pageable.pageSize&&(a.pageable.pageSize=d.pageSize());a.$angular=k;return a},setOptions:function(a){var b=this.getOptions();I.deepExtend(b,a);a.dataSource||(b.dataSource=this.dataSource);a=this.wrapper;var d=this._events,c=this.element;this.destroy();this.options=null;if(this._isMobile){var e=a.closest(I.roleSelector("pane")).parent();e.after(a);e.remove();a.removeClass("k-grid-mobile")}a[0]!==c[0]&&(a.before(c),a.remove());c.empty();this.init(c,b,d);this._setEvents(b)},items:function(){return this.lockedContent?this._items(this.tbody).add(this._items(this.lockedTable.children("tbody"))):this._items(this.tbody)},_items:function(a){return a.children().filter(function(){var a=b(this);return!a.hasClass("k-grouping-row")&&!a.hasClass("k-detail-row")&&!a.hasClass("k-group-footer")})},dataItems:function(){var a=I.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){for(var b=a.length,d=Array(2*b),c=b;0<=--c;)d[c]=d[c+b]=a[c];a=d}return a},_destroyColumnAttachments:function(){var a=this;a.resizeHandle=null;a.thead&&(this.angular("cleanup",function(){return{elements:a.thead.get()}}),a.thead.add(a.lockedHeader).find("th").each(function(){var a=b(this),d=a.data("kendoFilterMenu"),c=a.data("kendoColumnSorter"),a=a.data("kendoColumnMenu");d&&d.destroy();c&&c.destroy();a&&a.destroy()}))},_attachCustomCommandsEvent:function(){var a=K(this.columns||[]),b,d,c;d=0;for(c=a.length;d<c;d++)if(b=a[d].command){var e=this.wrapper,g,f,h,l;b=sa(b)?b:[b];g=0;for(f=b.length;g<f;g++)h=b[g],S(h)&&h.click&&(l=h.name||h.text,e.on("click.kendoGrid","a.k-grid-"+(l||"").replace(/\s/g,""),{commandName:l},V(h.click,this)))}},_aria:function(){this._cellId=(this.element.attr("id")||"aria")+"_active_cell"},_element:function(){var a=this.element;a.is("table")||(a=this.options.scrollable?this.element.find("\x3e .k-grid-content \x3e table"):this.element.children("table"),a.length||(a=b("\x3ctable /\x3e").appendTo(this.element)));Ea&&a.attr("cellspacing",0);this.table=a.attr("role",this._hasDetails()?"treegrid":"grid");this._wrapper()},_createResizeHandle:function(a,d){var c=this,e=c.options.columnResizeHandleWidth,g=c.options.scrollable,f=c.resizeHandle,v=this._groups(),h;f&&c.lockedContent&&f.data("th")[0]!==d[0]&&(f.off(".kendoGrid").remove(),f=null);f||(f=c.resizeHandle=b('\x3cdiv class\x3d"k-resize-handle"\x3e\x3cdiv class\x3d"k-resize-handle-inner"\x3e\x3c/div\x3e\x3c/div\x3e'),a.append(f));if(ka){if(h=d.position().left,g){var l=d.closest(".k-grid-header-wrap, .k-grid-header-locked"),v=W.msie?l.scrollLeft():0,g=W.webkit?l[0].scrollWidth-l[0].offsetWidth-l.scrollLeft():0,l=W.mozilla?l[0].scrollWidth-l[0].offsetWidth-(l[0].scrollWidth-l[0].offsetWidth-l.scrollLeft()):0;h-=g-l+v}}else{h=d[0].offsetWidth;g=Q(d.closest("thead")).filter(":visible");for(l=0;l<g.length&&g[l]!=d[0];l++)h+=g[l].offsetWidth;0<v&&(h+=a.find(".k-group-cell:first").outerWidth()*v);c._hasDetails()&&(h+=a.find(".k-hierarchy-cell:first").outerWidth())}f.css({top:d.position().top,left:h-e,height:d.outerHeight(),width:3*e}).data("th",d).show();f.off("dblclick.kendoGrid").on("dblclick.kendoGrid",function(){c._autoFitLeafColumn(d.data("index"))})},_positionColumnResizeHandle:function(){var a=this,d=a.options.columnResizeHandleWidth,c=a.lockedHeader?a.lockedHeader.find("thead:first"):b();a.thead.add(c).on("mousemove.kendoGrid","th",function(c){var e=b(this);if(!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")){c=c.clientX;var g=b(window).scrollLeft(),f=e.offset().left+(ka?0:this.offsetWidth);c+g>f-d&&c+g<f+d?a._createResizeHandle(e.closest("div"),e):a.resizeHandle?a.resizeHandle.hide():u(a.wrapper,"")}})},_resizeHandleDocumentClick:function(a){b(a.target).closest(".k-column-active").length||(b(document).off(a),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.off(".kendoGrid").remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var a=this,d=a.lockedHeader?a.lockedHeader.find("thead:first"):b();a._resizeUserEvents=new I.UserEvents(d.add(a.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(d){var c=b(d.target);d.preventDefault();c.addClass("k-column-active");a._createResizeHandle(c.closest("div"),c);a._resizeHandleDocumentClickHandler||(a._resizeHandleDocumentClickHandler=V(a._resizeHandleDocumentClick,a));b(document).on("click",a._resizeHandleDocumentClickHandler)}})},_resizable:function(){var a=this,d=a.options,c,e,g,f,h=this._isMobile,l=I.support.mobileOS?0:I.support.scrollbar(),r,m,k;d.resizable&&(c=d.scrollable?a.wrapper.find(".k-grid-header-wrap:first"):a.wrapper,h?a._positionColumnResizeHandleTouch(c):a._positionColumnResizeHandle(c),a.resizable&&a.resizable.destroy(),a.resizable=new pa.Resizable(c.add(a.lockedHeader),{handle:(d.scrollable?"":"\x3e")+".k-resize-handle",hint:function(d){return b('\x3cdiv class\x3d"k-grid-resize-indicator" /\x3e').css({height:d.data("th").outerHeight()+a.tbody.attr("clientHeight")})},start:function(c){k=b(c.currentTarget).data("th");h&&a._hideResizeHandle();var v=k.closest("table"),l=b.inArray(k[0],Q(k.closest("thead")).filter(":visible")),n=(r=v.parent().hasClass("k-grid-header-locked"))?a.lockedTable:a.table,M=a.footer||b();a.footer&&a.lockedContent&&(M=r?a.footer.children(".k-grid-footer-locked"):a.footer.children(".k-grid-footer-wrap"));u(a.wrapper,"col-resize");m=d.scrollable?v.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")").add(n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")")).add(M.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")")):n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+l+")");e=c.x.location;g=k.outerWidth();f=r?n.children("tbody").outerWidth():a.tbody.outerWidth();W.webkit&&a.wrapper.addClass("k-grid-column-resizing")},resize:function(c){var v=ka?-1:1,h=g+c.x.location*v-e*v;if(d.scrollable){var n;r&&a.lockedFooter?n=a.lockedFooter.children("table"):a.footer&&(n=a.footer.find("\x3e.k-grid-footer-wrap\x3etable"));n&&n[0]||(n=b());var M=k.closest("table"),p=r?a.lockedTable:a.table,t=!1,w=a.wrapper.width()-l,da=h;r&&f-g+da>w&&(da=g+(w-f-2*l),0>da&&(da=h),t=!0);10<da&&(m.css("width",da),f&&(da=t?w-2*l:f+c.x.location*v-e*v,p.add(M).add(n).css("width",da),r||(a._footerWidth=da)))}else 10<h&&m.css("width",h)},resizeend:function(){var b=k.outerWidth(),d;u(a.wrapper,"");W.webkit&&a.wrapper.removeClass("k-grid-column-resizing");if(g!=b){d=a.lockedHeader?a.lockedHeader.find("thead:first tr:first").add(a.thead.find("tr:first")):k.parent();var c=k.attr(I.attr("index"));c||(c=d.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(k));d=K(a.columns)[c];d.width=b;a.trigger("columnResize",{column:d,oldWidth:g,newWidth:b});a._applyLockedContainersWidth();a._syncLockedContentHeight();a._syncLockedHeaderHeight()}a._hideResizeHandle();k=null}}))},_draggable:function(){var a=this;a.options.reorderable&&(a._draggableInstance&&a._draggableInstance.destroy(),a._draggableInstance=a.wrapper.kendoDraggable({group:I.guid(),autoScroll:!0,filter:a.content?".k-grid-header:first th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)":"table:first\x3e.k-grid-header th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",drag:function(){a._hideResizeHandle()},hint:function(a){var d=a.attr(I.attr("title"));d&&(d=I.htmlEncode(d));return b('\x3cdiv class\x3d"k-header k-drag-clue" /\x3e').css({width:a.width(),paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight"),lineHeight:a.height()+"px",paddingTop:a.css("paddingTop"),paddingBottom:a.css("paddingBottom")}).html(d||a.attr(I.attr("field"))||a.text()).prepend('\x3cspan class\x3d"k-icon k-drag-status k-denied" /\x3e')}}).data("kendoDraggable"))},_reorderable:function(){var a=this;if(a.options.reorderable){a.wrapper.data("kendoReorderable")&&a.wrapper.data("kendoReorderable").destroy();var d=function(b,d,c){c=b[c];b=(b=F(b[d],a.columns))?b.columns:a.columns;return fa(c,b)};a.wrapper.kendoReorderable({draggable:a._draggableInstance,dragOverContainers:function(b,c){var e=w(a.columns);return!1!==e[b].lockable&&-1<d(e,b,c)},inSameContainer:function(c){return b(c.source).parent()[0]===b(c.target).parent()[0]&&-1<d(w(a.columns),c.sourceIndex,c.targetIndex)},change:function(b){var c=w(a.columns),e=c[b.oldIndex],g=d(c,b.oldIndex,b.newIndex);a.trigger("columnReorder",{newIndex:g,oldIndex:fa(e,c),column:e});a.reorderColumn(g,e,"before"===b.position)}})}},_reorderHeader:function(a,b,d){for(var c=f(a[0],this.columns),e=f(b,this.columns),g=[],v=0;v<a.length;v++)a[v].columns&&(g=g.concat(a[v].columns));var v=C(this.lockedHeader,this.thead,"tr:eq("+c.row+")\x3eth.k-header:not(.k-group-cell,.k-hierarchy-cell)"),r=J(a).length,m=J([b]).length;if(g.length)0<r&&0===m?h(a,b,g,this.columns,this.lockedHeader.find("thead"),this.thead,this._groups()):0===r&&0<m&&h(a,b,g,this.columns,this.thead,this.lockedHeader.find("thead"),this._groups()),(b.columns||1<c.cell-e.cell||1<e.cell-c.cell)&&(b=l(this.columns,b,a[0],d))&&this._reorderHeader(g,b,d);else if(r!==m){b=v[c.cell];var m=this.columns,g=n(J(m)),m=n(O(m)),k=b.rowSpan;b.rowSpan=r?g>m?k-(g-m)||1:k+(m-g):g>m?k+(g-m):k-(m-g)||1}z(v,c.cell,e.cell,d,a.length)},_reorderContent:function(a,d,c){var e=b(),g=a[0],f=m(a),v=fa(g,K(this.columns)),h=fa(d,K(this.columns)),l=fa(g,r(this.columns)),k=fa(d,r(this.columns)),g=J(this.columns).length,n=!!d.locked,M=this.footer||this.wrapper.find(".k-grid-footer"),p,t;p=t=k;d.hidden&&(n?(k=this.lockedTable.find("colgroup"),p=this.lockedHeader.find("colgroup"),t=b(this.lockedFooter).find("\x3etable\x3ecolgroup")):(k=this.tbody.prev(),p=this.thead.prev(),t=M.find(".k-grid-footer-wrap").find("\x3etable\x3ecolgroup")));this._hasFilterRow()&&z(this.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),v,h,c,a.length);z(C(this.lockedHeader,this.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),l,p,c,f.length);this.options.scrollable&&z(C(this.lockedTable,this.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),l,k,c,f.length);M&&M.length&&(z(C(this.lockedFooter,M.find(".k-grid-footer-wrap"),"\x3etable\x3ecolgroup\x3ecol:not(.k-group-col,.k-hierarchy-col)"),l,t,c,f.length),z(M.find(".k-footer-template\x3etd:not(.k-group-cell,.k-hierarchy-cell)"),v,h,c,a.length));d=this.tbody.children(":not(.k-grouping-row,.k-detail-row)");this.lockedTable&&(g>h?g<=v&&Ca(this.lockedTable.find("\x3etbody\x3etr.k-grouping-row"),this.table.find("\x3etbody\x3etr.k-grouping-row"),a.length):g>v&&Ca(this.table.find("\x3etbody\x3etr.k-grouping-row"),this.lockedTable.find("\x3etbody\x3etr.k-grouping-row"),a.length),e=this.lockedTable.find("\x3etbody\x3etr:not(.k-grouping-row,.k-detail-row)"));f=0;for(g=d.length;f<g;f+=1)z(C(e[f],d[f],"\x3etd:not(.k-group-cell,.k-hierarchy-cell)"),v,h,c,a.length)},_autoFitLeafColumn:function(a){this.autoFitColumn(K(this.columns)[a])},autoFitColumn:function(d){var c=this.options,e=this.columns,g,f,v,h,l=this.lockedHeader?Q(this.lockedHeader.find("\x3etable\x3ethead")).filter(x).length:0;if((d="number"==typeof d?e[d]:S(d)?U(a(e),function(a){return a===d})[0]:U(a(e),function(a){return a.field===d})[0])&&t(d)){g=fa(d,K(e));v=(h=d.locked)?this.lockedHeader.children("table"):this.thead.parent();f=v.find("[data-index\x3d'"+g+"']");var r=h?this.lockedTable:this.table,m=this.footer||b();this.footer&&this.lockedContent&&(m=h?this.footer.children(".k-grid-footer-locked"):this.footer.children(".k-grid-footer-wrap"));m=m.find("table").first();this.lockedHeader&&!h&&(g-=l);for(h=0;h<e.length&&e[h]!==d;h++)e[h].hidden&&g--;h=c.scrollable?v.find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(g).add(r.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(g)).add(m.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(g)):r.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col)").eq(g);var k=v.add(r).add(m),e=f.outerWidth();h.width("");k.css("table-layout","fixed");h.width("auto");k.addClass("k-autofitting");k.css("table-layout","");g=Math.ceil(Math.max(f.outerWidth(),r.find("tr:not(.k-grouping-row)").eq(0).children("td:visible:not(.k-group-cell):not(.k-hierarchy-cell)").eq(g).outerWidth(),m.find("tr").eq(0).children("td:visible:not(.k-group-cell):not(.k-hierarchy-cell)").eq(g).outerWidth()))+1;h.width(g);d.width=g;if(c.scrollable){var c=v.find("col"),n=0;f=0;for(r=c.length;f<r;f+=1)if((v=c[f].style.width)&&-1==v.indexOf("%"))n+=parseInt(v,10);else{n=0;break}n&&k.each(function(){this.style.width=n+"px"})}W.msie&&8==W.version&&(k.css("display","inline-table"),setTimeout(function(){k.css("display","table")},1));k.removeClass("k-autofitting");this.trigger("columnResize",{column:d,oldWidth:e,newWidth:g});this._applyLockedContainersWidth();this._syncLockedContentHeight();this._syncLockedHeaderHeight()}},reorderColumn:function(a,b,d){var c=F(b,this.columns),c=c?c.columns:this.columns,e=fa(b,c),g=c[a],f=!!g.locked,v=J(this.columns).length;e===a||!b.locked&&f&&1==O(this.columns).length||b.locked&&!f&&1==v||(this._hideResizeHandle(),d===k&&(d=a<e),v=[b],this._reorderHeader(v,g,d),this.lockedHeader&&(G(this.thead),G(this.lockedHeader)),g.columns&&(g=K(g.columns),g=g[d?0:g.length-1]),b.columns&&(v=K(b.columns)),this._reorderContent(v,g,d),g=!!b.locked,g=g!=f,b.locked=f,c.splice(d?a:a+1,0,b),c.splice(e<a?e:e+1,1),this._templates(),this._updateColumnCellIndex(),this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedHeaderHeight(),this._syncLockedContentHeight(),this._updateFirstColumnClass(),g&&(f?this.trigger("columnLock",{column:b}):this.trigger("columnUnlock",{column:b})))},_updateColumnCellIndex:function(){var a;a=0;this.lockedHeader&&(a=this.lockedHeader.find("thead"),a=p(a,J(this.columns)));p(this.thead,O(this.columns),a)},lockColumn:function(a){var b=this.columns;!(a="number"==typeof a?b[a]:U(b,function(b){return b.field===a})[0])||a.locked||a.hidden||(b=J(b).length-1,this.reorderColumn(b,a,!1))},unlockColumn:function(a){var b=this.columns;(a="number"==typeof a?b[a]:U(b,function(b){return b.field===a})[0])&&a.locked&&!a.hidden&&(b=J(b).length,this.reorderColumn(b,a,!0))},cellIndex:function(a){var d=0;this.lockedTable&&!b.contains(this.lockedTable[0],a[0])&&(d=K(J(this.columns)).length);return b(a).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(a)+d},_modelForContainer:function(a){a=b(a);a.is("tr")||"popup"===this._editMode()||(a=a.closest("tr"));a=a.attr(I.attr("uid"));return this.dataSource.getByUid(a)},_editable:function(){var a=this,d=a.selectable&&a.selectable.options.multiple,c=a.options.editable,e=function(){var d=wa(),c=a._editContainer;!c||b.contains(c[0],d)||c[0]===d||b(d).closest(".k-animation-container").length||a.editable.end()&&a.closeCell()};if(c){this.wrapper.addClass("k-editable");if("incell"===a._editMode()){if(!1!==c.update)a.wrapper.on("click.kendoGrid","tr:not(.k-grouping-row) \x3e td",function(c){var e=b(this),g=a.lockedTable&&e.closest("table")[0]===a.lockedTable[0];e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==a.tbody[0]&&!g||b(c.target).is(":input")||(a.editable?a.editable.end()&&(d&&b(wa()).blur(),a.closeCell(),a.editCell(e)):a.editCell(e))}).on("focusin.kendoGrid",function(){b.contains(this,wa())||(clearTimeout(a.timer),a.timer=null)}).on("focusout.kendoGrid",function(){a.timer=setTimeout(e,1)})}else if(!1!==c.update)a.wrapper.on("click.kendoGrid","tbody\x3etr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(d){d.preventDefault();a.editRow(b(this).closest("tr"))});if(!1!==c.destroy)a.wrapper.on("click.kendoGrid","tbody\x3etr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(d){d.preventDefault();d.stopPropagation();a.removeRow(b(this).closest("tr"))});else a.wrapper.on("click.kendoGrid","tbody\x3etr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(b){b.stopPropagation();a._confirmation()||b.preventDefault()})}},editCell:function(a){a=b(a);var d=this,c=K(d.columns)[d.cellIndex(a)],e=d._modelForContainer(a);d.closeCell();!e||e.editable&&!e.editable(c.field)||c.command||!c.field||(d._attachModelChange(e),d._editContainer=a,d.editable=a.addClass("k-edit-cell").kendoEditable({fields:{field:c.field,format:c.format,editor:c.editor,values:c.values},model:e,target:d,change:function(b){d.trigger("save",{values:b.values,container:a,model:e})&&b.preventDefault()}}).data("kendoEditable"),c=a.parent().addClass("k-grid-edit-row"),d.lockedContent&&ba(c[0],d._relatedRow(c).addClass("k-grid-edit-row")[0]),d.trigger("edit",{container:a,model:e}))},_adjustLockedHorizontalScrollBar:function(){var a=this.table,b=a.parent(),a=a[0].offsetWidth>b[0].clientWidth?I.support.scrollbar():0;this.lockedContent.height(b.height()-a)},_syncLockedContentHeight:function(){this.lockedTable&&(this.touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var a=this.lockedHeader.children("table"),b=this.thead.parent();this._adjustRowsHeight(a,b);var d,a=a[0];d=b[0];if(a.rows.length!==d.rows.length){var c=a.offsetHeight,e=d.offsetHeight;c>e?(b=d.rows[d.rows.length-1],La.test(b.className)&&(b=d.rows[d.rows.length-2]),a=c-e):(b=a.rows[a.rows.length-1],La.test(b.className)&&(b=a.rows[a.rows.length-2]),a=e-c);b.style.height=b.offsetHeight+a+"px"}}},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap \x3e table"))},_destroyEditable:function(){var a=this,b=function(){if(a.editable){var b=a.editView?a.editView.element:a._editContainer;b&&(b.off("click.kendoGrid","a.k-grid-cancel",a._editCancelClickHandler),b.off("click.kendoGrid","a.k-grid-update",a._editUpdateClickHandler));a._detachModelChange();a.editable.destroy();a.editable=null;a._editContainer=null;a._destroyEditView()}};a.editable&&("popup"!==a._editMode()||a._isMobile?b():a._editContainer.data("kendoWindow").bind("deactivate",b).close());a._actionSheet&&(a._actionSheet.destroy(),a._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})};a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this._modelForContainer(this._editContainer);a&&a.unbind("change",this._modelChangeHandler)},closeCell:function(a){var d=this._editContainer,c,e;d&&(c=d.closest("tr").attr(I.attr("uid")),c=this.dataSource.getByUid(c),a&&this.trigger("cancel",{container:d,model:c})||(d.removeClass("k-edit-cell"),a=K(this.columns)[this.cellIndex(d)],e=d.parent().removeClass("k-grid-edit-row"),this._destroyEditable(),this._displayCell(d,a,c),d.hasClass("k-dirty-cell")&&b('\x3cspan class\x3d"k-dirty"/\x3e').prependTo(d),this.trigger("itemChange",{item:e,data:c,ns:pa}),this.lockedContent&&ba(e.css("height","")[0],this._relatedRow(e).css("height","")[0])))},_displayCell:function(a,b,d){var c={storage:{},count:0},e=T({},I.Template,this.options.templateSettings);b=I.template(this._cellTmpl(b,c),e);0<c.count&&(b=V(b,c.storage));a.empty().html(b(d));this.angular("compile",function(){return{elements:a,data:[{dataItem:d}]}})},removeRow:function(a){this._confirmation(a)&&this._removeRow(a)},_removeRow:function(a){var d,c=this._editMode();"incell"!==c&&this.cancelRow();a=b(a);this.lockedContent&&(a=a.add(this._relatedRow(a)));a=a.hide();(d=this._modelForContainer(a))&&!this.trigger("remove",{row:a,model:d})?(this.dataSource.remove(d),"inline"!==c&&"popup"!==c||this.dataSource.sync()):"incell"===c&&this._destroyEditable()},_editMode:function(){var a="incell",b=this.options.editable;!0!==b&&(a="string"==typeof b?b:b.mode||a);return a},editRow:function(a){var d,c=this;a instanceof I.data.ObservableObject?d=a:(a=b(a),d=c._modelForContainer(a));var e=c._editMode();c.cancelRow();d&&(a=c.tbody.children("["+I.attr("uid")+"\x3d"+d.uid+"]"),c._attachModelChange(d),"popup"===e?c._createPopupEditor(d):"inline"===e?c._createInlineEditor(a,d):"incell"===e&&b(a).children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").each(function(){var a=b(this),e=K(c.columns)[c.cellIndex(a)];if((d=c._modelForContainer(a))&&(!d.editable||d.editable(e.field))&&e.field)return c.editCell(a),!1}),a=c.editView?c.editView.element:c._editContainer)&&(this._editCancelClickHandler||(this._editCancelClickHandler=V(this._editCancelClick,this)),a.on("click.kendoGrid","a.k-grid-cancel",this._editCancelClickHandler),this._editUpdateClickHandler||(this._editUpdateClickHandler=V(this._editUpdateClick,this)),a.on("click.kendoGrid","a.k-grid-update",this._editUpdateClickHandler))},_editUpdateClick:function(a){a.preventDefault();a.stopPropagation();this.saveRow()},_editCancelClick:function(a){var d=this.options.navigatable,c=this.editable.options.model,e=this.editView?this.editView.element:this._editContainer;a.preventDefault();a.stopPropagation();this.trigger("cancel",{container:e,model:c})||(a=this.items().index(b(this.current()).parent()),this.cancelRow(),d&&(this._setCurrent(this.items().eq(a).children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()),ja(this.table,!0)))},_createPopupEditor:function(a){var d=this,c="\x3cdiv "+I.attr("uid")+'\x3d"'+a.uid+'" class\x3d"k-popup-edit-form'+(d._isMobile?" k-mobile-list":"")+'"\x3e\x3cdiv class\x3d"k-edit-form-container"\x3e',e,g,f=[],h,v,l,r,m,k=K(d.columns),n,p=d.options.editable;h=p.template;var p=S(p)?p.window:{},t=T({},I.Template,d.options.templateSettings),p=p||{};if(h)for("string"===typeof h&&(h=window.unescape(h)),c+=I.template(h,t)(a),h=0,v=k.length;h<v;h++)e=k[h],e.command&&(m=va(e.command,"edit"))&&(g=m);else for(h=0,v=k.length;h<v;h++)(e=k[h],e.command)?e.command&&(m=va(e.command,"edit"))&&(g=m):(c+='\x3cdiv class\x3d"k-edit-label"\x3e\x3clabel for\x3d"'+e.field+'"\x3e'+(e.title||e.field||"")+"\x3c/label\x3e\x3c/div\x3e",a.editable&&!a.editable(e.field)||!e.field?(m={storage:{},count:0},e=I.template(d._cellTmpl(e,m),t),0<m.count&&(e=V(e,m.storage)),c+='\x3cdiv class\x3d"k-edit-field"\x3e'+e(a)+"\x3c/div\x3e"):(f.push({field:e.field,format:e.format,editor:e.editor,values:e.values}),c+="\x3cdiv "+I.attr("container-for")+'\x3d"'+e.field+'" class\x3d"k-edit-field"\x3e\x3c/div\x3e'));g&&S(g)&&(g.text&&S(g.text)&&(l=g.text.update,r=g.text.cancel),g.attr&&(n=g.attr));var w;d._isMobile?(c+="\x3c/div\x3e\x3c/div\x3e",d.editView=d.pane.append("\x3cdiv data-"+I.ns+'role\x3d"view" data-'+I.ns+'use-native-scrolling\x3d"true" data-'+I.ns+'init-widgets\x3d"false" class\x3d"k-grid-edit-form"\x3e\x3cdiv data-'+I.ns+'role\x3d"header" class\x3d"k-header"\x3e'+d._createButton({name:"update",text:l,attr:n})+(p.title||"Edit")+d._createButton({name:"canceledit",text:r,attr:n})+"\x3c/div\x3e"+c+"\x3c/div\x3e"),w=d._editContainer=d.editView.element.find(".k-popup-edit-form")):(c=c+'\x3cdiv class\x3d"k-edit-buttons k-state-default"\x3e'+(d._createButton({name:"update",text:l,attr:n})+d._createButton({name:"canceledit",text:r,attr:n})),w=d._editContainer=b(c+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(d.wrapper).eq(0).kendoWindow(T({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(c){c.userTriggered&&(c.sender.element.focus(),d.trigger("cancel",{container:w,model:a})?c.preventDefault():(c=d.items().index(b(d.current()).parent()),d.cancelRow(),d.options.navigatable&&(d._setCurrent(d.items().eq(c).children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()),ja(d.table,!0))))}},p)));d.editable=d._editContainer.kendoEditable({fields:f,model:a,clearContainer:!1,target:d}).data("kendoEditable");d._isMobile&&w.find("input[type\x3dcheckbox],input[type\x3dradio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){b(this).next().children("input").click()});d._openPopUpEditor();d.trigger("edit",{container:w,model:a})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(a,d){var c=this,e,g,f,h=[];c.lockedContent&&(a=a.add(c._relatedRow(a)));a.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){g=b(this);e=K(c.columns)[c.cellIndex(g)];if(!e.command&&e.field&&(!d.editable||d.editable(e.field)))h.push({field:e.field,format:e.format,editor:e.editor,values:e.values}),g.attr(I.attr("container-for"),e.field),g.empty();else if(e.command&&(f=va(e.command,"edit"))){g.empty();var a,v,l;S(f)&&(f.text&&S(f.text)&&(a=f.text.update,v=f.text.cancel),f.attr&&(l=f.attr));b(c._createButton({name:"update",text:a,attr:l})+c._createButton({name:"canceledit",text:v,attr:l})).appendTo(g)}});c._editContainer=a;c.editable=new I.ui.Editable(a.addClass("k-grid-edit-row"),{target:c,fields:h,model:d,clearContainer:!1});1<a.length&&(ba(a[0],a[1]),c._applyLockedContainersWidth());c.trigger("edit",{container:a,model:d})},cancelRow:function(a){var b=this._editContainer,d;b&&(d=this._modelForContainer(b),a&&this.trigger("cancel",{container:b,model:d})||(this._destroyEditable(),this.dataSource.cancelChanges(d),"popup"!==this._editMode()?this._displayRow(b):this._displayRow(this.tbody.find("["+I.attr("uid")+"\x3d"+d.uid+"]"))))},saveRow:function(){var a=this._editContainer,b=this._modelForContainer(a),d=this.editable;a&&d&&d.end()&&!this.trigger("save",{container:a,model:b})&&this.dataSource.sync()},_displayRow:function(a){var d=this._modelForContainer(a),c,e,g=a.hasClass("k-state-selected");e=a.hasClass("k-alt");if(d){this.lockedContent&&(c=b((e?this.lockedAltRowTemplate:this.lockedRowTemplate)(d)),this._relatedRow(a.last()).replaceWith(c));this.angular("cleanup",function(){return{elements:a.get()}});e=b((e?this.altRowTemplate:this.rowTemplate)(d));a.replaceWith(e);this.trigger("itemChange",{item:e,data:d,ns:pa});c&&c.length&&this.trigger("itemChange",{item:c,data:d,ns:pa});var f=e,h=[{dataItem:d}];c&&c.length&&(f=e.add(c),h.push({dataItem:d}));this.angular("compile",function(){return{elements:f.get(),data:h}});g&&this.options.selectable&&this.select(e.add(c));c&&ba(e[0],c[0]);d=e.next();d.hasClass("k-detail-row")&&d.is(":visible")&&e.find(".k-hierarchy-cell .k-icon").removeClass("k-plus").addClass("k-minus")}},_showMessage:function(a,d){var c=this;if(!c._isMobile)return window.confirm(a.title);var e=I.template('\x3cul\x3e\x3cli class\x3d"km-actionsheet-title"\x3e#:title#\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"\\#" class\x3d"k-button k-grid-delete"\x3e#:confirmDelete#\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e'),e=b(e(a)).appendTo(c.view.element);(c._actionSheet=new I.mobile.ui.ActionSheet(e,{cancel:a.cancelDelete,cancelTemplate:'\x3cli class\x3d"km-actionsheet-cancel"\x3e\x3ca class\x3d"k-button" href\x3d"\\#"\x3e#:cancel#\x3c/a\x3e\x3c/li\x3e',close:function(){this.destroy()},command:function(a){b(a.currentTarget).parent().hasClass("km-actionsheet-cancel")||c._removeRow(d)},popup:c._actionSheetPopupOptions})).open(d);return!1},_confirmation:function(a){var b=this.options.editable,d=!0===b||"string"===typeof b?this.options.messages.editable.confirmation:b.confirmation;return!1!==d&&null!=d?("function"===typeof d&&(d=d(this._modelForContainer(a))),this._showMessage({confirmDelete:b.confirmDelete||this.options.messages.editable.confirmDelete,cancelDelete:b.cancelDelete||this.options.messages.editable.cancelDelete,title:!0===d?this.options.messages.editable.confirmation:d},a)):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){(this.editable&&this.editable.end()||!this.editable)&&!this.trigger("saveChanges")&&this.dataSource.sync()},addRow:function(){var a,b=this.dataSource,d=this._editMode(),c=this.options.editable.createAt||"",e=b.pageSize(),g=b.view()||[];if(this.editable&&this.editable.end()||!this.editable)"incell"!=d&&this.cancelRow(),a=b.indexOf(g[0]),"bottom"==c.toLowerCase()&&(a+=g.length,e&&!b.options.serverPaging&&e<=g.length&&--a),0>a&&(a=b.page()>b.totalPages()?(b.page()-1)*e:0),a=b.insert(a,{}),b=a.uid,b=(this.lockedContent?this.lockedTable:this.table).find("tr["+I.attr("uid")+"\x3d"+b+"]"),e=b.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(this._firstEditableColumnIndex(b)),"inline"===d&&b.length?this.editRow(b):"popup"===d?this.editRow(a):e.length&&this.editCell(e),"bottom"==c.toLowerCase()&&this.lockedContent&&(this.lockedContent[0].scrollTop=this.content[0].scrollTop=this.table[0].offsetHeight)},_firstEditableColumnIndex:function(a){var b=K(this.columns),d,c,e=this._modelForContainer(a);d=0;for(c=b.length;d<c;d++)if(a=b[d],e&&(!e.editable||e.editable(a.field))&&!a.command&&a.field&&!0!==a.hidden)return d;return-1},_toolbar:function(){var a=this,d=a.wrapper,c=a.options.toolbar,e=a.options.editable,g;if(c){g=a.wrapper.find(".k-grid-toolbar");g.length||(Oa(c)||(c="string"===typeof c?c:a._toolbarTmpl(c).replace(ma,"\\#"),c=V(I.template(c),a)),g=b('\x3cdiv class\x3d"k-header k-grid-toolbar" /\x3e').html(c({})).prependTo(d),a.angular("compile",function(){return{elements:g.get()}}));if(e&&!1!==e.create)g.on("click.kendoGrid",".k-grid-add",function(b){b.preventDefault();a.addRow()}).on("click.kendoGrid",".k-grid-cancel-changes",function(b){b.preventDefault();a.cancelChanges()}).on("click.kendoGrid",".k-grid-save-changes",function(b){b.preventDefault();a.saveChanges()});g.on("click.kendoGrid",".k-grid-excel",function(b){b.preventDefault();a.saveAsExcel()});g.on("click.kendoGrid",".k-grid-pdf",function(b){b.preventDefault();a.saveAsPDF()})}},_toolbarTmpl:function(a){var b,d,c="";if(sa(a))for(b=0,d=a.length;b<d;b++)c+=this._createButton(a[b]);return c},_createButton:function(a){var b=a.template||'\x3ca class\x3d"k-button k-button-icontext #\x3dclassName#" #\x3dattr# href\x3d"\\#"\x3e\x3cspan class\x3d"#\x3diconClass# #\x3dimageClass#"\x3e\x3c/span\x3e#\x3dtext#\x3c/a\x3e',d="string"===typeof a?a:a.name||a.text,c={className:aa[d]?aa[d].className:"k-grid-"+(d||"").replace(/\s/g,""),text:d,imageClass:"",attr:"",iconClass:""},e=this.options.messages.commands,g;if(!(d||S(a)&&a.template))throw Error("Custom commands should have name specified");S(a)?(a=T(!0,{},a),a.className&&0>fa(c.className,a.className.split(" "))?a.className+=" "+c.className:a.className===k&&(a.className=c.className),"edit"===d&&S(a.text)&&(a=T(!0,{},a),a.text=a.text.edit),a.attr&&(S(a.attr)&&(a.attr=B(a.attr)),"string"===typeof a.attr&&(g=a.attr.match(/class="(.+?)"/))&&0>fa(g[1],a.className.split(" "))&&(a.className+=" "+g[1])),c=T(!0,c,aa[d],{text:e[d]},a)):c=T(!0,c,aa[d],{text:e[d]});return I.template(b)(c)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&0<this.footer.length||0<this.wrapper.find(".k-grid-footer").length},_groupable:function(){var a=this;a._groupableClickHandler?a.table.add(a.lockedTable).off("click.kendoGrid",a._groupableClickHandler):a._groupableClickHandler=function(d){var c=b(this),e=c.closest("tr");c.hasClass("k-i-collapse")?a.collapseGroup(e):a.expandGroup(e);d.preventDefault();d.stopPropagation()};if(a._isLocked())a.lockedTable.on("click.kendoGrid",".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",a._groupableClickHandler);else a.table.on("click.kendoGrid",".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",a._groupableClickHandler);a._attachGroupable()},_attachGroupable:function(){var a=this.wrapper,d=this.options.groupable,c="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)["+I.attr("field")+"]",c=this.content?".k-grid-header:first "+c:"table:first\x3e.k-grid-header "+c;d&&!1!==d.enabled&&(a.has("div.k-grouping-header")[0]||b("\x3cdiv\x3e\x26nbsp;\x3c/div\x3e").addClass("k-grouping-header").prependTo(a),this.groupable&&this.groupable.destroy(),this.groupable=new pa.Groupable(a,T({},d,{draggable:this._draggableInstance,groupContainer:"\x3ediv.k-grouping-header",dataSource:this.dataSource,draggableElements:c,filter:c,allowDrag:this.options.reorderable})))},_continuousItems:function(a,d){if(this.lockedContent){for(var c=this.table.add(this.lockedTable),e=b(a,c[0]),c=b(a,c[1]),g=d?J(this.columns).length:1,f=d?this.columns.length-g:1,h=[],l=0;l<e.length;l+=g)Da.apply(h,e.slice(l,l+g)),Da.apply(h,c.splice(0,f));return h}},_selectable:function(){var a=this,d,c,e=[],g=a._isLocked(),f=a.options.selectable;if(f){a.selectable&&a.selectable.destroy();f=I.ui.Selectable.parseOptions(f);d=f.multiple;c=f.cell;a._hasDetails()&&(e[e.length]=".k-detail-row");if(a.options.groupable||a._hasFooters())e[e.length]=".k-grouping-row,.k-group-footer";e=e.join(",");""!==e&&(e=":not("+e+")");var h=a.table;g&&(h=h.add(a.lockedTable));var l="\x3e"+(c?"tbody\x3etr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) \x3e td:not(.k-group-cell):not(.k-hierarchy-cell)":"tbody\x3etr"+e);a.selectable=new I.ui.Selectable(h,{filter:l,aria:!0,multiple:d,change:function(){a.trigger("change")},useAllItems:g&&d&&c,relatedTarget:function(d){if(!c&&g){for(var e,f=b(),h=0,l=d.length;h<l;h++)e=a._relatedRow(d[h]),0>fa(e[0],d)&&(f=f.add(e));return f}},continuousItems:function(){return a._continuousItems(l,c)}});if(a.options.navigatable)h.on("keydown.kendoGrid",function(e){var f=a.current(),l=e.target;if(e.keyCode===ia.SPACEBAR&&-1<b.inArray(l,h)&&!f.is(".k-edit-cell,.k-header")&&f.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){e.preventDefault();e.stopPropagation();f=c?f:f.parent();g&&!c&&(f=f.add(a._relatedRow(f)));if(d)if(!e.ctrlKey)a.selectable.clear();else{if(f.hasClass("k-state-selected")){f.removeClass("k-state-selected");a.trigger("change");return}}else a.selectable.clear();a.selectable.value(f)}})}},_clipboard:function(){var a=this.options;if(a.selectable&&a.allowCopy){var b=this;if(!a.navigatable)b.table.add(b.lockedTable).attr("tabindex",0).on("mousedown.kendoGrid keydown.kendoGrid",".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}).on("mousedown.kendoGrid","tr:not(.k-footer-template):visible\x3e:not(.k-group-cell):not(.k-hierarchy-cell):visible",V(Ka,b));b.copyHandler=V(b.copySelection,b);b.updateClipBoardState=function(){b.areaClipBoard&&b.areaClipBoard.val(b.getTSV()).focus().select()};b.bind("change",b.updateClipBoardState);b.wrapper.on("keydown",b.copyHandler);b.clearAreaHandler=V(b.clearArea,b);b.wrapper.on("keyup",b.clearAreaHandler)}},copySelection:function(a){a instanceof jQuery.Event&&!a.ctrlKey&&!a.metaKey||b(a.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text||(this.areaClipBoard||(this.areaClipBoard=b("\x3ctextarea /\x3e").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)),this.areaClipBoard.val(this.getTSV()).focus().select())},getTSV:function(){var a=this,d=a.select(),c="\t",e=a.options.allowCopy;b.isPlainObject(e)&&e.delimeter&&(c=e.delimeter);var g="";if(d.length){d.eq(0).is("tr")&&(d=d.find("td:not(.k-group-cell)"));d.filter(":visible");var f=[],h=this.columns.length,l=a._isLocked()&&J(a.columns).length,r=!0;b.each(d,function(d,c){c=b(c);var e=c.closest("tr").index(),g=c.index(),g=g-c.prevAll(":hidden").length;l&&r&&(r=b.contains(a.lockedTable[0],c[0]));a._groups()&&r&&(g-=a._groups());g=r?g:g+l;h>g&&(h=g);var v=c.text();f[e]||(f[e]=[]);f[e][g]=v});var m=f.length,f=b.each(f,function(a,b){b&&(f[a]=b.slice(h),m>a&&(m=a))});b.each(f.slice(m),function(a,b){g=b?g+(b.join(c)+"\r\n"):g+"\r\n"})}return g},clearArea:function(a){this.areaClipBoard&&a&&a.target===this.areaClipBoard[0]&&(a=this.options.navigatable?b(this.current()).closest("table"):this.table,ja(a,!0));this.areaClipBoard&&(this.areaClipBoard.remove(),this.areaClipBoard=null)},_minScreenSupport:function(){this.hideMinScreenCols()&&(this.minScreenResizeHandler=V(this.hideMinScreenCols,this),b(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){return this._iterateMinScreenCols(this.columns,0<window.innerWidth?window.innerWidth:screen.width)},_iterateMinScreenCols:function(a,b){for(var d=!1,c=0;c<a.length;c++){var e=a[c],g=e.minScreenWidth;g!==k&&null!==g&&(d=!0,g>b?this.hideColumn(e):this.showColumn(e));!e.hidden&&e.columns&&(d=this._iterateMinScreenCols(e.columns,b)||d)}return d},_relatedRow:function(a){var d=this.lockedTable;a=b(a);if(!d)return a;var c=a.closest(this.table.add(this.lockedTable));a=c.find("\x3etbody\x3etr").index(a);c=c[0]===this.table[0]?d:this.table;return c.find("\x3etbody\x3etr").eq(a)},clearSelection:function(){this.selectable.clear();this.trigger("change")},select:function(a){var b=this,d=b.selectable;a=b.table.add(b.lockedTable).find(a);if(a.length)d.options.multiple||(d.clear(),a=a.first()),b._isLocked()&&(a=a.add(a.map(function(){return b._relatedRow(this)}))),d.value(a);else return d.value()},_updateCurrentAttr:function(a,d){var c=b(a).data("headerId");b(a).removeClass("k-state-focused").removeAttr("aria-describedby").closest("table").removeAttr("aria-activedescendant");c?(c=c.replace(this._cellId,""),b(a).attr("id",c)):b(a).removeAttr("id");d.data("headerId",d.attr("id")).attr("id",this._cellId).addClass("k-state-focused").closest("table").attr("aria-activedescendant",this._cellId);if(d.closest("tr").hasClass("k-grouping-row")||d.hasClass("k-header"))d.attr("aria-describedby",this._cellId);else{var e=this.columns[this.cellIndex(d)];e&&(c=e.headerAttributes.id);d.attr("aria-describedby",c+" "+this._cellId)}this._current=d},_scrollCurrent:function(){var a=this._current,d=this.options.scrollable;if(a&&d){var c=a.parent(),e=c.closest("table").parent(),g=e.is(".k-grid-content-locked,.k-grid-header-locked"),f=e.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap"),e=b(this.content).find("\x3e.k-virtual-scrollable-wrap").andSelf().last()[0];f&&(d.virtual?(d=Math.max(fa(c[0],this._items(c.parent())),0),this._rowVirtualIndex=this.virtualScrollable.itemIndex(d),this.virtualScrollable.scrollIntoView(c)):this._scrollTo(this._relatedRow(c)[0],e));this.lockedContent&&(this.lockedContent[0].scrollTop=e.scrollTop);g||this._scrollTo(a[0],e)}},current:function(a){return this._setCurrent(a,!0)},_setCurrent:function(a,d){var c=this._current;a=b(a);!a.length||c&&c[0]===a[0]||(this._updateCurrentAttr(c,a),this._scrollCurrent(),d||this.trigger("navigate",{element:a}));return this._current},_removeCurrent:function(){this._current&&(this._current.removeClass("k-state-focused"),this._current=null)},_scrollTo:function(a,d){var c=a.tagName.toLowerCase(),c="td"===c||"th"===c,e=a[c?"offsetLeft":"offsetTop"],g=a[c?"offsetWidth":"offsetHeight"],f=d[c?"scrollLeft":"scrollTop"],h=d[c?"clientWidth":"clientHeight"],l=e+g,v=0,r=0;if(ka&&c){var m=b(a).closest("table")[0];W.msie?v=m.offsetLeft:W.mozilla&&(r=m.offsetLeft-I.support.scrollbar())}f=Math.abs(f+v-r);e=Math.abs((f>e?e:l>f+h?g<=h?l-h:e:f)+v)+r;d[c?"scrollLeft":"scrollTop"]=e},_navigatable:function(){if(this.options.navigatable){var a=this.table.add(this.lockedTable),d=this.thead.parent().add(b("\x3etable",this.lockedHeader)),c=a;this.options.scrollable&&(c=c.add(d),d.attr("tabIndex",-1));this._navigatableTables=c;c.off("mousedown.kendoGrid focus.kendoGrid focusout.kendoGrid keydown.kendoGrid");d.on("keydown.kendoGrid",V(this._openHeaderMenu,this)).find("a.k-link").attr("tabIndex",-1);a.attr("tabIndex",ua.max(a.attr("tabIndex")||0,0)).on("mousedown.kendoGrid keydown.kendoGrid",".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()});c.on(I.support.touch?"touchstart.kendoGrid":"mousedown.kendoGrid","tr:not(.k-footer-template):visible\x3e:not(.k-group-cell):not(.k-hierarchy-cell):visible",V(Ka,this)).on("focus.kendoGrid",V(this._tableFocus,this)).on("focusout.kendoGrid",V(this._tableBlur,this)).on("keydown.kendoGrid",V(this._tableKeyDown,this))}},_openHeaderMenu:function(a){a.altKey&&a.keyCode==ia.DOWN&&(this.current().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())},_setTabIndex:function(a){this._navigatableTables.attr("tabIndex",-1);a.attr("tabIndex",0)},_tableFocus:function(a){if(!I.support.touch){var d=this.current();a=b(a.currentTarget);d&&d.is(":visible")?d.addClass("k-state-focused"):this._setCurrent(a.find("tr:not(.k-footer-template):visible:first\x3e:not(.k-group-cell):not(.k-hierarchy-cell):visible:first"));this._setTabIndex(a)}},_tableBlur:function(){var a=this.current();a&&a.removeClass("k-state-focused")},_tableKeyDown:function(a){var d=this.current(),c=this.virtualScrollable&&this.virtualScrollable.fetching(),e=b(a.target),g=!a.isDefaultPrevented()&&!e.is(":button,a,:input,a\x3e.k-icon");if(c)a.preventDefault();else if(d=d?d:b(this.lockedTable).add(this.table).find("tr:not(.k-footer-template):visible:first\x3e:not(.k-group-cell):not(.k-hierarchy-cell):visible:first"),d.length){c=!1;g&&a.keyCode==ia.UP&&(c=this._moveUp(d));g&&a.keyCode==ia.DOWN&&(c=this._moveDown(d));g&&a.keyCode==(ka?ia.LEFT:ia.RIGHT)&&(c=this._moveRight(d,a.altKey));g&&a.keyCode==(ka?ia.RIGHT:ia.LEFT)&&(c=this._moveLeft(d,a.altKey));g&&a.keyCode==ia.PAGEDOWN&&(c=this._handlePageDown());g&&a.keyCode==ia.PAGEUP&&(c=this._handlePageUp());if(a.keyCode==ia.ENTER||a.keyCode==ia.F2)c=this._handleEnterKey(d,a.currentTarget,e);a.keyCode==ia.ESC&&(c=this._handleEscKey(d,a.currentTarget));a.keyCode==ia.TAB&&(c=this._handleTabKey(d,a.currentTarget,a.shiftKey));c&&(a.preventDefault(),a.stopPropagation())}},_moveLeft:function(a,b){var d,c;d=a.parent();var e=d.parent();b?this.collapseRow(d):(c=e.find("tr:not(.k-footer-template):visible").index(d),d=this._prevHorizontalCell(e,a,c),d[0]||(e=this._horizontalContainer(e),d=this._prevHorizontalCell(e,a,c),d[0]!==a[0]&&ja(e.parent(),!0)),this._setCurrent(d));return!0},_moveRight:function(a,b){var d,c;d=a.parent();var e=d.parent();b?this.expandRow(d):(c=e.find("tr:not(.k-footer-template):visible").index(d),d=this._nextHorizontalCell(e,a,c),d[0]||(e=this._horizontalContainer(e,!0),d=this._nextHorizontalCell(e,a,c),d[0]!==a[0]&&ja(e.parent(),!0)),this._setCurrent(d));return!0},_moveUp:function(a){var b=a.parent().parent(),d=this._prevVerticalCell(b,a);d[0]||(b=this._verticalContainer(b,!0),d=this._prevVerticalCell(b,a),d[0]&&ja(b.parent(),!0));this._setCurrent(d);return!0},_moveDown:function(a){var b=a.parent().parent(),d=this._nextVerticalCell(b,a);d[0]||(b=this._verticalContainer(b),d=this._nextVerticalCell(b,a),d[0]&&ja(b.parent(),!0));this._setCurrent(d);return!0},_handlePageDown:function(){if(!this.options.pageable)return!1;this.dataSource.page(this.dataSource.page()+1);return!0},_handlePageUp:function(){if(!this.options.pageable)return!1;this.dataSource.page(this.dataSource.page()-1);return!0},_handleTabKey:function(a,d,c){var e;if(!this.options.editable||"incell"!=this._editMode()||a.is("th"))return!1;e=b(wa()).closest(".k-edit-cell");e[0]&&e[0]!==a[0]&&(a=e);e=this._tabNext(a,d,c);return e.length?(this._handleEditing(a,e,e.closest("table")),!0):!1},_handleEscKey:function(a,d){var c=wa(),e="incell"==this._editMode();if(!a||!a.hasClass("k-edit-cell")&&!a.parent().hasClass("k-grid-edit-row"))return a.has(c).length?(ja(d,!0),!0):!1;e?this.closeCell(!0):(e=b(a).parent().index(),c&&c.blur(),this.cancelRow(!0),0<=e&&this._setCurrent(this.items().eq(e).children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()));W.msie&&9>W.version&&document.body.focus();ja(d,!0);return!0},_toggleCurrent:function(a,b){var d=a.parent();return d.is(".k-grouping-row")||!b&&d.is(".k-master-row")?(d.find(".k-icon:first").click(),!0):!1},_handleEnterKey:function(a,d,c){var e=this.options.editable,g=c.closest("[role\x3dgridcell]");c.is("table")||b.contains(a[0],c[0])||(a=g);if(a.is("th"))return a.find(".k-link").click(),!0;if(this._toggleCurrent(a,e))return!0;var f=a.find(":kendoFocusable:first");return f[0]&&!a.hasClass("k-edit-cell")&&a.hasClass("k-state-focused")?(f.focus(),!0):e&&!c.is(":button,.k-button,textarea")?(g[0]||(g=a),this._handleEditing(g,!1,d),!0):!1},_nextHorizontalCell:function(a,b,d){var c=b.nextAll(":not(.k-group-cell):not(.k-hierarchy-cell):visible");return c.length||(a=a.find("tr:not(.k-footer-template):visible"),-1!=a.index(b.parent()))?c.first():b.hasClass("k-header")?(c=[],P([J(this.columns)[0]],N(a.eq(0).children().first()),c,0,0),c[d]?c[d][0]:b):b.parent().hasClass("k-filter-row")?a.last().children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first():a.eq(d).children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first()},_prevHorizontalCell:function(a,b,d){var c=b.prevAll(":not(.k-group-cell):not(.k-hierarchy-cell):visible");if(!c.length&&(a=a.find("tr:not(.k-footer-template):visible"),-1==a.index(b.parent()))){if(b.hasClass("k-header")){var c=[],e=J(this.columns);P([e[e.length-1]],N(a.eq(0).children().last()),c,0,0);return c[d]?c[d][0]:b}return b.parent().hasClass("k-filter-row")?a.last().children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").last():a.eq(d).children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").last()}return c.first()},_currentDataIndex:function(a,b){var d=b.attr("data-index");if(!d)return k;var c=J(this.columns).length;return c&&!a.closest("div").hasClass("k-grid-content-locked")[0]?d-c:d},_prevVerticalCell:function(a,d){var c;c=d.parent();var e=a.children("tr:not(.k-footer-template):visible"),g=e.index(c),f=this._currentDataIndex(a,d);if(f||d.hasClass("k-header"))return c=ha(d),c.eq(c.length-2);f=c.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").index(d);if(c.hasClass("k-filter-row"))return Q(a).eq(f);if(-1==g){if(c=a.find(".k-filter-row"),!c[0])return Q(a).eq(f)}else c=0===g?b():e.eq(g-1);c=c.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible");return c.length>f?c.eq(f):c.eq(0)},_nextVerticalCell:function(a,b){var d;d=b.parent();var c=a.children("tr:not(.k-footer-template):visible"),e=c.index(d),g=this._currentDataIndex(a,b);if(-1!=e&&g===k&&b.hasClass("k-header"))return N(b).eq(1);g=g?parseInt(g,10):d.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible").index(b);d=-1==e?c.eq(0):c.eq(e+b[0].rowSpan);d=d.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible");return d.length>g?d.eq(g):d.eq(0)},_verticalContainer:function(a,b){var d=a.parent(),c=this._navigatableTables.length,e=Math.floor(c/2),g=fa(d[0],this._navigatableTables);b&&(e*=-1);g+=e;if(0<=g||g<c)d=this._navigatableTables.eq(g);return d.find(b?"thead":"tbody")},_horizontalContainer:function(a,b){var d=this._navigatableTables.length;if(2>=d)return a;var c=a.parent(),c=fa(c[0],this._navigatableTables),c=c+(b?1:-1);return b&&(2==c||c==d)||!b&&(1==c||0>c)?a:this._navigatableTables.eq(c).find("thead, tbody")},_tabNext:function(a,b,d){var c=!0,e=d?a.prevAll(":not(.k-group-cell):not(.k-hierarchy-cell):visible:first"):a.nextAll(":visible:first");e.length||(e=a.parent(),this.lockedTable&&(c=d&&b==this.lockedTable[0]||!d&&b==this.table[0],e=this._relatedRow(e)),c&&(e=e[d?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),e=e.children(":not(.k-group-cell):not(.k-hierarchy-cell):visible"+(d?":last":":first")));return e},_handleEditing:function(a,d,c){var e=b(wa()),g=this._editMode(),f=W.msie,h=f&&9>W.version,l=this._editContainer;c=b(c);a="incell"==g?a.hasClass("k-edit-cell"):a.parent().hasClass("k-grid-edit-row");if(this.editable){b.contains(l[0],e[0])&&(W.opera||h?e.blur().change().triggerHandler("blur"):(e.blur(),f&&e.blur()));if(!this.editable){ja(c);return}if(this.editable.end())"incell"==g?this.closeCell():(this.saveRow(),a=!0);else{"incell"==g?this._setCurrent(l):this._setCurrent(l.children().filter(":not(.k-group-cell):not(.k-hierarchy-cell):visible").first());(d=l.find(":kendoFocusable:first")[0])&&d.focus();return}}d&&this._setCurrent(d);h&&document.body.focus();ja(c,!0);if(!a&&!d||d)"incell"==g?this.editCell(this.current()):this.editRow(this.current().parent())},_wrapper:function(){var a=this.table,b=this.options.height,d=this.element;d.is("div")||(d=d.wrap("\x3cdiv/\x3e").parent());this.wrapper=d.addClass("k-grid k-widget");b&&(this.wrapper.css("height",b),a.css("height","auto"));this._initMobile()},_initMobile:function(){var a=this.options,d=this;if(this._isMobile=!0===a.mobile&&I.support.mobileOS||"phone"===a.mobile||"tablet"===a.mobile){var c=this.wrapper.addClass("k-grid-mobile").wrap("\x3cdiv data-"+I.ns+'stretch\x3d"true" data-'+I.ns+'role\x3d"view" data-'+I.ns+'init-widgets\x3d"false"\x3e\x3c/div\x3e').parent();this.pane=I.mobile.ui.Pane.wrap(c);this.view=this.pane.view();this._actionSheetPopupOptions=b(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};a.height&&this.pane.element.parent().css("height",a.height);this._editAnimation="slide";this.view.bind("show",function(){d._isLocked()&&(d._updateTablesWidth(),d._applyLockedContainersWidth(),d._syncLockedContentHeight(),d._syncLockedHeaderHeight(),d._syncLockedFooterHeight())})}},_tbody:function(){var a=this.table,d;d=a.find("\x3etbody");d.length||(d=b("\x3ctbody/\x3e").appendTo(a));this.tbody=d.attr("role","rowgroup")},_scrollable:function(){var a=this,d,c,e=a.options.scrollable,g=!0!==e&&e.virtual&&!a.virtualScrollable;c=!I.support.kineticScrollNeeded||g?I.support.scrollbar():0;e&&(d=a.wrapper.children(".k-grid-header"),d[0]||(d=b('\x3cdiv class\x3d"k-grid-header" /\x3e').insertBefore(a.table)),d.css(ka?"padding-left":"padding-right",e.virtual?c+1:c),c=b('\x3ctable role\x3d"grid" /\x3e'),Ea&&c.attr("cellspacing",0),c.width(a.table[0].style.width),c.append(a.thead),d.empty().append(b('\x3cdiv class\x3d"k-grid-header-wrap k-auto-scrollable" /\x3e').append(c)),a.content=a.table.parent(),a.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")&&(a.content=a.content.parent()),a.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(a.content=a.table.wrap('\x3cdiv class\x3d"k-grid-content k-auto-scrollable" /\x3e').parent()),g&&(a.virtualScrollable=new X(a.content,{dataSource:a.dataSource,itemHeight:function(){return a._averageRowHeight()}})),a.scrollables=d.children(".k-grid-header-wrap").add(a.content),d=a.wrapper.find(".k-grid-footer"),d.length&&(a.scrollables=a.scrollables.add(d.children(".k-grid-footer-wrap"))),e.virtual?a.content.find("\x3e.k-virtual-scrollable-wrap").unbind("scroll.kendoGrid").bind("scroll.kendoGrid",function(){a.scrollables.scrollLeft(this.scrollLeft);a.lockedContent&&(a.lockedContent[0].scrollTop=this.scrollTop)}):(a.scrollables.unbind("scroll.kendoGrid").bind("scroll.kendoGrid",function(b){a.scrollables.not(b.currentTarget).scrollLeft(this.scrollLeft);a.lockedContent&&b.currentTarget==a.content[0]&&(a.lockedContent[0].scrollTop=this.scrollTop)}),(e=a.content.data("kendoTouchScroller"))&&e.destroy(),(e=I.touchScroller(a.content))&&e.movable&&(a.touchScroller=e,e.movable.bind("change",function(b){a.scrollables.scrollLeft(-b.sender.x);a.lockedContent&&a.lockedContent.scrollTop(-b.sender.y)}),a.one("dataBound",function(a){a.sender.wrapper.addClass("k-grid-backface")}))))},_renderNoRecordsContent:function(){if(this.options.noRecords){var a=this.table.parent().children(".k-grid-norecords");a.length&&(this.angular("cleanup",function(){return{elements:a.get()}}),a.remove());this.dataSource&&this.dataSource.view().length||(a=b(this.noRecordsTemplate({})).insertAfter(this.table),this.angular("compile",function(){return{elements:a.get(),data:[{}]}}))}},_setContentWidth:function(a){var d=this.resizable,c;this.options.scrollable&&this.wrapper.is(":visible")&&(c=this.table.parent().children(".k-grid-content-expander"),this._setContentWidthHandler=V(this._setContentWidth,this),this.dataSource&&this.dataSource.view().length?c[0]&&(c.remove(),d&&d.unbind("resize",this._setContentWidthHandler)):(c[0]||(c=b('\x3cdiv class\x3d"k-grid-content-expander"\x3e\x3c/div\x3e').appendTo(this.table.parent()),d&&d.bind("resize",this._setContentWidthHandler)),this.thead&&(c.width(this.thead.width()),a&&this.content.scrollLeft(a))),this._applyLockedContainersWidth(),this.lockedHeader&&0===this.table[0].clientWidth&&(this.table[0].style.width="1px"))},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var a=this.thead.parent(),b=a.parent(),d=this.wrapper[0].clientWidth,c=this._groups(),e=I.support.scrollbar(),f=this.lockedHeader.find("\x3etable\x3ecolgroup\x3ecol:not(.k-group-col, .k-hierarchy-col)"),h=a.find("\x3ecolgroup\x3ecol:not(.k-group-col, .k-hierarchy-col)"),f=g(f),h=g(h);0<c&&(f+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*c);f>=d&&(f=d-3*e);this.lockedHeader.add(this.lockedContent).width(f);b[0].style.width=b.parent().width()-f-2+"px";a.add(this.table).width(h);this.virtualScrollable&&(d-=e);this.content[0].style.width=d-f-2+"px";this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(f),a=this.footer.find(".k-grid-footer-wrap"),a[0].style.width=b[0].clientWidth+"px",a.children().first().width(h))}},_setContentHeight:function(){var a=this.options,b=this.wrapper.innerHeight(),d=this.wrapper.children(".k-grid-header"),c=I.support.scrollbar();if(a.scrollable&&this.wrapper.is(":visible")){b-=d.outerHeight();this.pager&&(b-=this.pager.element.outerHeight());a.groupable&&(b-=this.wrapper.children(".k-grouping-header").outerHeight());a.toolbar&&(b-=this.wrapper.children(".k-grid-toolbar").outerHeight());this.footerTemplate&&(b-=this.wrapper.children(".k-grid-footer").outerHeight());var a=this.wrapper,e;a[0].style.height?a=!0:(d=a.height(),a.height("auto"),e=a.height(),d!=e?(a.height(""),a=!0):(a.height(""),a=!1));a&&(b>2*c?(this.lockedContent&&(c=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?c:0,this.lockedContent.height(b-c)),this.content.height(b)):this.content.height(2*c+1))}},_averageRowHeight:function(){var a=this._items(this.tbody).length,b=this._rowHeight;if(0===a)return b;this._rowHeight||(this._sum=this._rowHeight=b=this.table.outerHeight()/a,this._measures=1);a=this.table.outerHeight()/a;b!==a&&(this._measures++,this._sum+=a,this._rowHeight=this._sum/this._measures);return b},_dataSource:function(){var a=this.options,b=a.dataSource,b=sa(b)?{data:b}:b;S(b)&&(T(b,{table:this.table,fields:this.columns}),a=a.pageable,S(a)&&a.pageSize!==k&&(b.pageSize=a.pageSize));this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler):(this._refreshHandler=V(this.refresh,this),this._progressHandler=V(this._requestStart,this),this._errorHandler=V(this._error,this));this.dataSource=za.create(b).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(a){var d=this,c=d.tbody,e=a.model,g=d.tbody.find("tr["+I.attr("uid")+"\x3d"+e.uid+"]"),f,h,l,r=g.hasClass("k-alt"),m,k=d._items(c).index(g),v=d.lockedContent,n;v&&(f=d._relatedRow(g));if(g.add(f).children(".k-edit-cell").length&&!d.options.rowTemplate)g.add(f).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){h=b(this);l=K(d.columns)[d.cellIndex(h)];l.field===a.field&&(h.hasClass("k-edit-cell")?h.addClass("k-dirty-cell"):(d._displayCell(h,l,e),b('\x3cspan class\x3d"k-dirty"/\x3e').prependTo(h)))});else if(!g.hasClass("k-grid-edit-row")){n=b().add(g);v&&(m=(r?d.lockedAltRowTemplate:d.lockedRowTemplate)(e),n=n.add(f),f.replaceWith(m));d.angular("cleanup",function(){return{elements:n.get()}});m=(r?d.altRowTemplate:d.rowTemplate)(e);g.replaceWith(m);m=d._items(c).eq(k);var p=[{dataItem:e}];v&&(g=g.add(f),f=d._relatedRow(m)[0],ba(m[0],f),m=m.add(f),p.push({dataItem:e}));d.angular("compile",function(){return{elements:m.get(),data:p}});(c=d.options.selectable)&&g.hasClass("k-state-selected")&&d.select(m);f=n.children(":not(.k-group-cell,.k-hierarchy-cell)");g=m.children(":not(.k-group-cell,.k-hierarchy-cell)");k=0;for(r=d.columns.length;k<r;k++)l=d.columns[k],h=g.eq(k),c&&f.eq(k).hasClass("k-state-selected")&&h.addClass("k-state-selected"),l.field===a.field&&b('\x3cspan class\x3d"k-dirty"/\x3e').prependTo(h);d.trigger("itemChange",{item:m,data:e,ns:pa})}},_pageable:function(){var a,d=this.options.pageable;d&&(a=this.wrapper.children("div.k-grid-pager"),a.length||(a=b('\x3cdiv class\x3d"k-pager-wrap k-grid-pager"/\x3e').appendTo(this.wrapper)),this.pager&&this.pager.destroy(),this.pager="object"===typeof d&&d instanceof I.ui.Pager?d:new I.ui.Pager(a,T({},d,{dataSource:this.dataSource})))},_footer:function(){var a=this,d=a.dataSource.aggregates(),c="",c=a.footerTemplate,e=a.options,g,f=a.footer||a.wrapper.find(".k-grid-footer");c?(c=b(a._wrapFooter(c(d))),f.length?(a.angular("cleanup",function(){return{elements:f.get()}}),f.replaceWith(c),f=a.footer=c):f=e.scrollable?a.footer=e.pageable?c.insertBefore(a.wrapper.children("div.k-grid-pager")):c.appendTo(a.wrapper):a.footer=c.insertBefore(a.tbody),a.angular("compile",function(){return{elements:f.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:ea(a.columns,function(a){return{column:a,aggregate:d[a.field]}})}})):f&&!a.footer&&(a.footer=f);f.length&&(e.scrollable&&(g=f.attr("tabindex",-1).children(".k-grid-footer-wrap"),a.scrollables=a.scrollables.filter(function(){return!b(this).is(".k-grid-footer-wrap")}).add(g)),a._footerWidth&&f.find("table").css("width",a._footerWidth),g&&(c=a.content.scrollLeft(),!0!==e.scrollable&&e.scrollable.virtual&&(c=a.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),g.scrollLeft(c)));a.lockedContent&&(a._appendLockedColumnFooter(),a._applyLockedContainersWidth(),a._syncLockedFooterHeight())},_wrapFooter:function(a){var d=I.support.mobileOS?0:I.support.scrollbar();return this.options.scrollable?(a=b('\x3cdiv class\x3d"k-grid-footer"\x3e\x3cdiv class\x3d"k-grid-footer-wrap"\x3e\x3ctable'+(Ea?' cellspacing\x3d"0"':"")+"\x3e\x3ctbody\x3e"+a+"\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e"),this._appendCols(a.find("table")),a.css(ka?"padding-left":"padding-right",d),a):'\x3ctfoot class\x3d"k-grid-footer"\x3e'+a+"\x3c/tfoot\x3e"},_columnMenu:function(){var a=this,b,d=K(a.columns),c,e=a.options,g=e.columnMenu,f,h,l=0<U(a.columns,function(a){return a.columns!==k}).length,r=this._isMobile,m=function(b){a.trigger("columnMenuInit",{field:b.field,container:b.container})},n=function(a){ja(a.closest("table"),!0)},p=e.$angular;if(g){"boolean"==typeof g&&(g={});h=Q(a.thead);for(var t=0,w=h.length;t<w;t++){c=d[t];var q=h.eq(t);c.command||!c.field&&!q.attr("data-"+I.ns+"field")||((b=q.data("kendoColumnMenu"))&&b.destroy(),b=!1!==c.sortable&&!1!==g.sortable&&!1!==e.sortable?T({},e.sortable,{compare:(c.sortable||{}).compare}):!1,f=e.filterable&&!1!==c.filterable&&!1!==g.filterable?T({pane:a.pane},e.filterable,c.filterable):!1,c.filterable&&c.filterable.dataSource&&(f.forceUnique=!1,f.checkSource=c.filterable.dataSource),f&&(f.format=c.format),c={dataSource:a.dataSource,values:c.values,columns:g.columns,sortable:b,filterable:f,messages:g.messages,owner:a,closeCallback:n,init:m,pane:a.pane,filter:r?":not(.k-column-active)":"",lockedColumns:!l&&!1!==c.lockable&&0<J(d).length},p&&(c.$angular=p),q.kendoColumnMenu(c))}}},_headerCells:function(){return this.thead.find("th").filter(function(){var a=b(this);return!a.hasClass("k-group-cell")&&!a.hasClass("k-hierarchy-cell")})},_filterable:function(){var a=this,b=K(a.columns),d,c,e,g=function(b){a.trigger("filterMenuInit",{field:b.field,container:b.container})},f=function(a){ja(a.closest("table"),!0)},h=a.options.filterable;h&&"string"==typeof h.mode&&-1==h.mode.indexOf("menu")&&(h=!1);if(h&&!a.options.columnMenu){c=Q(a.thead);for(var l=0,r=c.length;l<r;l++)if(e=c.eq(l),!1!==b[l].filterable&&!b[l].command&&(b[l].field||e.attr("data-"+I.ns+"field"))){(d=e.data("kendoFilterMenu"))&&d.destroy();(d=e.data("kendoFilterMultiCheck"))&&d.destroy();d=b[l].filterable;var m=T({},h,d,{dataSource:a.dataSource,values:b[l].values,format:b[l].format,closeCallback:f,title:b[l].title||b[l].field,init:g,pane:a.pane});d&&d.messages&&(m.messages=T(!0,{},h.messages,d.messages));d&&d.dataSource&&(m.forceUnique=!1,m.checkSource=d.dataSource);d&&d.multi?e.kendoFilterMultiCheck(m):e.kendoFilterMenu(m)}}},_filterRow:function(){if(this._hasFilterRow()){var a,d=this.options.$angular,c=K(this.columns),e=this.options.filterable,g=this.thead.find(".k-filter-row");this._updateHeader(this.dataSource.group().length);for(var f=0;f<c.length;f++){var h=c[f],l=this.options.filterable.operators,r=!1,m=b("\x3cth/\x3e"),k=h.field;h.hidden&&m.hide();g.append(m);if(k&&!1!==h.filterable){var n=h.filterable&&h.filterable.cell||{};a=this.options.dataSource;a instanceof za&&(a=this.options.dataSource.options);var p=T(!0,{},e.messages);h.filterable&&T(!0,p,h.filterable.messages);!1===n.enabled?m.html("\x26nbsp;"):(n.dataSource&&(a=n.dataSource,r=!0),h.filterable&&h.filterable.operators&&(l=h.filterable.operators),a={column:h,dataSource:this.dataSource,suggestDataSource:a,customDataSource:r,field:k,messages:p,values:h.values,template:n.template,delay:n.delay,inputWidth:n.inputWidth,suggestionOperator:n.suggestionOperator,minLength:n.minLength,dataTextField:n.dataTextField,operator:n.operator,operators:l,showOperators:n.showOperators},d&&(a.$angular=d),b("\x3cspan/\x3e").attr(I.attr("field"),k).appendTo(m).kendoFilterCell(a))}else m.html("\x26nbsp;")}}},_sortable:function(){var a=K(this.columns),b,d,c,e=this.options.sortable;if(e)for(var g=Q(this.thead),f=0,h=g.length;f<h;f++)b=a[f],!1!==b.sortable&&!b.command&&b.field&&(c=g.eq(f),(d=c.data("kendoColumnSorter"))&&d.destroy(),c.attr("data-"+I.ns+"field",b.field).kendoColumnSorter(T({},e,b.sortable,{dataSource:this.dataSource,aria:!0,filter:":not(.k-column-active)"})))},_columns:function(a){var d=this.table,c=d.find("col"),e;e=this.options.dataSource;a=a.length?a:ea(d.find("th"),function(a,d){a=b(a);var e=a.attr(I.attr("sortable")),g=a.attr(I.attr("filterable")),f=a.attr(I.attr("type")),h=a.attr(I.attr("groupable")),l=a.attr(I.attr("field")),r=a.attr(I.attr("title")),m=a.attr(I.attr("menu"));l||(l=a.text().replace(/\s|[^A-z0-9]/g,""));return{field:l,type:f,title:r,sortable:"false"!==e,filterable:"false"!==g,groupable:"false"!==h,menu:m,template:a.attr(I.attr("template")),width:c.eq(d).css("width")}});d=!(0<this.table.find("tbody tr").length&&(!e||!e.transport));if(this.options.scrollable){var g=a;e=J(a);a=O(a);if(0<e.length&&0===a.length)throw Error("There should be at least one non locked column");Fa(this.element.find("tr:has(th):first"),g);a=e.concat(a)}this.columns=y(a,d)},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b,d,c){var e=T({},I.Template,this.options.templateSettings),g=b.length,f={storage:{},count:0},h=this._hasDetails(),l=[],r=this._groups();if(!a){a="\x3ctr";d&&l.push("k-alt");h&&l.push("k-master-row");l.length&&(a+=' class\x3d"'+l.join(" ")+'"');g&&(a+=" "+I.attr("uid")+'\x3d"#\x3d'+I.expr("uid",e.paramName)+'#"');a+=" role\x3d'row'\x3e";0<r&&!c&&(a+=q(r));h&&(a+='\x3ctd class\x3d"k-hierarchy-cell"\x3e\x3ca class\x3d"k-icon k-plus" href\x3d"\\#" tabindex\x3d"-1"\x3e\x3c/a\x3e\x3c/td\x3e');for(d=0;d<g;d++)c=b[d],a+="\x3ctd"+B(c.attributes)+" role\x3d'gridcell'\x3e",a+=this._cellTmpl(c,f),a+="\x3c/td\x3e";a+="\x3c/tr\x3e"}a=I.template(a,e);return 0<f.count?V(a,f.storage):a},_headerCellText:function(a){var b=T({},I.Template,this.options.templateSettings),d=a.headerTemplate,c=typeof d;a=a.title||a.field||"";"function"===c?a=I.template(d,b)({}):"string"===c&&(a=d);return a},_cellTmpl:function(a,b){var d=T({},I.Template,this.options.templateSettings),c=a.template,e=d.paramName,g=a.field,f="",h=a.format,l=typeof c,r=a.values;if(a.command){if(sa(a.command)){d=0;for(c=a.command.length;d<c;d++)f+=this._createButton(a.command[d]);return f.replace(ma,"\\#")}return this._createButton(a.command).replace(ma,"\\#")}"function"===l?(b.storage["tmpl"+b.count]=c,f+="#\x3dthis.tmpl"+b.count+"("+e+")#",b.count++):"string"===l?f+=c:r&&r.length&&S(r[0])&&"value"in r[0]&&g?(f+="#var v \x3d"+I.stringify(qa(r)).replace(ma,"\\#")+"#",f+="#var f \x3d v[",d.useWithBlock||(f+=e+"."),f=f+(g+"]#")+"${f !\x3d null ? f : ''}"):(f+=a.encoded?"#:":"#\x3d",h&&(f+='kendo.format("'+h.replace(Ga,"\\$1")+'",'),g?(g=I.expr(g,e),f+=g+"\x3d\x3dnull?'':"+g):f+="''",h&&(f+=")"),f+="#");return f},_templates:function(){var a=this.options,d=this.dataSource,c=d.group(),e=this.footer||this.wrapper.find(".k-grid-footer"),d=d.aggregate(),g=K(this.columns),f=K(J(this.columns)),h=a.scrollable?K(O(this.columns)):g;if(a.scrollable&&f.length){if(a.rowTemplate||a.altRowTemplate)throw Error("Having both row template and locked columns is not supported");this.rowTemplate=this._tmpl(a.rowTemplate,h,!1,!0);this.altRowTemplate=this._tmpl(a.altRowTemplate||a.rowTemplate,h,!0,!0);this.lockedRowTemplate=this._tmpl(a.rowTemplate,f);this.lockedAltRowTemplate=this._tmpl(a.altRowTemplate||a.rowTemplate,f,!0)}else this.rowTemplate=this._tmpl(a.rowTemplate,h),this.altRowTemplate=this._tmpl(a.altRowTemplate||a.rowTemplate,h,!0);this._hasDetails()&&(this.detailTemplate=this._detailTmpl(a.detailTemplate||""));if(this._group&&!ta(d)||!ta(d)&&!e.length||U(g,function(a){return a.footerTemplate}).length)this.footerTemplate=this._footerTmpl(g,d,"footerTemplate","k-footer-template");c&&U(g,function(a){return a.groupFooterTemplate}).length&&(d=b.map(c,function(a){return a.aggregates}),this.groupFooterTemplate=this._footerTmpl(h,d,"groupFooterTemplate","k-group-footer",f.length),a.scrollable&&f.length&&(this.lockedGroupFooterTemplate=this._footerTmpl(f,d,"groupFooterTemplate","k-group-footer")));this.options.noRecords&&(this.noRecordsTemplate=this._noRecordsTmpl())},_noRecordsTmpl:function(){var a=this.options.scrollable&&!this.wrapper[0].style.height?' style\x3d"margin:0 auto;position:static;"':"",d={},c=0,e=b.extend({},I.Template,this.options.templateSettings),g=e.paramName,f="",h,a=this.options.noRecords.template?this.options.noRecords.template:I.format('\x3cdiv class\x3d"k-grid-norecords-template"{1}\x3e{0}\x3c/div\x3e',this.options.messages.noRecords,a);h=typeof a;"function"===h?(d["tmpl"+c]=a,f+="#\x3dthis.tmpl"+c+"("+g+")#",c++):"string"===h&&(f+=a);e=I.template(I.format('\x3cdiv class\x3d"{0}"\x3e{1}\x3c/div\x3e',"k-grid-norecords",f),e);0<c&&(e=b.proxy(e,d));return e},_footerTmpl:function(a,b,d,c,e){var g=T({},I.Template,this.options.templateSettings),f=g.paramName,h="",l,r,m={},k=0;l=this._groups();b=this.dataSource._emptyAggregates(b);var n,h=h+('\x3ctr class\x3d"'+c+'"\x3e');0<l&&!e&&(h+=q(l));this._hasDetails()&&(h+='\x3ctd class\x3d"k-hierarchy-cell"\x3e\x26nbsp;\x3c/td\x3e');c=0;for(e=a.length;c<e;c++)n=a[c],l=n[d],r=typeof l,h+="\x3ctd"+B(n.footerAttributes)+"\x3e",l?("function"!==r&&(r=b[n.field]?T({},g,{paramName:f+"['"+n.field+"']"}):{},l=I.template(l,r)),m["tmpl"+k]=l,h+="#\x3dthis.tmpl"+k+"("+f+")#",k++):h+="\x26nbsp;",h+="\x3c/td\x3e";h=I.template(h+"\x3c/tr\x3e",g);return 0<k?V(h,m):h},_detailTmpl:function(a){var b="",d=T({},I.Template,this.options.templateSettings),c=d.paramName,e={},g=0,f=this._groups(),h=m(K(this.columns)).length,l=typeof a,b=b+'\x3ctr class\x3d"k-detail-row"\x3e';0<f&&(b+=q(f));b+='\x3ctd class\x3d"k-hierarchy-cell"\x3e\x3c/td\x3e\x3ctd class\x3d"k-detail-cell"'+(h?' colspan\x3d"'+h+'"':"")+"\x3e";"function"===l?(e["tmpl"+g]=a,b+="#\x3dthis.tmpl"+g+"("+c+")#",g++):b+=a;b=I.template(b+"\x3c/td\x3e\x3c/tr\x3e",d);return 0<g?V(b,e):b},_hasDetails:function(){return null!==this.options.detailTemplate||(this._events.detailInit||[]).length},_hasFilterRow:function(){var a=this.options.filterable,a=a&&"string"==typeof a.mode&&-1!=a.mode.indexOf("row"),d=this.columns,c=b.grep(d,function(a){return!1===a.filterable});d.length&&c.length==d.length&&(a=!1);return a},_details:function(){var a=this;if(a.options.scrollable&&a._hasDetails()&&J(a.columns).length)throw Error("Having both detail template and locked columns is not supported");a.table.on("click.kendoGrid",".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(d){var c=b(this),e=c.hasClass("k-plus"),g=c.closest("tr.k-master-row"),f,h=a.detailTemplate,l,r=a._hasDetails();c.toggleClass("k-plus",!e).toggleClass("k-minus",e);f=g.next();r&&!f.hasClass("k-detail-row")&&(l=a.dataItem(g),f=b(h(l)).addClass(g.hasClass("k-alt")?"k-alt":"").insertAfter(g),a.angular("compile",function(){return{elements:f.get(),data:[{dataItem:l}]}}),a.trigger("detailInit",{masterRow:g,detailRow:f,data:l,detailCell:f.find(".k-detail-cell")}));a.trigger(e?"detailExpand":"detailCollapse",{masterRow:g,detailRow:f});f.toggle(e);a._current&&a._current.attr("aria-expanded",e);d.preventDefault();return!1})},dataItem:function(a){a=b(a)[0];if(!a)return null;var d=this.tbody.children(),c=/k-grouping-row|k-detail-row|k-group-footer/;a=a.sectionRowIndex;var e,g;g=a;for(e=0;e<a;e++)c.test(d[e].className)&&g--;return this._data[g]},expandRow:function(a){b(a).find("\x3e td .k-plus, \x3e td .k-i-expand").click()},collapseRow:function(a){b(a).find("\x3e td .k-minus, \x3e td .k-i-collapse").click()},_createHeaderCells:function(a,b){var c,e,g,f="",h,l=K(this.columns),r;c=0;for(h=a.length;c<h;c++){e=a[c].column||a[c];g=this._headerCellText(e);r="";var m=fa(e,l);e.command?(f+="\x3cth scope\x3d'col'"+B(e.headerAttributes),b&&!a[c].colSpan&&(f+=" rowspan\x3d'"+b+"'"),-1<m&&(f+=I.attr("index")+"\x3d'"+m+"'")):(e.field&&(r=I.attr("field")+"\x3d'"+e.field+"' "),f+="\x3cth scope\x3d'col' role\x3d'columnheader' "+r,b&&!a[c].colSpan&&(f+=" rowspan\x3d'"+b+"'"),1<a[c].colSpan&&(f+='colspan\x3d"'+(a[c].colSpan-d(e.columns))+'" ',f+=I.attr("colspan")+"\x3d'"+a[c].colSpan+"'"),e.title&&(f+=I.attr("title")+'\x3d"'+e.title.replace('"',"\x26quot;").replace(/'/g,"'")+'" '),e.groupable!==k&&(f+=I.attr("groupable")+"\x3d'"+e.groupable+"' "),e.aggregates&&e.aggregates.length&&(f+=I.attr("aggregates")+"\x3d'"+e.aggregates+"'"),-1<m&&(f+=I.attr("index")+"\x3d'"+m+"'"),f+=B(e.headerAttributes));f+="\x3e"+g+"\x3c/th\x3e"}return f},_appendLockedColumnContent:function(){var a=this.columns,c,e=this.table.find("colgroup"),g=e.find("col:not(.k-group-col,.k-hierarchy-col)"),f,h=b(),l=0,r,m,k=0;c=0;for(f=a.length;c<f;c++)if(a[c].locked)if(t(a[c])){r=1;a[c].columns&&(r=K(a[c].columns).length-d(a[c].columns));r=r||1;for(m=0;m<r;m++)h=h.add(g.eq(c+k+m-l));k+=r-1}else l++;a=b('\x3cdiv class\x3d"k-grid-content-locked"\x3e\x3ctable'+(Ea?' cellspacing\x3d"0"':"")+"\x3e\x3ccolgroup/\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e");e.detach();a.find("colgroup").append(h);e.insertBefore(this.table.find("tbody"));this.lockedContent=a.insertBefore(this.content);this.lockedTable=a.children("table")},_appendLockedColumnFooter:function(){var a=this.footer,d=a.find(".k-footer-template\x3etd"),c=a.find(".k-grid-footer-wrap\x3etable\x3ecolgroup\x3ecol"),e=b('\x3cdiv class\x3d"k-grid-footer-locked"\x3e\x3ctable\x3e\x3ccolgroup /\x3e\x3ctbody\x3e\x3ctr class\x3d"k-footer-template"\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e'),g,f,h=this._groups(),l=b(),r=b(),l=l.add(d.filter(".k-group-cell"));g=0;for(f=K(J(this.columns)).length;g<f;g++)l=l.add(d.eq(g+h));r=r.add(c.filter(".k-group-col"));g=0;for(f=m(K(Y(this.columns))).length;g<f;g++)r=r.add(c.eq(g+h));l.appendTo(e.find("tr"));r.appendTo(e.find("colgroup"));this.lockedFooter=e.prependTo(a)},_appendLockedColumnHeader:function(a){var c=this.columns,g,f,h,l,r,m,k,n;r=[];var p=0;l=b();m=this._hasFilterRow();var v=0,w=b(),q,x;b();h=this.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");k=this.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");n=this.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var u=0;g=0;for(f=c.length;g<f;g++){if(c[g].locked){q=k.eq(g);x=K(c[g].columns||[]).length;if(t(c[g])){var E=null;c[g].columns&&(E=x-d(c[g].columns));for(var E=E||1,A=0;A<E;A++)l=l.add(h.eq(g+u+A-p));u+=E-1}P([c[g]],N(q),r,0,0);x=x||1;for(q=0;q<x;q++)w=w.add(n.eq(v+q));v+=x}c[g].columns&&(p+=d(c[g].columns));t(c[g])||p++}if(r.length){g='\x3cdiv class\x3d"k-grid-header-locked" style\x3d"width:1px"\x3e\x3ctable'+(Ea?' cellspacing\x3d"0"':"")+"\x3e\x3ccolgroup/\x3e\x3cthead\x3e";g+=Array(r.length+1).join("\x3ctr\x3e\x3c/tr\x3e");m=b(g+((m?'\x3ctr class\x3d"k-filter-row" /\x3e':"")+"\x3c/thead\x3e\x3c/table\x3e\x3c/div\x3e"));h=m.find("colgroup");h.append(this.thead.prev().find("col.k-group-col").add(l));l=m.find("thead tr:not(.k-filter-row)");g=0;for(f=r.length;g<f;g++)h=e(r[g]),l.eq(g).append(this.thead.find("tr:eq("+g+") .k-group-cell").add(h));g=G(this.thead);if(r.length<g)for(r=g-r.length,g=m.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)"),l=0;l<g.length;l++)f=g[l].rowSpan,1<f&&(g[l].rowSpan=f-r||1);r=m.find(".k-filter-row");r.append(this.thead.find(".k-filter-row .k-group-cell").add(w));this.lockedHeader=m.prependTo(a);this.thead.find(".k-group-cell").remove();return!0}return!1},_removeLockedContainers:function(){var a=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);I.destroy(a);a.off(".kendoGrid").remove();this.selectable=this.lockedHeader=this.lockedContent=this.lockedFooter=null},_thead:function(){var a=this.columns,d=this._hasDetails()&&a.length,c=this._hasFilterRow(),e,g="",f=this.table.find("\x3ethead");e=0<this.element.find("thead:first").length;f.length||(f=b("\x3cthead/\x3e").insertBefore(this.tbody));this.lockedHeader&&this.thead?(e=this.thead.find("tr:has(th):not(.k-filter-row)").html(""),e.remove(),e=b(),this._removeLockedContainers()):e=e?this.element.find("thead:first tr:has(th):not(.k-filter-row)"):this.element.find("tr:has(th):first");if(!e.length&&(e=f.children().first(),!e.length)){var h=[{rowSpan:1,cells:[],index:0}];this._prepareColumns(h,a);for(e=0;e<h.length;e++)g+="\x3ctr\x3e",d&&(g+='\x3cth class\x3d"k-hierarchy-cell" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e'),g+=this._createHeaderCells(h[e].cells,h[e].rowSpan),g+="\x3c/tr\x3e";e=b(g)}c&&(c=b("\x3ctr/\x3e"),c.addClass("k-filter-row"),(d||e.find(".k-hierarchy-cell").length)&&c.prepend('\x3cth class\x3d"k-hierarchy-cell" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e'),g=(this.thead||f).find(".k-filter-row"),g.length&&(I.destroy(g),g.remove()),f.append(c));e.children().length?d&&!e.find(".k-hierarchy-cell")[0]&&e.prepend('\x3cth class\x3d"k-hierarchy-cell" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e'):(g="",d&&(g+='\x3cth class\x3d"k-hierarchy-cell" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e'),g+=this._createHeaderCells(a),e.html(g));e.attr("role","row").find("th").addClass("k-header");this.options.scrollable||f.addClass("k-grid-header");e.find("script").remove().end().prependTo(f);this.thead&&this._destroyColumnAttachments();this.angular("cleanup",function(){return{elements:f.find("th").get()}});this.angular("compile",function(){return{elements:f.find("th").get(),data:ea(a,function(a){return{column:a}})}});this.thead=f.attr("role","rowgroup");this._sortable();this._filterable();this._filterRow();this._scrollable();this._updateCols();this._columnMenu();var l;if(d=this.options.scrollable&&J(this.columns).length)l=this._appendLockedColumnHeader(this.thead.closest(".k-grid-header")),this._appendLockedColumnContent(),this.lockedContent.bind("DOMMouseScroll.kendoGrid mousewheel.kendoGrid",V(this._wheelScroll,this));this._updateColumnCellIndex();this._updateFirstColumnClass();this._resizable();this._draggable();this._reorderable();this._updateHeader(this._groups());d&&(l&&this._syncLockedHeaderHeight(),this._applyLockedContainersWidth());this.groupable&&this._attachGroupable()},_retrieveFirstColumn:function(a,d){var c=b();if(d.length&&a[0]){for(var e=a[0];e.columns&&e.columns.length;)e=e.columns[0],d=d.filter(":not(:first())");c=c.add(d)}return c},_updateFirstColumnClass:function(){var a=this.columns||[];if(!(this._hasDetails()&&a.length||this._groups())){var d=this.thead.find("\x3etr:not(.k-filter-row):not(:first)"),a=O(a),c=this._retrieveFirstColumn(a,d);this._isLocked()&&(d=this.lockedHeader.find("thead\x3etr:not(.k-filter-row):not(:first)"),a=J(this.columns),c=c.add(this._retrieveFirstColumn(a,d)));c.each(function(){var a=b(this).find("th");a.removeClass("k-first");a.eq(0).addClass("k-first")})}},_prepareColumns:function(a,b,d,c){c=c||a[a.length-1];for(var e=a[c.index+1],g=0,f=0;f<b.length;f++){var h={column:b[f],colSpan:0};c.cells.push(h);b[f].columns&&b[f].columns.length&&(e||(e={rowSpan:0,cells:[],index:a.length},a.push(e)),h.colSpan=b[f].columns.length,this._prepareColumns(a,b[f].columns,h,e),g+=h.colSpan-1,c.rowSpan=a.length-c.index)}d&&(d.colSpan+=g)},_wheelScroll:function(a){if(!a.ctrlKey){var d=this.content;this.options.scrollable.virtual&&(d=this.virtualScrollable.verticalScrollbar);var c=d.scrollTop(),e=I.wheelDeltaY(a);e&&(a.preventDefault(),b(a.currentTarget).one("wheel.kendoGrid",!1),d.scrollTop(c+-e))}},_isLocked:function(){return null!=this.lockedHeader},_updateHeaderCols:function(){var a=this.thead.parent().add(this.table);this._isLocked()?na(a,r(H(this.columns)),this._hasDetails(),0):na(a,r(m(this.columns)),this._hasDetails(),0)},_updateCols:function(a){a=a||this.thead.parent().add(this.table);this._appendCols(a,this._isLocked())},_updateLockedCols:function(a){this._isLocked()&&(a=a||this.lockedHeader.find("table").add(this.lockedTable),na(a,r(Y(this.columns)),this._hasDetails(),this._groups()))},_appendCols:function(a,b){b?na(a,r(H(this.columns)),this._hasDetails(),0):na(a,r(m(this.columns)),this._hasDetails(),this._groups())},_autoColumns:function(a){if(a&&a.toJSON){var b,d;a=a.toJSON();d=!(0<this.table.find("tbody tr").length&&(!this.dataSource||!this.dataSource.transport));for(b in a)this.columns.push({field:b,encoded:d,headerAttributes:{id:I.guid()}});this._thead();this._templates()}},_rowsHtml:function(a,b){var d="",c,e=b.rowTemplate,g=b.altRowTemplate,f;c=0;for(f=a.length;c<f;c++)d=c%2?d+g(a[c]):d+e(a[c]),this._data.push(a[c]);return d},_groupRowHtml:function(a,b,d,c,e,g){var f="",h,l=a.field,r=U(K(this.columns),function(a){return a.field==l})[0]||{};h=r.groupHeaderTemplate;var m=(r.title||l)+": "+R(a.value,r.format,r.values,r.encoded),r=T({},this._groupAggregatesDefaultObject||{},a.aggregates),k=T({},{field:a.field,value:a.value,aggregates:r},a.aggregates[a.field]),n=e.groupFooterTemplate,p=a.items;h&&(m="function"===typeof h?h(k):I.template(h)(k));f+=c(b,d,m);if(a.hasSubgroups)for(a=0,h=p.length;a<h;a++)f+=this._groupRowHtml(p[a],g?b:b-1,d+1,c,e,g);else f+=this._rowsHtml(p,e);n&&(f+=n(r));return f},collapseGroup:function(a){a=b(a);var d,c=this.options.groupable.showFooter?0:1,e,g=b(),f,h,l;this._isLocked()&&(a.closest("div").hasClass("k-grid-content-locked")?g=this.tbody.children("tr:eq("+a.index()+")").nextAll("tr"):(g=a.nextAll("tr"),a=this.lockedTable.find("\x3etbody\x3etr:eq("+a.index()+")")));d=a.find(".k-group-cell").length;a.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse");a.find("td[aria-expanded\x3d'true']:first").attr("aria-expanded",!1);a=a.nextAll("tr");var r=[];f=0;for(h=a.length;f<h;f++){l=a.eq(f);e=l.find(".k-group-cell").length;l.hasClass("k-grouping-row")?c++:l.hasClass("k-group-footer")&&c--;if(e<=d||l.hasClass("k-group-footer")&&0>c)break;g.length&&r.push(g[f]);r.push(l[0])}b(r).hide()},expandGroup:function(a){a=b(a);var d=this.options.groupable.showFooter,c,e,g,f=b(),h,l,r=[],m=1;this._isLocked()&&(a.closest("div").hasClass("k-grid-content-locked")?f=this.tbody.children("tr:eq("+a.index()+")").nextAll("tr"):(f=a.nextAll("tr"),a=this.lockedTable.find("\x3etbody\x3etr:eq("+a.index()+")")));c=a.find(".k-group-cell").length;a.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand");a.find("td[aria-expanded\x3d'false']:first").attr("aria-expanded",!0);a=a.nextAll("tr");h=0;for(l=a.length;h<l;h++){e=a.eq(h);g=e.find(".k-group-cell").length;if(g<=c)break;g!=c+1||e.hasClass("k-detail-row")||(e.show(),f.eq(h).show(),e.hasClass("k-grouping-row")&&e.find(".k-icon").hasClass("k-i-collapse")&&this.expandGroup(e),e.hasClass("k-master-row")&&e.find(".k-icon").hasClass("k-minus")&&(e.next().show(),f.eq(h+1).show()));e.hasClass("k-grouping-row")&&(d&&r.push(e.is(":visible")),m++);e.hasClass("k-group-footer")&&(d&&e.toggle(r.pop()),1==m?(e.show(),f.eq(h).show()):m--)}},_updateHeader:function(a){var d=this._isLocked()?this.lockedHeader.find("thead"):this.thead,c=d.find("tr.k-filter-row").find("th.k-group-cell").length,e=d.find("tr:first").find("th.k-group-cell").length,g=d.children("tr:not(:first)").filter(function(){return!b(this).children(":visible").length});a>e?(b(Array(a-e+1).join('\x3cth class\x3d"k-group-cell k-header" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e')).prependTo(d.children("tr:not(.k-filter-row)")),this.element.is(":visible")&&g.find("th.k-group-cell").hide()):a<e&&d.find("tr").each(function(){b(this).find("th.k-group-cell").filter(":eq("+a+"),:gt("+a+")").remove()});a>c&&b(Array(a-c+1).join('\x3cth class\x3d"k-group-cell k-header" scope\x3d"col"\x3e\x26nbsp;\x3c/th\x3e')).prependTo(d.find(".k-filter-row"))},_firstDataItem:function(a,b){a&&b&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],b):a.items[0]);return a},_updateTablesWidth:function(){var a;this._isLocked()&&(a=b("\x3e.k-grid-footer\x3e.k-grid-footer-wrap\x3etable",this.wrapper).add(this.thead.parent()).add(this.table),this._footerWidth=Aa(a.eq(0)),a.width(this._footerWidth),a=b("\x3e.k-grid-footer\x3e.k-grid-footer-locked\x3etable",this.wrapper).add(this.lockedHeader.find("\x3etable")).add(this.lockedTable),a.width(Aa(a.eq(0))))},hideColumn:function(d){var e,g,f,h,l=0,r;g=this.footer||this.wrapper.find(".k-grid-footer");h=this.columns;f=this.lockedHeader?Q(this.lockedHeader.find("\x3etable\x3ethead")).filter(x).length:0;if((d="number"==typeof d?h[d]:S(d)?U(a(h),function(a){return a===d})[0]:U(a(h),function(a){return a.field===d})[0])&&t(d)){if(d.columns&&d.columns.length)for(g=c(d,h),E(d,!1),ga(C(b("\x3etable\x3ethead",this.lockedHeader),this.thead,"\x3etr:eq("+g.row+")\x3eth"),g.cell,!1),g=0;g<d.columns.length;g++)this.hideColumn(d.columns[g]);else{r=fa(d,m(K(h)));E(d,!1);this._setParentsVisibility(d,!1);this._templates();this._updateCols();this._updateLockedCols();var k=this.thead;h=r;this.lockedHeader&&f>r?k=this.lockedHeader.find("\x3etable\x3ethead"):h-=f;Q(k).filter(x).eq(h)[0].style.display="none";ga(C(b("\x3etable\x3ethead",this.lockedHeader),this.thead,"\x3etr.k-filter-row\x3eth"),r,!1);g[0]&&(this._updateCols(g.find("\x3e.k-grid-footer-wrap\x3etable")),this._updateLockedCols(g.find("\x3e.k-grid-footer-locked\x3etable")),ga(g.find(".k-footer-template\x3etd"),r,!1));this.lockedTable&&f>r?oa(this.lockedTable.find("\x3etbody\x3etr"),r):oa(this.tbody.children(),r-f);if(this.lockedTable)this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight(),this._syncLockedFooterHeight();else{f=this.thead.prev().find("col");g=0;for(r=f.length;g<r;g+=1)if((h=f[g].style.width)&&-1==h.indexOf("%"))l+=parseInt(h,10);else{l=0;break}e=b("\x3e.k-grid-header table:first,\x3e.k-grid-footer table:first",this.wrapper).add(this.table);this._footerWidth=null;l&&(e.each(function(){this.style.width=l+"px"}),this._footerWidth=l);W.msie&&8==W.version&&(e.css("display","inline-table"),setTimeout(function(){e.css("display","table")},1))}this._updateFirstColumnClass()}this.trigger("columnHide",{column:d})}},_setParentsVisibility:function(a,c){var e=this.columns,g,h=[],l,r,k,n=c?function(a){return m(a.columns).length&&a.hidden}:function(a){return!m(a.columns).length&&!a.hidden};if(A(a,e,h)&&h.length)for(g=h.length-1;0<=g;g--)l=h[g],r=f(l,e),r=C(b("\x3etable\x3ethead",this.lockedHeader),this.thead,"\x3etr:eq("+r.row+")\x3eth:not(.k-group-cell):not(.k-hierarchy-cell)").eq(r.cell),n(l)&&(E(l,c),r[0].style.display=c?"":"none"),r.filter("["+I.attr("colspan")+"]").length&&(k=parseInt(r.attr(I.attr("colspan")),10),r[0].colSpan=k-d(l.columns)||1)},showColumn:function(d){var c,e,g,h,l,r;g=this.columns;c=this.footer||this.wrapper.find(".k-grid-footer");e=this.lockedHeader?Q(this.lockedHeader.find("\x3etable\x3ethead")).length:0;if((d="number"==typeof d?g[d]:S(d)?U(a(g),function(a){return a===d})[0]:U(a(g),function(a){return a.field===d})[0])&&!t(d)){if(d.columns&&d.columns.length)for(c=f(d,g),E(d,!0),ga(C(b("\x3etable\x3ethead",this.lockedHeader),this.thead,"\x3etr:eq("+c.row+")\x3eth"),c.cell,!0),c=0;c<d.columns.length;c++)this.showColumn(d.columns[c]);else{l=fa(d,K(g));E(d,!0);this._setParentsVisibility(d,!0);this._templates();this._updateCols();this._updateLockedCols();r=this.thead;g=l;this.lockedHeader&&e>l?r=this.lockedHeader.find("\x3etable\x3ethead"):g-=e;Q(r).eq(g)[0].style.display="";ga(C(b("\x3etable\x3ethead",this.lockedHeader),this.thead,"\x3etr.k-filter-row\x3eth"),l,!0);c[0]&&(this._updateCols(c.find("\x3e.k-grid-footer-wrap\x3etable")),this._updateLockedCols(c.find("\x3e.k-grid-footer-locked\x3etable")),ga(c.find(".k-footer-template\x3etd"),l,!0));this.lockedTable&&e>l?xa(this.lockedTable.find("\x3etbody\x3etr"),l):xa(this.tbody.children(),l-e);if(this.lockedTable)this._updateTablesWidth(),this._applyLockedContainersWidth(),this._syncLockedContentHeight(),this._syncLockedHeaderHeight();else if(g=b("\x3e.k-grid-header table:first,\x3e.k-grid-footer table:first",this.wrapper).add(this.table),d.width){h=0;r=this.thead.prev().find("col");c=0;for(e=r.length;c<e;c+=1){l=r[c].style.width;if(-1<l.indexOf("%")){h=0;break}h+=parseInt(l,10)}this._footerWidth=null;h&&(g.each(function(){this.style.width=h+"px"}),this._footerWidth=h)}else g.width("");this._updateFirstColumnClass()}this.trigger("columnShow",{column:d})}},_progress:function(a){var b=this.element;this.lockedContent?b=this.wrapper:this.element.is("table")?b=this.element.parent():this.content&&this.content.length&&(b=this.content);I.ui.progress(b,a)},_resize:function(a,b){this._syncLockedHeaderHeight();this.content&&(this._setContentWidth(),this._setContentHeight());this.virtualScrollable&&(b||this._rowHeight)&&(b&&(this._rowHeight=null),this.virtualScrollable.repaintScrollbar())},_isActiveInTable:function(){var a=wa();return a?this.table[0]===a||b.contains(this.table[0],a)||this._isLocked()&&(this.lockedTable[0]===a||b.contains(this.lockedTable[0],a)):!1},refresh:function(a){var d=this,c=d.dataSource.view(),e=d.options.navigatable,g,f=b(d.current()),h=!1,l=(d.dataSource.group()||[]).length,k=d.content&&d.content.scrollLeft(),n=l+r(m(d.columns)).length;a&&"itemchange"===a.action&&d.editable||(a=a||{},d.trigger("dataBinding",{action:a.action||"rebind",index:a.index,items:a.items})||(d._angularItems("cleanup"),e&&(d._isActiveInTable()||d._editContainer&&d._editContainer.data("kendoWindow"))&&(h=f.is("th"),g=Math.max(d.cellIndex(f),0)),d._destroyEditable(),d._progress(!1),d._hideResizeHandle(),d._data=[],d.columns.length||(d._autoColumns(d._firstDataItem(c[0],l)),n=l+d.columns.length),d._group=0<l||d._group,d._group&&(d._templates(),d._updateCols(),d._updateLockedCols(),d._updateHeader(l),d._group=0<l),d._renderContent(c,n,l),d._renderLockedContent(c,n,l),d._footer(),d._renderNoRecordsContent(),d._setContentHeight(),d._setContentWidth(k),d.lockedTable&&(d.options.scrollable.virtual?d.content.find("\x3e.k-virtual-scrollable-wrap").trigger("scroll"):d.touchScroller?d.touchScroller.movable.trigger("change"):(d.wrapper.one("scroll",function(a){a.stopPropagation()}),d.content.trigger("scroll"))),d._restoreCurrent(g,h),d.touchScroller&&d.touchScroller.contentResized(),d.selectable&&d.selectable.resetTouchEvents(),d._muteAngularRebind(function(){d._angularItems("compile")}),d.trigger("dataBound")))},_restoreCurrent:function(a,d){if(!(a===k||0>a)){this._removeCurrent();if(d)this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(a));else{var c=0;this._rowVirtualIndex?c=this.virtualScrollable.position(this._rowVirtualIndex):a=0;var e=b();this.lockedTable&&(e=this.lockedTable.find("\x3etbody\x3etr").eq(c));e=e.add(this.tbody.children().eq(c));c=e.find("\x3etd:not(.k-group-cell):not(.k-hierarchy-cell)").eq(a);this._setCurrent(c)}this._current&&ja(this._current.closest("table")[0],!0)}},_angularItems:function(a){I.ui.DataBoundWidget.fn._angularItems.call(this,a);"cleanup"===a&&this._cleanupDetailItems();this._angularGroupItems(a);this._angularGroupFooterItems(a)},_cleanupDetailItems:function(){var a=this;a._hasDetails()&&(a.angular("cleanup",function(){return{elements:a.tbody.children(".k-detail-row")}}),a.tbody.find(".k-detail-cell").empty())},_angularGroupItems:function(a){var d=this,c=d.tbody;d.lockedContent&&(c=d.lockedTable.find("tbody"));d._group&&d.angular(a,function(){return{elements:c.children(".k-grouping-row"),data:b.map(ra(d.dataSource.view()),function(a){return{dataItem:a}})}})},_angularGroupFooterItems:function(a){var d=this,c=d.tbody;d.lockedContent&&(c=d.element);d._group&&d.groupFooterTemplate&&d.angular(a,function(){return{elements:c.find(".k-group-footer"),data:b.map(Ha(d.dataSource.view()),function(a){return{dataItem:a}})}})},_renderContent:function(a,b,d){var c,e="",g=null!=this.lockedContent,f={rowTemplate:this.rowTemplate,altRowTemplate:this.altRowTemplate,groupFooterTemplate:this.groupFooterTemplate};b=g?b-r(Y(this.columns)).length:b;if(0<d)for(b=g?b-d:b,this.detailTemplate&&b++,this.groupFooterTemplate&&(this._groupAggregatesDefaultObject=this.dataSource.aggregates()),d=0,c=a.length;d<c;d++)e+=this._groupRowHtml(a[d],b,0,g?Na:ya,f,g);else e+=this._rowsHtml(a,f);this.tbody=Z(this.tbody,this.table,e,this.options.$angular)},_renderLockedContent:function(a,b,d){var c="",e,g={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var f=this.lockedTable;if(0<d)for(b-=m(K(O(this.columns))).length,d=0,e=a.length;d<e;d++)c+=this._groupRowHtml(a[d],b,0,ya,g);else c=this._rowsHtml(a,g);Z(f.children("tbody"),f,c,this.options.$angular);this._syncLockedContentHeight()}},_adjustRowsHeight:function(a,b){var d=a[0].rows,c=d.length,e,g=b[0].rows,f=a.add(b),h=f.length,l=[];for(e=0;e<c&&g[e];e++){d[e].style.height&&(d[e].style.height=g[e].style.height="");var r=d[e].offsetHeight,m=g[e].offsetHeight,k=0;r>m?k=r:r<m&&(k=m);l.push(k)}for(e=0;e<h;e++)f[e].style.display="none";for(e=0;e<c;e++)l[e]&&(d[e].style.height=g[e].style.height=l[e]+1+"px");for(e=0;e<h;e++)f[e].style.display=""}});I.ExcelMixin&&I.ExcelMixin.extend(Ia.prototype);I.PDFMixin&&(I.PDFMixin.extend(Ia.prototype),Ia.prototype._drawPDF=function(a){function d(){h&&r!==k?(f.unbind("change",c),f.one("change",function(){e.resolve(l)}),f.page(r)):e.resolve(l)}function c(){g._drawPDFShadow({width:g.wrapper.width()},{avoidLinks:g.options.pdf.avoidLinks}).done(function(b){var c=f.page(),e=h?f.totalPages():1;b={page:b,pageNumber:c,progress:c/e,totalPages:e};a.notify(b);l.append(b.page);c<e?f.page(c+1):d()}).fail(function(a){e.reject(a)})}var e=new b.Deferred,g=this,f=g.dataSource,h=g.options.pdf.allPages;this._initPDFProgress(a);var l=new I.drawing.Group,r=f.page();h?(f.bind("change",c),f.page(1)):c();return e.promise()},Ia.prototype._initPDFProgress=function(a){var d=b("\x3cdiv class\x3d'k-loading-pdf-mask'\x3e\x3cdiv class\x3d'k-loading-color'/\x3e\x3c/div\x3e");d.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(d);var c=b("\x3cdiv class\x3d'k-loading-pdf-progress'\x3e").appendTo(d).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");a.progress(function(a){c.value(a.progress)}).always(function(){I.destroy(d);d.remove()})});pa.plugin(Ia);pa.plugin(X)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.listview",["kendo.data","kendo.editable","kendo.selectable"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui.Widget,u=q.keys,z=b.proxy,C=q._activeElement,y=q.ui.progress,F=q.data.DataSource,A=q.ui.DataBoundWidget.extend({init:function(k,x){x=b.isArray(x)?{dataSource:x}:x;B.fn.init.call(this,k,x);this.wrapper=k=this.element;k[0].id&&(this._itemId=k[0].id+"_lv_active");this._element();this._dataSource();this._templates();this._navigatable();this._selectable();this._pageable();this._crudHandlers();this.options.autoBind&&this.dataSource.fetch();q.notify(this)},events:"change cancel dataBinding dataBound edit remove save".split(" "),options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(b){B.fn.setOptions.call(this,b);this._templates();this.selectable&&(this.selectable.destroy(),this.selectable=null);this._selectable()},_templates:function(){var b=this.options;this.template=q.template(b.template||"");this.altTemplate=q.template(b.altTemplate||b.template);this.editTemplate=q.template(b.editTemplate||"")},_item:function(b){return this.element.children()[b]()},items:function(){return this.element.children()},dataItem:function(k){var x=q.attr("uid");k=b(k).closest("["+x+"]").attr(x);return this.dataSource.getByUid(k)},setDataSource:function(b){this.options.dataSource=b;this._dataSource();this.options.autoBind&&b.fetch()},_unbindDataSource:function(){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)},_dataSource:function(){this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._refreshHandler=z(this.refresh,this),this._progressHandler=z(this._progress,this),this._errorHandler=z(this._error,this));this.dataSource=F.create(this.options.dataSource).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_progress:function(){y(this.element,!0)},_error:function(){y(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(b){var k=this.dataSource.view(),t,m,e;m="";var h,p=this.template,n=this.altTemplate,u=C();b=b||{};if("itemchange"===b.action)this._hasBindingTarget()||this.editable||(t=b.items[0],e=this.items().filter("["+q.attr("uid")+"\x3d"+t.uid+"]"),0<e.length&&(b=e.index(),this.angular("cleanup",function(){return{elements:[e]}}),e.replaceWith(p(t)),e=this.items().eq(b),e.attr(q.attr("uid"),t.uid),this.angular("compile",function(){return{elements:[e],data:[{dataItem:t}]}}),this.trigger("itemChange",{item:e,data:t})));else if(!this.trigger("dataBinding",{action:b.action||"rebind",items:b.items,index:b.index})){this._angularItems("cleanup");this._destroyEditable();b=0;for(h=k.length;b<h;b++)m=b%2?m+n(k[b]):m+p(k[b]);this.element.html(m);m=this.items();b=0;for(h=k.length;b<h;b++)m.eq(b).attr(q.attr("uid"),k[b].uid).attr("role","option").attr("aria-selected","false");this.element[0]===u&&this.options.navigatable&&this.current(m.eq(0));this._angularItems("compile");this.trigger("dataBound")}},_pageable:function(){var k=this.options.pageable,x;b.isPlainObject(k)&&(x=k.pagerId,k=b.extend({},k,{dataSource:this.dataSource,pagerId:null}),this.pager=new q.ui.Pager(b("#"+x),k))},_selectable:function(){var b=this,k,t,m=b.options.selectable,e=b.options.navigatable;if(m&&(k=q.ui.Selectable.parseOptions(m).multiple,b.selectable=new q.ui.Selectable(b.element,{aria:!0,multiple:k,filter:"\x3e*:not(.k-loading-mask)",change:function(){b.trigger("change")}}),e))b.element.on("keydown.kendoListView",function(e){if(e.keyCode===u.SPACEBAR){t=b.current();e.target==e.currentTarget&&e.preventDefault();if(k)if(!e.ctrlKey)b.selectable.clear();else{if(t&&t.hasClass("k-state-selected")){t.removeClass("k-state-selected");return}}else b.selectable.clear();b.selectable.value(t)}})},current:function(b){var q=this.element,t=this._current,m=this._itemId;if(b===k)return t;t&&t[0]&&(t[0].id===m&&t.removeAttr("id"),t.removeClass("k-state-focused"),q.removeAttr("aria-activedescendant"));b&&b[0]&&(m=b[0].id||m,this._scrollTo(b[0]),q.attr("aria-activedescendant",m),b.addClass("k-state-focused").attr("id",m));this._current=b},_scrollTo:function(k){var q,t=!1;"auto"==this.wrapper.css("overflow")||"scroll"==this.wrapper.css("overflow")?q=this.wrapper[0]:(q=window,t=!0);var m=function(e,h){var m=t?b(k).offset()[e.toLowerCase()]:k["offset"+e],n=k["client"+h],u=b(q)["scroll"+e](),f=b(q)[h.toLowerCase()]();if(m+n>u+f)b(q)["scroll"+e](m+n-f);else if(m<u)b(q)["scroll"+e](m)};m("Top","Height");m("Left","Width")},_navigatable:function(){var k=this,x=k.element,t=function(m){k.current(b(m.currentTarget));b(m.target).is(":button,a,:input,a\x3e.k-icon,textarea")||x.focus()};k.options.navigatable&&(k._tabindex(),x.on("focus.kendoListView",function(){var b=k._current;b&&b.is(":visible")||(b=k._item("first"));k.current(b)}).on("focusout.kendoListView",function(){k._current&&k._current.removeClass("k-state-focused")}).on("keydown.kendoListView",function(m){var e=m.keyCode,h=k.current(),p=b(m.target),n=!p.is(":button,textarea,a,a\x3e.t-icon,input"),p=p.is(":text,:password"),t=q.preventDefault,f=x.find(".k-edit-item"),l=C(),c;!n&&!p&&u.ESC!=e||p&&u.ESC!=e&&u.ENTER!=e||(u.UP===e||u.LEFT===e?(h&&(h=h.prev()),k.current(h&&h[0]?h:k._item("last")),t(m)):u.DOWN===e||u.RIGHT===e?(h&&(h=h.next()),k.current(h&&h[0]?h:k._item("first")),t(m)):u.PAGEUP===e?(k.current(null),k.dataSource.page(k.dataSource.page()-1),t(m)):u.PAGEDOWN===e?(k.current(null),k.dataSource.page(k.dataSource.page()+1),t(m)):u.HOME===e?(k.current(k._item("first")),t(m)):u.END===e?(k.current(k._item("last")),t(m)):u.ENTER===e?0!==f.length&&(n||p)?(c=k.items().index(f),l&&l.blur(),k.save(),k.one("dataBound",function(){k.element.trigger("focus");k.current(k.items().eq(c))})):""!==k.options.editTemplate&&k.edit(h):u.ESC===e&&(f=x.find(".k-edit-item"),0!==f.length&&(c=k.items().index(f),k.cancel(),k.element.trigger("focus"),k.current(k.items().eq(c)))))}),x.on("mousedown.kendoListView touchstart.kendoListView","\x3e*:not(.k-loading-mask)",z(t,k)))},clearSelection:function(){this.selectable.clear();this.trigger("change")},select:function(k){var q=this.selectable;k=b(k);if(k.length)q.options.multiple||(q.clear(),k=k.first()),q.value(k);else return q.value()},_destroyEditable:function(){this.editable&&(this.editable.destroy(),delete this.editable)},_modelFromElement:function(b){b=b.attr(q.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(){var b=this.editable,k,t,m,e=this.template;b&&(b.element.index()%2&&(e=this.altTemplate),this.angular("cleanup",function(){return{elements:[b.element]}}),k=this._modelFromElement(b.element),this._destroyEditable(),m=b.element.index(),b.element.replaceWith(e(k)),t=this.items().eq(m),t.attr(q.attr("uid"),k.uid),this._hasBindingTarget()&&q.bind(t,k),this.angular("compile",function(){return{elements:[t],data:[{dataItem:k}]}}));return!0},edit:function(b){var k=this._modelFromElement(b);b=k.uid;var t;this.cancel();b=this.items().filter("["+q.attr("uid")+"\x3d"+b+"]");t=b.index();b.replaceWith(this.editTemplate(k));b=this.items().eq(t).addClass("k-edit-item").attr(q.attr("uid"),k.uid);this.editable=b.kendoEditable({model:k,clearContainer:!1,errorTemplate:!1,target:this}).data("kendoEditable");this.trigger("edit",{model:k,item:b})},save:function(){var b=this.editable,k;if(b){var t=b.element;k=this._modelFromElement(t);b.end()&&!this.trigger("save",{model:k,item:t})&&(this._closeEditable(),this.dataSource.sync())}},remove:function(b){var k=this.dataSource,t=this._modelFromElement(b);this.editable&&(k.cancelChanges(this._modelFromElement(this.editable.element)),this._closeEditable());this.trigger("remove",{model:t,item:b})||(b.hide(),k.remove(t),k.sync())},add:function(){var b;b=this.dataSource;var k=b.indexOf((b.view()||[])[0]);0>k&&(k=0);this.cancel();b=b.insert(k,{});this.edit(this.element.find("[data-uid\x3d'"+b.uid+"']"))},cancel:function(){var b=this.dataSource;if(this.editable){var k=this.editable.element,t=this._modelFromElement(k);this.trigger("cancel",{model:t,container:k})||(b.cancelChanges(t),this._closeEditable())}},_crudHandlers:function(){var k=this;k.element.on("click.kendoListView",".k-edit-button",function(u){var t=b(this).closest("["+q.attr("uid")+"]");k.edit(t);u.preventDefault()});k.element.on("click.kendoListView",".k-delete-button",function(u){var t=b(this).closest("["+q.attr("uid")+"]");k.remove(t);u.preventDefault()});k.element.on("click.kendoListView",".k-update-button",function(b){k.save();b.preventDefault()});k.element.on("click.kendoListView",".k-cancel-button",function(b){k.cancel();b.preventDefault()})},destroy:function(){B.fn.destroy.call(this);this._unbindDataSource();this._destroyEditable();this.element.off(".kendoListView");this.pager&&this.pager.destroy();q.destroy(this.element)}});q.ui.plugin(A)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.pager",["kendo.data"],b)})(function(){(function(b,k){function q(b,k,m,e,h){return b({idx:k,text:m,ns:z.ns,numeric:e,title:h||""})}function B(b,k,m){return A({className:b.substring(1),text:k,wrapClassName:m||""})}function u(b,k,m,e){b.find(k).parent().attr(z.attr("page"),m).attr("tabindex",-1).toggleClass("k-state-disabled",e)}var z=window.kendo,C=z.ui,y=C.Widget,F=b.proxy,A=z.template('\x3ca href\x3d"\\#" title\x3d"#\x3dtext#" class\x3d"k-link k-pager-nav #\x3d wrapClassName #"\x3e\x3cspan class\x3d"k-icon #\x3d className #"\x3e#\x3dtext#\x3c/span\x3e\x3c/a\x3e'),E=y.extend({init:function(k,t){var m,e;y.fn.init.call(this,k,t);t=this.options;this.dataSource=z.data.DataSource.create(t.dataSource);this.linkTemplate=z.template(this.options.linkTemplate);this.selectTemplate=z.template(this.options.selectTemplate);this.currentPageTemplate=z.template(this.options.currentPageTemplate);m=this.page();e=this.totalPages();this._refreshHandler=F(this.refresh,this);this.dataSource.bind("change",this._refreshHandler);t.previousNext&&(this.element.find(".k-i-seek-w").length||(this.element.append(B(".k-i-seek-w",t.messages.first,"k-pager-first")),u(this.element,".k-i-seek-w",1,1>=m)),this.element.find(".k-i-arrow-w").length||(this.element.append(B(".k-i-arrow-w",t.messages.previous)),u(this.element,".k-i-arrow-w",Math.max(1,m-1),1>=m)));t.numeric&&(this.list=this.element.find(".k-pager-numbers"),this.list.length||(this.list=b('\x3cul class\x3d"k-pager-numbers k-reset" /\x3e').appendTo(this.element)));t.input&&(this.element.find(".k-pager-input").length||this.element.append('\x3cspan class\x3d"k-pager-input k-label"\x3e'+t.messages.page+'\x3cinput class\x3d"k-textbox"\x3e'+z.format(t.messages.of,e)+"\x3c/span\x3e"),this.element.on("keydown.kendoPager",".k-pager-input input",F(this._keydown,this)));t.previousNext&&(this.element.find(".k-i-arrow-e").length||(this.element.append(B(".k-i-arrow-e",t.messages.next)),u(this.element,".k-i-arrow-e",Math.min(e,m+1),m>=e)),this.element.find(".k-i-seek-e").length||(this.element.append(B(".k-i-seek-e",t.messages.last,"k-pager-last")),u(this.element,".k-i-seek-e",e,m>=e)));t.pageSizes&&(this.element.find(".k-pager-sizes").length||(m=b.map(t.pageSizes.length?t.pageSizes:["all",5,10,20],function(b){return b.toLowerCase&&"all"===b.toLowerCase()?"\x3coption value\x3d'all'\x3e"+t.messages.allPages+"\x3c/option\x3e":"\x3coption\x3e"+b+"\x3c/option\x3e"}),b('\x3cspan class\x3d"k-pager-sizes k-label"\x3e\x3cselect/\x3e'+t.messages.itemsPerPage+"\x3c/span\x3e").appendTo(this.element).find("select").html(m.join("")).end().appendTo(this.element)),this.element.find(".k-pager-sizes select").val(this.pageSize()),z.ui.DropDownList&&this.element.find(".k-pager-sizes select").show().kendoDropDownList(),this.element.on("change.kendoPager",".k-pager-sizes select",F(this._change,this)));t.refresh&&(this.element.find(".k-pager-refresh").length||this.element.append('\x3ca href\x3d"#" class\x3d"k-pager-refresh k-link" title\x3d"'+t.messages.refresh+'"\x3e\x3cspan class\x3d"k-icon k-i-refresh"\x3e'+t.messages.refresh+"\x3c/span\x3e\x3c/a\x3e"),this.element.on("click.kendoPager",".k-pager-refresh",F(this._refreshClick,this)));t.info&&(this.element.find(".k-pager-info").length||this.element.append('\x3cspan class\x3d"k-pager-info k-label" /\x3e'));this.element.on("click.kendoPager","a",F(this._click,this)).addClass("k-pager-wrap k-widget k-floatwrap");this.element.on("click.kendoPager",".k-current-page",F(this._toggleActive,this));t.autoBind&&this.refresh();z.notify(this)},destroy:function(){y.fn.destroy.call(this);this.element.off(".kendoPager");this.dataSource.unbind("change",this._refreshHandler);this._refreshHandler=null;z.destroy(this.element);this.element=this.list=null},events:["change"],options:{name:"Pager",selectTemplate:'\x3cli\x3e\x3cspan class\x3d"k-state-selected"\x3e#\x3dtext#\x3c/span\x3e\x3c/li\x3e',currentPageTemplate:'\x3cli class\x3d"k-current-page"\x3e\x3cspan class\x3d"k-link k-pager-nav"\x3e#\x3dtext#\x3c/span\x3e\x3c/li\x3e',linkTemplate:'\x3cli\x3e\x3ca tabindex\x3d"-1" href\x3d"\\#" class\x3d"k-link" data-#\x3dns#page\x3d"#\x3didx#" #if (title !\x3d\x3d "") {# title\x3d"#\x3dtitle#" #}#\x3e#\x3dtext#\x3c/a\x3e\x3c/li\x3e',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(b){this.dataSource.unbind("change",this._refreshHandler);this.dataSource=this.options.dataSource=b;b.bind("change",this._refreshHandler);this.options.autoBind&&b.fetch()},refresh:function(b){var k,m;k=1;var e=this.page(),h="",p=this.options,n=this.pageSize(),x=this.dataSource.total(),f=this.totalPages(),l=this.linkTemplate;m=p.buttonCount;if(!b||"itemchange"!=b.action){if(p.numeric){e>m&&(k=e%m,k=0===k?e-m+1:e-k+1);m=Math.min(k+m-1,f);for(1<k&&(h+=q(l,k-1,"...",!1,p.messages.morePages));k<=m;k++)h+=q(k==e?this.selectTemplate:l,k,k,!0);m<f&&(h+=q(l,k,"...",!1,p.messages.morePages));""===h&&(h=this.selectTemplate({text:0}));h=this.currentPageTemplate({text:e})+h;this.list.removeClass("k-state-expanded").html(h)}p.info&&(h=0<x?z.format(p.messages.display,(e-1)*n+1,Math.min(e*n,x),x):p.messages.empty,this.element.find(".k-pager-info").html(h));p.input&&this.element.find(".k-pager-input").html(this.options.messages.page+'\x3cinput class\x3d"k-textbox"\x3e'+z.format(p.messages.of,f)).find("input").val(e).attr("disabled",1>x).toggleClass("k-state-disabled",1>x);p.previousNext&&(u(this.element,".k-i-seek-w",1,1>=e),u(this.element,".k-i-arrow-w",Math.max(1,e-1),1>=e),u(this.element,".k-i-arrow-e",Math.min(f,e+1),e>=f),u(this.element,".k-i-seek-e",f,e>=f));p.pageSizes&&(e=0<this.element.find(".k-pager-sizes option[value\x3d'all']").length&&n===this.dataSource.total(),h=n,e&&(n="all",h=p.messages.allPages),this.element.find(".k-pager-sizes select").val(n).filter("["+z.attr("role")+"\x3ddropdownlist]").kendoDropDownList("value",n).kendoDropDownList("text",h))}},_keydown:function(b){if(b.keyCode===z.keys.ENTER){b=this.element.find(".k-pager-input").find("input");var k=parseInt(b.val(),10);if(isNaN(k)||1>k||k>this.totalPages())k=this.page();b.val(k);this.page(k)}},_refreshClick:function(b){b.preventDefault();this.dataSource.read()},_change:function(b){b=b.currentTarget.value;var k=parseInt(b,10),m=this.dataSource;isNaN(k)?"all"==(b+"").toLowerCase()&&m.pageSize(m.total()):m.pageSize(k)},_toggleActive:function(){this.list.toggleClass("k-state-expanded")},_click:function(k){var t=b(k.currentTarget);k.preventDefault();t.is(".k-state-disabled")||this.page(t.attr(z.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(b){if(b!==k)this.dataSource.page(b),this.trigger("change",{index:b});else return 0<this.dataSource.total()?this.dataSource.page():0}});C.plugin(E)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.treeview",["kendo.data","kendo.treeview.draganddrop"],b)})(function(){(function(b,k){function q(a){return function(b){var d=b.children(".k-animation-container");d.length||(d=b);return d.children(a)}}function B(a){return y.template(a,{useWithBlock:!1})}function u(a){return a.find("\x3e div .k-checkbox-wrapper [type\x3dcheckbox]")}function z(a){return function(b,c){c=c.closest(".k-item");var d=c.parent(),e;d.parent().is("li")&&(e=d.parent());return this._dataSourceMove(b,d,e,function(b,d){return this._insert(b.data(),d,c.index()+a)})}}function C(a){var d=a.children("div"),c=a.children("ul"),e=d.children(".k-icon"),f=a.children(":checkbox"),h=d.children(".k-in");if(!a.hasClass("k-treeview")&&(d.length||(d=b("\x3cdiv /\x3e").prependTo(a)),!e.length&&c.length?b("\x3cspan class\x3d'k-icon' /\x3e").prependTo(d):c.length&&c.children().length||(e.remove(),c.remove()),f.length&&b("\x3cspan class\x3d'k-checkbox-wrapper' /\x3e").appendTo(d).append(f),!h.length&&(h=a.children("a").eq(0).addClass("k-in k-link"),h.length||(h=b("\x3cspan class\x3d'k-in' /\x3e")),h.appendTo(d),d.length)))for(a=d[0].nextSibling,h=h[0];a&&"ul"!=a.nodeName.toLowerCase();)d=a,a=a.nextSibling,3==d.nodeType&&(d.nodeValue=b.trim(d.nodeValue)),l.test(d.className)?h.insertBefore(d,h.firstChild):h.appendChild(d)}var y=window.kendo,F=y.ui,A=b.extend,E=y.template,x=b.isArray,t=F.Widget,m=y.data.HierarchicalDataSource,e=b.proxy,h=y.keys,p,n,D,f,l,c={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},w=function(a){return"object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&1===a.nodeType&&"string"===typeof a.nodeName};n=q(".k-group");D=q(".k-group,.k-content");f=function(a){return a.children("div").children(".k-icon")};l=/k-sprite/;p=y.ui.DataBoundWidget.extend({init:function(a,b){var d;d=b&&!!b.dataSource;var c;x(b)&&(b={dataSource:b});b&&"undefined"==typeof b.loadOnDemand&&x(b.dataSource)&&(b.loadOnDemand=!1);t.prototype.init.call(this,a,b);a=this.element;b=this.options;c=a.is("ul")&&a||a.hasClass("k-treeview")&&a.children("ul");if(d=!d&&c.length)b.dataSource.list=c;this._animation();this._accessors();this._templates();a.hasClass("k-treeview")?(this.wrapper=a,this.root=a.children("ul").eq(0)):(this._wrapper(),c&&(this.root=a,this._group(this.wrapper)));this._tabindex();this.root.attr("role","tree");this._dataSource(d);this._attachEvents();this._dragging();d?this._syncHtmlAndDataSource():b.autoBind&&(this._progress(!0),this.dataSource.fetch());b.checkboxes&&b.checkboxes.checkChildren&&this.updateIndeterminate();this.element[0].id&&(this._ariaId=y.format("{0}_tv_active",this.element[0].id));y.notify(this)},_attachEvents:function(){var a=this;a.wrapper.on("mouseenter.kendoTreeView",".k-in.k-state-selected",function(a){a.preventDefault()}).on("mouseenter.kendoTreeView",".k-in:not(.k-state-selected,.k-state-disabled)",function(){b(this).addClass("k-state-hover")}).on("mouseleave.kendoTreeView",".k-in:not(.k-state-selected,.k-state-disabled)",function(){b(this).removeClass("k-state-hover")}).on("click.kendoTreeView",".k-in:not(.k-state-selected,.k-state-disabled)",e(a._click,a)).on("dblclick.kendoTreeView",".k-in:not(.k-state-disabled)",e(a._toggleButtonClick,a)).on("click.kendoTreeView",".k-plus,.k-minus",e(a._toggleButtonClick,a)).on("keydown.kendoTreeView",e(a._keydown,a)).on("focus.kendoTreeView",e(a._focus,a)).on("blur.kendoTreeView",e(a._blur,a)).on("mousedown.kendoTreeView",".k-in,.k-checkbox-wrapper :checkbox,.k-plus,.k-minus",e(a._mousedown,a)).on("change.kendoTreeView",".k-checkbox-wrapper :checkbox",e(a._checkboxChange,a)).on("click.kendoTreeView",".k-checkbox-wrapper :checkbox",e(a._checkboxClick,a)).on("click.kendoTreeView",".k-request-retry",e(a._retryRequest,a)).on("click.kendoTreeView",function(d){b(d.target).is(":kendoFocusable")||a.focus()})},_checkboxClick:function(a){var d=b(a.target);d.data("indeterminate")&&(d.data("indeterminate",!1).prop("indeterminate",!1).prop("checked",!0),this._checkboxChange(a))},_syncHtmlAndDataSource:function(a,b){a=a||this.root;b=b||this.dataSource;var d=b.view(),c=y.attr("uid"),e=y.attr("expanded"),f=this.options.checkboxes,h=a.children("li"),l,k,r,m,n;for(l=0;l<h.length;l++)r=d[l],m=r.uid,k=h.eq(l),k.attr("role","treeitem").attr(c,m),r.expanded="true"===k.attr(e),f&&(n=u(k),r.checked=n.prop("checked"),n.attr("id","_"+m),n.next(".k-checkbox-label").attr("for","_"+m)),this._syncHtmlAndDataSource(k.children("ul"),r.children)},_animation:function(){var a=this.options,b=a.animation;!1===b?b={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:b.collapse&&"effects"in b.collapse||(b.collapse=A({reverse:!0},b.expand));A(b.collapse,{hide:!0});a.animation=b},_dragging:function(){var a=this.options.dragAndDrop,d=this.dragging;if(a&&!d){var c=this;this.dragging=new F.HierarchicalDragAndDrop(this.element,{reorderable:!0,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:e(this._hintText,this),contains:function(a,d){return b.contains(a,d)},dropHintContainer:function(a){return a},itemFromTarget:function(a){var b=a.closest(".k-top,.k-mid,.k-bot");return{item:b,content:a.closest(".k-in"),first:b.hasClass("k-top"),last:b.hasClass("k-bot")}},dropPositionFrom:function(a){return 0<a.prevAll(".k-in").length?"after":"before"},dragstart:function(a){return c.trigger("dragstart",{sourceNode:a[0]})},drag:function(a){c.trigger("drag",{originalEvent:a.originalEvent,sourceNode:a.source[0],dropTarget:a.target[0],pageY:a.pageY,pageX:a.pageX,statusClass:a.status,setStatusClass:a.setStatus})},drop:function(a){return c.trigger("drop",{originalEvent:a.originalEvent,sourceNode:a.source,destinationNode:a.destination,valid:a.valid,setValid:function(b){this.valid=b;a.setValid(b)},dropTarget:a.dropTarget,dropPosition:a.position})},dragend:function(a){function b(b){c.updateIndeterminate();c.trigger("dragend",{originalEvent:a.originalEvent,sourceNode:b&&b[0],destinationNode:e[0],dropPosition:g})}var d=a.source,e=a.destination,g=a.position;"over"==g?c.append(d,e,b):("before"==g?d=c.insertBefore(d,e):"after"==g&&(d=c.insertAfter(d,e)),b(d))}})}else!a&&d&&(d.destroy(),this.dragging=null)},_hintText:function(a){return this.templates.dragClue({item:this.dataItem(a),treeview:this.options})},_templates:function(){var a=this.options,b=e(this._fieldAccessor,this);a.template&&"string"==typeof a.template?a.template=E(a.template):a.template||(a.template=B("# var text \x3d "+b("text")+"(data.item); ## if (typeof data.item.encoded !\x3d 'undefined' \x26\x26 data.item.encoded \x3d\x3d\x3d false) {##\x3d text ## } else { ##: text ## } #"));this._checkboxes();this.templates={wrapperCssClass:function(a,b){var d="k-item",c=b.index;a.firstLevel&&0===c&&(d+=" k-first");c==a.length-1&&(d+=" k-last");return d},cssClass:function(a,b){var d="",c=b.index,e=a.length-1;a.firstLevel&&0===c&&(d+="k-top ");return 0===c&&c!=e?d+"k-top":c==e?d+"k-bot":d+"k-mid"},textClass:function(a,b){var d="k-in";b&&(d+=" k-link");!1===a.enabled&&(d+=" k-state-disabled");!0===a.selected&&(d+=" k-state-selected");return d},toggleButtonClass:function(a){var b="k-icon",b=!0!==a.expanded?b+" k-plus":b+" k-minus";!1===a.enabled&&(b+="-disabled");return b},groupAttributes:function(a){var b="";a.firstLevel||(b="role\x3d'group'");return b+(!0!==a.expanded?" style\x3d'display:none'":"")},groupCssClass:function(a){var b="k-group";a.firstLevel&&(b+=" k-treeview-lines");return b},dragClue:B("#\x3d data.treeview.template(data) #"),group:B("\x3cul class\x3d'#\x3d data.r.groupCssClass(data.group) #'#\x3d data.r.groupAttributes(data.group) #\x3e#\x3d data.renderItems(data) #\x3c/ul\x3e"),itemContent:B("# var imageUrl \x3d "+b("imageUrl")+"(data.item); ## var spriteCssClass \x3d "+b("spriteCssClass")+"(data.item); ## if (imageUrl) { #\x3cimg class\x3d'k-image' alt\x3d'' src\x3d'#\x3d imageUrl #'\x3e# } ## if (spriteCssClass) { #\x3cspan class\x3d'k-sprite #\x3d spriteCssClass #' /\x3e# } ##\x3d data.treeview.template(data) #"),itemElement:B("# var item \x3d data.item, r \x3d data.r; ## var url \x3d "+b("url")+"(item); #\x3cdiv class\x3d'#\x3d r.cssClass(data.group, item) #'\x3e# if (item.hasChildren) { #\x3cspan class\x3d'#\x3d r.toggleButtonClass(item) #' role\x3d'presentation' /\x3e# } ## if (data.treeview.checkboxes) { #\x3cspan class\x3d'k-checkbox-wrapper' role\x3d'presentation'\x3e#\x3d data.treeview.checkboxes.template(data) #\x3c/span\x3e# } ## var tag \x3d url ? 'a' : 'span'; ## var textAttr \x3d url ? ' href\x3d\\'' + url + '\\'' : ''; #\x3c#\x3dtag# class\x3d'#\x3d r.textClass(item, !!url) #'#\x3d textAttr #\x3e#\x3d r.itemContent(data) #\x3c/#\x3dtag#\x3e\x3c/div\x3e"),item:B("# var item \x3d data.item, r \x3d data.r; #\x3cli role\x3d'treeitem' class\x3d'#\x3d r.wrapperCssClass(data.group, item) #' "+y.attr("uid")+"\x3d'#\x3d item.uid #' aria-selected\x3d'#\x3d item.selected ? \"true\" : \"false \" #' #\x3ditem.enabled \x3d\x3d\x3d false ? \"aria-disabled\x3d'true'\" : ''## if (item.expanded) { #data-expanded\x3d'true' aria-expanded\x3d'true'# } #\x3e#\x3d r.itemElement(data) #\x3c/li\x3e"),loading:B("\x3cdiv class\x3d'k-icon k-loading' /\x3e #: data.messages.loading #"),retry:B("#: data.messages.requestFailed # \x3cbutton class\x3d'k-button k-request-retry'\x3e#: data.messages.retry #\x3c/button\x3e")}},items:function(){return this.element.find(".k-item \x3e div:first-child")},setDataSource:function(a){var d=this.options;d.dataSource=a;this._dataSource();if(d.checkboxes&&d.checkboxes.checkChildren)this.dataSource.one("change",b.proxy(this.updateIndeterminate,this,null));this.options.autoBind&&this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=e(this.refresh,this);this._errorHandler=e(this._error,this);this.dataSource.bind("change",this._refreshHandler);this.dataSource.bind("error",this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;a&&(a.unbind("change",this._refreshHandler),a.unbind("error",this._errorHandler))},_dataSource:function(a){function b(a){for(var d=0;d<a.length;d++)a[d]._initChildren(),a[d].children.fetch(),b(a[d].children.view())}var c=this.options.dataSource,c=x(c)?{data:c}:c;this._unbindDataSource();c.fields||(c.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]);this.dataSource=c=m.create(c);a&&(c.fetch(),b(c.view()));this._bindDataSource()},events:"dragstart drag drop dragend dataBound expand collapse select change navigate check".split(" "),options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,autoScroll:!1,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var a=this.options,b,e,f,h=this.element;for(b in c)e=a[c[b]],f=h.attr(y.attr(b+"-field")),!e&&f&&(e=f),e||(e=b),x(e)||(e=[e]),a[c[b]]=e},_fieldAccessor:function(a){var d=this.options[c[a]],e=d.length,f="(function(item) {";0===e?f+="return item['"+a+"'];":(f+="var levels \x3d ["+b.map(d,function(a){return"function(d){ return "+y.expr(a)+"}"}).join(",")+"];",f+="return levels[Math.min(item.level(), "+e+"-1)](item)");return f+"})"},setOptions:function(a){t.fn.setOptions.call(this,a);this._animation();this._dragging();this._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(".k-item")[0]})},_setChecked:function(a,d){if(a&&b.isFunction(a.view))for(var c=0,e=a.view();c<e.length;c++)e[c].checked=d,e[c].children&&this._setChecked(e[c].children,d)},_setIndeterminate:function(a){var b=n(a),c,e=!0,f;if(b.length&&(b=u(b.children()),c=b.length)){if(1<c)for(f=1;f<c;f++){if(b[f].checked!=b[f-1].checked||b[f].indeterminate||b[f-1].indeterminate){e=!1;break}}else e=!b[0].indeterminate;return u(a).data("indeterminate",!e).prop("indeterminate",!e).prop("checked",e&&b[0].checked)}},updateIndeterminate:function(a){a=a||this.wrapper;var b=n(a).children(),c;if(b.length){for(c=0;c<b.length;c++)this.updateIndeterminate(b.eq(c));(b=this._setIndeterminate(a))&&b.prop("checked")&&(this.dataItem(a).checked=!0)}},_bubbleIndeterminate:function(a){if(a.length){a=this.parent(a);var b;a.length&&(this._setIndeterminate(a),b=a.children("div").find(".k-checkbox-wrapper :checkbox"),!1===b.prop("indeterminate")?this.dataItem(a).set("checked",b.prop("checked")):delete this.dataItem(a).checked,this._bubbleIndeterminate(a))}},_checkboxChange:function(a){var d=b(a.target);a=d.prop("checked");var d=d.closest(".k-item"),c=this.dataItem(d);c.checked!=a&&(c.set("checked",a),this._trigger("check",d))},_toggleButtonClick:function(a){this.toggle(b(a.target).closest(".k-item"))},_mousedown:function(a){this._clickTarget=a=b(a.currentTarget).closest(".k-item");this.current(a)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var a=this.select(),d=this._clickTarget;y.support.touch||(d&&d.length&&(a=d),this._focusable(a)||(a=this.current()),this._focusable(a)||(a=this._nextVisible(b())),this.current(a))},focus:function(){var a=this.wrapper,b=a[0],c=[],e=[],f=document.documentElement;do b=b.parentNode,b.scrollHeight>b.clientHeight&&(c.push(b),e.push(b.scrollTop));while(b!=f);a.focus();for(a=0;a<c.length;a++)c[a].scrollTop=e[a]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(a){var d=/\bk-treeview\b/,c=/\bk-item\b/,e,f;"string"==typeof a&&(a=this.element.find(a));w(a)||(a=a[0]);f=c.test(a.className);do a=a.parentNode,c.test(a.className)&&(f?e=a:f=!0);while(!d.test(a.className)&&!e);return b(e)},_nextVisible:function(a){function b(a){for(;a.length&&!a.next().length;)a=c.parent(a);return a.next().length?a.next():a}var c=this,e=c._expanded(a);a.length&&a.is(":visible")?e?(e=n(a).children().first(),e.length||(e=b(a))):e=b(a):e=c.root.children().eq(0);c._enabled(e)||(e=c._nextVisible(e));return e},_previousVisible:function(a){var b;if(!a.length||a.prev().length)for(b=a.length?a.prev():this.root.children().last();this._expanded(b);){a=n(b).children().last();if(!a.length)break;b=a}else b=this.parent(a)||a;this._enabled(b)||(b=this._previousVisible(b));return b},_keydown:function(a){var d=a.keyCode,c,e=this.current(),f=this._expanded(e),l=e.find(".k-checkbox-wrapper:first :checkbox"),m=y.support.isRtl(this.element);a.target==a.currentTarget&&(!m&&d==h.RIGHT||m&&d==h.LEFT?f?c=this._nextVisible(e):this.expand(e):!m&&d==h.LEFT||m&&d==h.RIGHT?f?this.collapse(e):(c=this.parent(e),this._enabled(c)||(c=k)):d==h.DOWN?c=this._nextVisible(e):d==h.UP?c=this._previousVisible(e):d==h.HOME?c=this._nextVisible(b()):d==h.END?c=this._previousVisible(b()):d==h.ENTER?e.find(".k-in:first").hasClass("k-state-selected")||this._trigger("select",e)||this.select(e):d==h.SPACEBAR&&l.length&&(l.prop("checked",!l.prop("checked")).data("indeterminate",!1).prop("indeterminate",!1),this._checkboxChange({target:l}),c=e),c&&(a.preventDefault(),e[0]!=c[0]&&(this._trigger("navigate",c),this.current(c))))},_click:function(a){var d=b(a.currentTarget),c=D(d.closest(".k-item")),e=d.attr("href");(e?"#"==e||0<=e.indexOf("#"+this.element.id+"-"):c.length&&!c.children().length)&&a.preventDefault();d.hasClass(".k-state-selected")||this._trigger("select",d)||this.select(d)},_wrapper:function(){var a=this.element,b;a.is("ul")?b=a.wrap("\x3cdiv /\x3e").parent():(b=a,a=b.children("ul").eq(0));this.wrapper=b.addClass("k-widget k-treeview");this.root=a},_group:function(a){var b=a.hasClass("k-treeview"),b={firstLevel:b,expanded:b||this._expanded(a)};a=a.children("ul");a.addClass(this.templates.groupCssClass(b)).css("display",b.expanded?"":"none");this._nodes(a,b)},_nodes:function(a,d){var c=this,e=a.children("li"),f;d=A({length:e.length},d);e.each(function(a,e){e=b(e);f={index:a,expanded:c._expanded(e)};C(e);c._updateNodeClasses(e,d,f);c._group(e)})},_checkboxes:function(){var a=this.options,b=a.checkboxes,c;b&&(c="\x3cinput type\x3d'checkbox' tabindex\x3d'-1' #\x3d (item.enabled \x3d\x3d\x3d false) ? 'disabled' : '' # #\x3d item.checked ? 'checked' : '' #",b.name&&(c+=" name\x3d'"+b.name+"'"),b=A({template:c+" id\x3d'_#\x3d item.uid #' class\x3d'k-checkbox' /\x3e\x3clabel for\x3d'_#\x3d item.uid #' class\x3d'k-checkbox-label'\x3e\x3c/label\x3e"},a.checkboxes),"string"==typeof b.template&&(b.template=E(b.template)),a.checkboxes=b)},_updateNodeClasses:function(a,b,c){var d=a.children("div"),e=a.children("ul"),g=this.templates;if(!a.hasClass("k-treeview")){c=c||{};c.expanded="undefined"!=typeof c.expanded?c.expanded:this._expanded(a);c.index="undefined"!=typeof c.index?c.index:a.index();c.enabled="undefined"!=typeof c.enabled?c.enabled:!d.children(".k-in").hasClass("k-state-disabled");b=b||{};b.firstLevel="undefined"!=typeof b.firstLevel?b.firstLevel:a.parent().parent().hasClass("k-treeview");b.length="undefined"!=typeof b.length?b.length:a.parent().children().length;a.removeClass("k-first k-last").addClass(g.wrapperCssClass(b,c));d.removeClass("k-top k-mid k-bot").addClass(g.cssClass(b,c));b=d.children(".k-in");var f=b[0]&&"a"==b[0].nodeName.toLowerCase();b.removeClass("k-in k-link k-state-default k-state-disabled").addClass(g.textClass(c,f));if(e.length||"true"==a.attr("data-hasChildren"))d.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(g.toggleButtonClass(c)),e.addClass("k-group")}},_processNodes:function(a,d){var c=this;c.element.find(a).each(function(a,e){d.call(c,a,b(e).closest(".k-item"))})},dataItem:function(a){a=b(a).closest(".k-item").attr(y.attr("uid"));var d=this.dataSource;return d&&d.getByUid(a)},_insertNode:function(a,d,c,e,f){var g=n(c),h=g.children().length+1,l={firstLevel:c.hasClass("k-treeview"),expanded:!f,length:h},k,r="",m=function(a,b){a.appendTo(b)};for(f=0;f<a.length;f++)h=a[f],h.index=d+f,r+=this._renderItem({group:l,item:h});k=b(r);if(k.length){this.angular("compile",function(){return{elements:k.get(),data:a.map(function(a){return{dataItem:a}})}});g.length||(g=b(this._renderGroup({group:l})).appendTo(c));e(k,g);c.hasClass("k-item")&&(C(c),this._updateNodeClasses(c));this._updateNodeClasses(k.prev().first());this._updateNodeClasses(k.next().last());for(f=0;f<a.length;f++)h=a[f],h.hasChildren&&(d=h.children.data(),d.length&&this._insertNode(d,h.index,k.eq(f),m,!this._expanded(k.eq(f))));return k}},_updateNodes:function(a,d){function c(a,b){a.find(".k-checkbox-wrapper :checkbox").prop("checked",b).data("indeterminate",!1).prop("indeterminate",!1)}var e=this,f,h,l,k,m,r={treeview:e.options,item:k},n="expanded"!=d&&"checked"!=d;if("selected"==d)k=a[0],h=e.findByUid(k.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",k[d]).end(),k[d]&&e.current(h),h.attr("aria-selected",!!k[d]);else{var p=b.map(a,function(a){return e.findByUid(a.uid).children("div")});n&&e.angular("cleanup",function(){return{elements:p}});for(f=0;f<a.length;f++)r.item=k=a[f],l=p[f],h=l.parent(),n&&l.children(".k-in").html(e.templates.itemContent(r)),"checked"==d?(m=k[d],c(l,m),e.options.checkboxes.checkChildren&&(c(h.children(".k-group"),m),e._setChecked(k.children,m),e._bubbleIndeterminate(h))):"expanded"==d?e._toggle(h,k,k[d]):"enabled"==d&&(h.find(".k-checkbox-wrapper :checkbox").prop("disabled",!k[d]),m=!D(h).is(":visible"),h.removeAttr("aria-disabled"),k[d]||(k.selected&&k.set("selected",!1),k.expanded&&k.set("expanded",!1),m=!0,h.attr("aria-selected",!1).attr("aria-disabled",!0)),e._updateNodeClasses(h,{},{enabled:k[d],expanded:!m})),l.length&&this.trigger("itemChange",{item:l,data:k,ns:F});n&&e.angular("compile",function(){return{elements:p,data:b.map(a,function(a){return[{dataItem:a}]})}})}},_appendItems:function(a,b,c){var d=n(c).children(),e=!this._expanded(c);"undefined"==typeof a&&(a=d.length);this._insertNode(b,a,c,function(b,c){a>=d.length?b.appendTo(c):b.insertBefore(d.eq(a))},e);this._expanded(c)&&(this._updateNodeClasses(c),n(c).css("display","block"))},_refreshChildren:function(a,b,c){var d,e=this.options;d=e.loadOnDemand;e=e.checkboxes&&e.checkboxes.checkChildren;n(a).empty();if(b.length)for(this._appendItems(c,b,a),a=n(a).children(),d&&e&&this._bubbleIndeterminate(a.last()),d=0;d<a.length;d++)b=a.eq(d),this.trigger("itemChange",{item:b.children("div"),data:this.dataItem(b),ns:F});else C(a)},_refreshRoot:function(a){var d=this._renderGroup({items:a,group:{firstLevel:!0,expanded:!0}});this.root.length?(this._angularItems("cleanup"),d=b(d),this.root.attr("class",d.attr("class")).html(d.html())):this.root=this.wrapper.html(d).children("ul");this.root.attr("role","tree");for(var d=this.root.children(".k-item"),c=0;c<a.length;c++)this.trigger("itemChange",{item:d.eq(c),data:a[c],ns:F});this._angularItems("compile")},refresh:function(a){var b=a.node,c=a.action,e=a.items,f=this.wrapper,h=this.options,l=h.loadOnDemand,h=h.checkboxes&&h.checkboxes.checkChildren;if(a.field)return e[0]&&e[0].level?this._updateNodes(e,a.field):void 0;b&&(f=this.findByUid(b.uid),this._progress(f,!1));if(h&&"remove"!=c){for(var m=!1,h=0;h<e.length;h++)if("checked"in e[h]){m=!0;break}if(!m&&b&&b.checked)for(h=0;h<e.length;h++)e[h].checked=!0}"add"==c?this._appendItems(a.index,e,f):"remove"==c?this._remove(this.findByUid(e[0].uid),!1):"itemchange"==c?this._updateNodes(e):"itemloaded"==c?this._refreshChildren(f,e,a.index):this._refreshRoot(e);if("remove"!=c)for(h=0;h<e.length;h++)l&&!e[h].expanded||e[h].load();this.trigger("dataBound",{node:b?f:k})},_error:function(a){var b=a.node&&this.findByUid(a.node.uid),c=this.templates.retry({messages:this.options.messages});b?(this._progress(b,!1),this._expanded(b,!1),f(b).addClass("k-i-refresh"),a.node.loaded(!1)):(this._progress(!1),this.element.html(c))},_retryRequest:function(a){a.preventDefault();this.dataSource.fetch()},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,!0)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,!1)})},enable:function(a,b){b=2==arguments.length?!!b:!0;this._processNodes(a,function(a,d){this.dataItem(d).set("enabled",b)})},current:function(a){var d=this._current,c=this.element,e=this._ariaId;if(0<arguments.length&&a&&a.length){if(d&&(d[0].id===e&&d.removeAttr("id"),d.find(".k-in:first").removeClass("k-state-focused")),d=this._current=b(a,c).closest(".k-item"),d.find(".k-in:first").addClass("k-state-focused"),e=d[0].id||e)this.wrapper.removeAttr("aria-activedescendant"),d.attr("id",e),this.wrapper.attr("aria-activedescendant",e)}else return d||(d=this._nextVisible(b())),d},select:function(a){var d=this,c=d.element;if(!arguments.length)return c.find(".k-state-selected").closest(".k-item");a=b(a,c).closest(".k-item");c.find(".k-state-selected").each(function(){var a=d.dataItem(this);a?(a.set("selected",!1),delete a.selected):b(this).removeClass("k-state-selected")});a.length&&(d.dataItem(a).set("selected",!0),d._clickTarget=a);d.trigger("change")},_toggle:function(a,b,c){var d=this.options,e=D(a),g=c?"expand":"collapse",f;e.data("animating")||this._trigger(g,a)||(this._expanded(a,c),f=b&&b.loaded(),c&&!f?(d.loadOnDemand&&this._progress(a,!0),e.remove(),b.load()):(this._updateNodeClasses(a,{},{expanded:c}),c||e.css("height",e.height()).css("height"),e.kendoStop(!0,!0).kendoAnimate(A({reset:!0},d.animation[g],{complete:function(){c&&e.css("height","")}}))))},toggle:function(a,d){a=b(a);f(a).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(d=!this._expanded(a)),this._expanded(a,d))},destroy:function(){t.fn.destroy.call(this);this.wrapper.off(".kendoTreeView");this._unbindDataSource();this.dragging&&this.dragging.destroy();y.destroy(this.element);this.root=this.wrapper=this.element=null},_expanded:function(a,b){var d=y.attr("expanded"),c=this.dataItem(a),e=b;if(1==arguments.length)return"true"===a.attr(d)||c&&c.expanded;D(a).data("animating")||(c&&(c.set("expanded",e),e=c.expanded),e?(a.attr(d,"true"),a.attr("aria-expanded","true")):(a.removeAttr(d),a.attr("aria-expanded","false")))},_progress:function(a,b){var d=this.element,c=this.templates.loading({messages:this.options.messages});1==arguments.length?a?d.html(c):d.empty():f(a).toggleClass("k-loading",b).removeClass("k-i-refresh")},text:function(a,b){var d=this.dataItem(a),e=this.options[c.text],f=d.level(),e=e[Math.min(f,e.length-1)];if(b)d.set(e,b);else return d[e]},_objectOrSelf:function(a){return b(a).closest("[data-role\x3dtreeview]").data("kendoTreeView")||this},_dataSourceMove:function(a,d,c,e){var g=this._objectOrSelf(c||d),f=g.dataSource,h=b.Deferred().resolve().promise();c&&c[0]!=g.element[0]&&(d=g.dataItem(c),d.loaded()||(g._progress(c,!0),h=d.load()),c!=this.root&&(f=d.children,f&&f instanceof m||(d._initChildren(),d.loaded(!0),f=d.children)));a=this._toObservableData(a);return e.call(g,f,a,h)},_toObservableData:function(a){var d=a,c;if(a instanceof window.jQuery||w(a))c=this._objectOrSelf(a).dataSource,a=b(a).attr(y.attr("uid")),(d=c.getByUid(a))&&(d=c.remove(d));return d},_insert:function(a,b,c){b instanceof y.data.ObservableArray?b=b.toJSON():x(b)||(b=[b]);var d=a.parent();d&&d._initChildren&&(d.hasChildren=!0,d._initChildren());a.splice.apply(a,[c,0].concat(b));return this.findByUid(a[c].uid)},insertAfter:z(1),insertBefore:z(0),append:function(a,d,c){var e=this.root;d&&(e=n(d));return this._dataSourceMove(a,e,d,function(a,e,g){var f,h=this;g.then(function(){d&&h._expanded(d,!0);var g=a.data();f=h._insert(g,e,Math.max(g.length,0));c=c||b.noop;c(f)});return f||null})},_remove:function(a,d){var c,e,f;a=b(a,this.element);this.angular("cleanup",function(){return{elements:a.get()}});c=a.parent().parent();e=a.prev();f=a.next();a[d?"detach":"remove"]();c.hasClass("k-item")&&(C(c),this._updateNodeClasses(c));this._updateNodeClasses(e);this._updateNodeClasses(f);return a},remove:function(a){(a=this.dataItem(a))&&this.dataSource.remove(a)},detach:function(a){return this._remove(a,!0)},findByText:function(a){return b(this.element).find(".k-in").filter(function(d,c){return b(c).text()==a}).closest(".k-item")},findByUid:function(a){for(var d=this.element.find(".k-item"),c=y.attr("uid"),e,f=0;f<d.length;f++)if(d[f].getAttribute(c)==a){e=d[f];break}return b(e)},expandPath:function(a,d){function c(){h.shift();h.length?e(h[0]).then(c):l.call(f)}function e(a){var d=b.Deferred(),c=f.dataSource.get(a);c?c.loaded()?(c.set("expanded",!0),d.resolve()):(f._progress(f.findByUid(c.uid),!0),c.load().then(function(){c.set("expanded",!0);d.resolve()})):d.resolve();return d.promise()}var f=this,h=a.slice(0),l=d||b.noop;e(h[0]).then(c)},_parentIds:function(a){a=a&&a.parentNode();for(var b=[];a&&a.parentNode;)b.unshift(a.id),a=a.parentNode();return b},expandTo:function(a){a instanceof y.data.Node||(a=this.dataSource.get(a));a=this._parentIds(a);this.expandPath(a)},_renderItem:function(a){a.group||(a.group={});a.treeview=this.options;a.r=this.templates;return this.templates.item(a)},_renderGroup:function(a){var b=this;a.renderItems=function(a){var d="",c=0,e=a.items,g=e?e.length:0,f=a.group;for(f.length=g;c<g;c++)a.group=f,a.item=e[c],a.item.index=c,d+=b._renderItem(a);return d};a.r=b.templates;return b.templates.group(a)}});F.plugin(p)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.upload",["kendo.core"],b)})(function(){(function(b,k){function q(a){return b.map(B(a),function(a){return a.name}).join(", ")}function B(a){a=a[0];if(a.files)return u(a.files);var b=a.value,c=b.lastIndexOf("\\");return[{name:-1!=c?b.substr(c+1):b,extension:z(a.value),size:null}]}function u(a){return b.map(a,function(a){var b=a.name||a.fileName;return{name:e.htmlEncode(b),extension:z(b),size:a.size||a.fileSize,rawFile:a}})}function z(a){return(a=a.match(D))?a[0]:""}function C(a,d){var c=e.guid();return b.map(a,function(a){a.uid=d?e.guid():c;return a})}function y(a,d,c){if(d._supportsRemove()){var e=a.data("fileNames"),g=b.map(e,function(a){return a.name});d._submitRemove(g,c,function(b,c,g){d._removeFileEntry(a);d.trigger("success",{operation:"remove",files:e,response:b,XMLHttpRequest:g})},function(c){!d.multiple&&1<b(".k-file",d.wrapper).length&&d._removeFileEntry(a);d.trigger("error",{operation:"remove",files:e,XMLHttpRequest:c});n("Server response: "+c.responseText)})}else!d.multiple&&1<b(".k-file",d.wrapper).length&&d._removeFileEntry(a)}function F(a,d,c){var e=!1,g="";try{g=b.parseJSON(A(a)),e=!0}catch(J){c()}e&&d(g)}function A(a){if("undefined"===typeof a||""===a)a="{}";return a}function E(a){a.stopPropagation();a.preventDefault()}function x(a,b,c,e){var d,g;a.on("dragenter"+b,function(){c();g=new Date;d||(d=setInterval(function(){100<new Date-g&&(e(),clearInterval(d),d=null)},100))}).on("dragover"+b,function(){g=new Date})}function t(a){return a.is(".k-file-progress, .k-file-success, .k-file-error")}function m(a){return b(a.target).closest(".k-file")}var e=window.kendo,h=e.ui.Widget,p=e.antiForgeryTokens,n=e.logToConsole,D=/\.([^\.]+)$/,f=h.extend({init:function(a,d){h.fn.init.call(this,a,d);this.name=a.name;this.multiple=this.options.multiple;this.localization=this.options.localization;var g=this.element;this.wrapper=g.closest(".k-upload");0===this.wrapper.length&&(this.wrapper=this._wrapInput(g));this._activeInput(g);this.toggle(this.options.enabled);var f=this._ns=".kendoUpload-"+e.guid();g.closest("form").on("submit"+f,b.proxy(this._onParentFormSubmit,this)).on("reset"+f,b.proxy(this._onParentFormReset,this));this.options.async.saveUrl?(this._module=this._supportsFormData()?new w(this):new c(this),this._async=!0,g=this.options.files,0<g.length&&this._renderInitialFiles(g)):this._module=new l(this);this._supportsDrop()&&this._setupDropZone();this.wrapper.on("click",".k-upload-action",b.proxy(this._onFileAction,this)).on("click",".k-upload-selected",b.proxy(this._onUploadSelected,this));this.element.val()&&this._onInputChange({target:this.element})},events:"select upload success error complete cancel progress remove".split(" "),options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0,withCredentials:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(a){var b=this.element;h.fn.setOptions.call(this,a);this.multiple=this.options.multiple;b.attr("multiple",this._supportsMultiple()?this.multiple:!1);this.toggle(this.options.enabled)},enable:function(a){this.toggle("undefined"===typeof a?!0:a)},disable:function(){this.toggle(!1)},toggle:function(a){a="undefined"===typeof a?a:!a;this.wrapper.toggleClass("k-state-disabled",a);this.element.prop("disabled",a)},destroy:function(){b(document).add(b(".k-dropzone",this.wrapper)).add(this.wrapper.closest("form")).off(this._ns);b(this.element).off(".kendoUpload");h.fn.destroy.call(this)},_addInput:function(a){a[0].nodeType&&(a=a.clone().val(""),a.insertAfter(this.element).data("kendoUpload",this),b(this.element).hide().attr("tabindex","-1").removeAttr("id").off(".kendoUpload"),this._activeInput(a),this.element.focus())},_activeInput:function(a){var d=this.wrapper;this.element=a;a.attr("multiple",this._supportsMultiple()?this.multiple:!1).attr("autocomplete","off").on("click.kendoUpload",function(a){d.hasClass("k-state-disabled")&&a.preventDefault()}).on("focus.kendoUpload",function(){b(this).parent().addClass("k-state-focused")}).on("blur.kendoUpload",function(){b(this).parent().removeClass("k-state-focused")}).on("change.kendoUpload",b.proxy(this._onInputChange,this)).on("keydown.kendoUpload",b.proxy(this._onInputKeyDown,this))},_onInputKeyDown:function(a){var b=this.wrapper.find(".k-upload-action:first");a.keyCode===e.keys.TAB&&0<b.length&&(a.preventDefault(),b.focus())},_onInputChange:function(a){a=b(a.target);var d=C(this._inputFiles(a),this._isAsyncNonBatch());if(this.trigger("select",{files:d}))this._addInput(a),a.remove();else this._module.onSelect({target:a},d)},_onDrop:function(a){var d=a.originalEvent.dataTransfer.files,c=C(u(d),this._isAsyncNonBatch());E(a);if(0<d.length&&!this.wrapper.hasClass("k-state-disabled")&&(!this.multiple&&1<c.length&&c.splice(1,c.length-1),!this.trigger("select",{files:c})))this._module.onSelect({target:b(".k-dropzone",this.wrapper)},c)},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(a){var d;a=C(a,!0);for(d=0;d<a.length;d++){var c=a[d],c=this._enqueueFile(c.name,{fileNames:[c]});c.addClass("k-file-success").data("files",[a[d]]);b(".k-progress",c).width("100%");this.options.template||b(".k-upload-status",c).prepend("\x3cspan class\x3d'k-upload-pct'\x3e100%\x3c/span\x3e");this._supportsRemove()&&this._fileAction(c,"remove")}},_prepareTemplateData:function(a,b){var d=b.fileNames,c={},e=0,f;for(f=0;f<d.length;f++)e+=d[f].size;c.name=a;c.size=e;c.files=b.fileNames;return c},_prepareDefaultFileEntryTemplate:function(a,d){var c,e=b("\x3cli class\x3d'k-file'\x3e\x3cspan class\x3d'k-progress'\x3e\x3c/span\x3e\x3cspan class\x3d'k-icon'\x3e\x3c/span\x3e\x3cspan class\x3d'k-filename' title\x3d'"+a+"'\x3e"+a+"\x3c/span\x3e\x3cstrong class\x3d'k-upload-status'\x3e\x3c/strong\x3e\x3c/li\x3e");1==d.fileNames.length&&d.fileNames[0].extension&&(c=d.fileNames[0].extension.substring(1),b(".k-icon",e).addClass("k-i-"+c));return e},_enqueueFile:function(a,d){var c,f,h=d.fileNames[0].uid,l=b(".k-upload-files",this.wrapper),k=this.options.template,m;0===l.length&&(l=b("\x3cul class\x3d'k-upload-files k-reset'\x3e\x3c/ul\x3e").appendTo(this.wrapper),this.options.showFileList||l.hide(),this.wrapper.removeClass("k-upload-empty"));c=b(".k-file",l);k?(m=this._prepareTemplateData(a,d),k=e.template(k),f=b("\x3cli class\x3d'k-file'\x3e"+k(m)+"\x3c/li\x3e"),f.find(".k-upload-action").addClass("k-button k-button-bare"),this.angular("compile",function(){return{elements:f,data:[m]}})):f=this._prepareDefaultFileEntryTemplate(a,d);f.attr(e.attr("uid"),h).appendTo(l).data(d);this._async||b(".k-progress",f).width("100%");if(!this.multiple&&0<c.length&&(h={files:c.data("fileNames")},!this.trigger("remove",h)))this._module.onRemove({target:b(c,this.wrapper)},h.data);return f},_removeFileEntry:function(a){var d=a.closest(".k-upload-files");a.remove();a=b(".k-file",d);b(".k-file-success, .k-file-error",d).length===a.length&&this._hideUploadButton();0===a.length&&(d.remove(),this.wrapper.addClass("k-upload-empty"),this._hideHeaderUploadstatus())},_fileAction:function(a,b){var d={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},c={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};d.hasOwnProperty(b)&&(this._clearFileAction(a),this.options.template?a.find(".k-upload-action").addClass("k-button k-button-bare").append("\x3cspan class\x3d'k-icon "+c[b]+" "+d[b]+"' title\x3d'"+this.localization[b]+"'\x3e\x3c/span\x3e").show():(a.find(".k-upload-status .k-upload-action").remove(),a.find(".k-upload-status").append(this._renderAction(d[b],this.localization[b],c[b]))))},_fileState:function(a,d){var c=this.localization;(c={uploading:{text:c.statusUploading},uploaded:{text:c.statusUploaded},failed:{text:c.statusFailed}}[d])&&b(".k-icon:not(.k-delete, .k-cancel, .k-retry)",a).text(c.text)},_renderAction:function(a,d,c){return""!==a?b("\x3cbutton type\x3d'button' class\x3d'k-button k-button-bare k-upload-action'\x3e\x3cspan class\x3d'k-icon "+c+" "+a+"' title\x3d'"+d+"'\x3e\x3c/span\x3e\x3c/button\x3e"):b("\x3cbutton type\x3d'button' class\x3d'k-button'\x3e"+d+"\x3c/button\x3e")},_clearFileAction:function(a){b(".k-upload-action",a).empty().hide()},_onFileAction:function(a){if(!this.wrapper.hasClass("k-state-disabled")){var d=b(a.target).closest(".k-upload-action");a=d.find(".k-icon");var d=d.closest(".k-file"),c={files:d.data("fileNames")};if(a.hasClass("k-delete")){if(!this.trigger("remove",c))this._module.onRemove({target:b(d,this.wrapper)},c.data)}else a.hasClass("k-cancel")?(this.trigger("cancel",c),this._module.onCancel({target:b(d,this.wrapper)}),this._checkAllComplete(),this._updateHeaderUploadStatus()):a.hasClass("k-retry")&&(b(".k-warning",d).remove(),this._module.onRetry({target:b(d,this.wrapper)}))}return!1},_onUploadSelected:function(){if(!this.wrapper.hasClass("k-state-disabled"))this._module.onSaveSelected();return!1},_onFileProgress:function(a,d){var c;100<d&&(d=100);this.options.template||(c=b(".k-upload-pct",a.target),0===c.length&&b(".k-upload-status",a.target).prepend("\x3cspan class\x3d'k-upload-pct'\x3e\x3c/span\x3e"),b(".k-upload-pct",a.target).text(d+"%"));b(".k-progress",a.target).width(d+"%");this.trigger("progress",{files:m(a).data("fileNames"),percentComplete:d})},_onUploadSuccess:function(a,b,c){a=m(a);this._fileState(a,"uploaded");a.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger("success",{files:a.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:c});this._supportsRemove()?this._fileAction(a,"remove"):this._clearFileAction(a);this._checkAllComplete()},_onUploadError:function(a,d){var c=m(a),e=b(".k-upload-pct",c);this._fileState(c,"failed");c.removeClass("k-file-progress").addClass("k-file-error");b(".k-progress",c).width("100%");0<e.length?e.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):b(".k-upload-status",c).prepend("\x3cspan class\x3d'k-icon k-warning'\x3e\x3c/span\x3e");this._updateHeaderUploadStatus();this._fileAction(c,"retry");this.trigger("error",{operation:"upload",files:c.data("fileNames"),XMLHttpRequest:d});n("Server response: "+d.responseText);this._checkAllComplete()},_showUploadButton:function(){var a=b(".k-upload-selected",this.wrapper);0===a.length&&(a=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected"));this.wrapper.append(a)},_hideUploadButton:function(){b(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var a=this.localization,d=b(".k-dropzone",this.wrapper),c=b(".k-upload-status-total",this.wrapper);0!==c.length&&c.remove();c='\x3cstrong class\x3d"k-upload-status k-upload-status-total"\x3e'+a.headerStatusUploading+'\x3cspan class\x3d"k-icon k-loading"\x3e'+a.statusUploading+"\x3c/span\x3e\x3c/strong\x3e";0<d.length?d.append(c):b(".k-upload-button",this.wrapper).after(c)},_updateHeaderUploadStatus:function(){var a=this.localization,c,e;0===b(".k-file",this.wrapper).not(".k-file-success, .k-file-error").length&&(c=b(".k-file.k-file-error",this.wrapper),e=b(".k-upload-status-total",this.wrapper),a=b(".k-icon",e).removeClass("k-loading").addClass(0!==c.length?"k-warning":"k-i-tick").text(0!==c.length?a.statusWarning:a.statusUploaded),e.text(this.localization.headerStatusUploaded).append(a))},_hideHeaderUploadstatus:function(){b(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var a=this.element;if("undefined"!==typeof this._module.onAbort)this._module.onAbort();if(!a.value){var c=b(a);c.attr("disabled","disabled");window.setTimeout(function(){c.removeAttr("disabled")},0)}},_onParentFormReset:function(){b(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var a=-1<this._userAgent().indexOf("Windows");return!e.support.browser.opera&&!(e.support.browser.safari&&a)},_supportsDrop:function(){var a=this._userAgent().toLowerCase();return!(!/chrome/.test(a)&&/safari/.test(a)&&/windows/.test(a))&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){b(".k-upload-button",this.wrapper).wrap("\x3cdiv class\x3d'k-dropzone'\x3e\x3c/div\x3e");var a=this._ns,c=b(".k-dropzone",this.wrapper).append(b("\x3cem\x3e"+this.localization.dropFilesHere+"\x3c/em\x3e")).on("dragenter"+a,E).on("dragover"+a,function(a){a.preventDefault()}).on("drop"+a,b.proxy(this._onDrop,this));x(c,a,function(){c.closest(".k-upload").hasClass("k-state-disabled")||c.addClass("k-dropzone-hovered")},function(){c.removeClass("k-dropzone-hovered")});x(b(document),a,function(){c.closest(".k-upload").hasClass("k-state-disabled")||(c.addClass("k-dropzone-active"),c.closest(".k-upload").removeClass("k-upload-empty"))},function(){c.removeClass("k-dropzone-active");0===b("li.k-file",c.closest(".k-upload")).length&&c.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(a,c,e,f){var d=this.options.async.removeField||"fileNames";c=b.extend(c,p());c[d]=a;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:A,url:this.options.async.removeUrl,traditional:!0,data:c,success:e,error:f,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(a){var b=this.options;a.wrap("\x3cdiv class\x3d'k-widget k-upload k-header'\x3e\x3cdiv class\x3d'k-button k-upload-button'\x3e\x3c/div\x3e\x3c/div\x3e");b.async.saveUrl||a.closest(".k-upload").addClass("k-upload-sync");a.closest(".k-upload").addClass("k-upload-empty");a.closest(".k-button").append("\x3cspan\x3e"+this.localization.select+"\x3c/span\x3e");return a.closest(".k-upload")},_checkAllComplete:function(){0===b(".k-file.k-file-progress",this.wrapper).length&&this.trigger("complete")},_inputFiles:function(a){return B(a)}}),l=function(a){this.name="syncUploadModule";this.element=a.wrapper;this.upload=a;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};l.prototype={onSelect:function(a,c){var d=this.upload,e=b(a.target);d._addInput(e);e=d._enqueueFile(q(e),{relatedInput:e,fileNames:c});d._fileAction(e,"remove")},onRemove:function(a){a=m(a);a.data("relatedInput").remove();this.upload._removeFileEntry(a)}};var c=function(a){this.name="iframeUploadModule";this.element=a.wrapper;this.upload=a;this.iframes=[]};f._frameId=0;c.prototype={onSelect:function(a,c){var d=this.upload,e=b(a.target),e=this.prepareUpload(e,c);d.options.async.autoUpload?this.performUpload(e):(d._supportsRemove()&&this.upload._fileAction(e,"remove"),d._showUploadButton())},prepareUpload:function(a,c){var d=this.upload,e=b(d.element),h=d.options.async.saveField||a.attr("name");d._addInput(a);a.attr("name",h);h=this.createFrame(d.name+"_"+f._frameId++);this.registerFrame(h);var l=this.createForm(d.options.async.saveUrl,h.attr("name")).append(e),d=d._enqueueFile(q(a),{frame:h,relatedInput:e,fileNames:c});h.data({form:l,file:d});return d},performUpload:function(a){var c={files:a.data("fileNames")},e=a.data("frame"),f=this.upload;if(f.trigger("upload",c))f._removeFileEntry(e.data("file")),this.cleanupFrame(e),this.unregisterFrame(e);else{f._hideUploadButton();f._showHeaderUploadStatus();e.appendTo(document.body);var h=e.data("form").attr("action",f.options.async.saveUrl).appendTo(document.body);c.data=b.extend({},c.data,p());for(var l in c.data){var k=h.find("input[name\x3d'"+l+"']");0===k.length&&(k=b("\x3cinput\x3e",{type:"hidden",name:l}).prependTo(h));k.val(c.data[l])}f._fileAction(a,"cancel");f._fileState(a,"uploading");b(a).removeClass("k-file-error").addClass("k-file-progress");e.one("load",b.proxy(this.onIframeLoad,this));h[0].submit()}},onSaveSelected:function(){var a=this;b(".k-file",this.element).each(function(){var c=b(this);t(c)||a.performUpload(c)})},onIframeLoad:function(a){a=b(a.target);var c;try{c=a.contents().text()}catch(g){c="Error trying to get server response: "+g}this.processResponse(a,c)},processResponse:function(a,c){var d=a.data("file"),e=this,f={responseText:c};F(c,function(c){b.extend(f,{statusText:"OK",status:"200"});e.upload._onFileProgress({target:b(d,e.upload.wrapper)},100);e.upload._onUploadSuccess({target:b(d,e.upload.wrapper)},c,f);e.cleanupFrame(a);e.unregisterFrame(a)},function(){b.extend(f,{statusText:"error",status:"500"});e.upload._onUploadError({target:b(d,e.upload.wrapper)},f)})},onCancel:function(a){a=b(a.target).data("frame");this.stopFrameSubmit(a);this.cleanupFrame(a);this.unregisterFrame(a);this.upload._removeFileEntry(a.data("file"))},onRetry:function(a){a=m(a);this.performUpload(a)},onRemove:function(a,b){var c=m(a),d=c.data("frame");d?(this.unregisterFrame(d),this.upload._removeFileEntry(c),this.cleanupFrame(d)):y(c,this.upload,b)},onAbort:function(){var a=this.element,c=this;b.each(this.iframes,function(){b("input",this.data("form")).appendTo(a);c.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(a){return b("\x3ciframe name\x3d'"+a+"' id\x3d'"+a+"' style\x3d'display:none;' /\x3e")},createForm:function(a,c){return b("\x3cform enctype\x3d'multipart/form-data' method\x3d'POST' action\x3d'"+a+"' target\x3d'"+c+"'/\x3e")},stopFrameSubmit:function(a){"undefined"!=typeof a.stop?a.stop():a.document&&a.document.execCommand("Stop")},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(a){this.iframes=b.grep(this.iframes,function(b){return b.attr("name")!=a.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null);setTimeout(function(){b.remove();a.remove()},1)}};var w=function(a){this.name="formDataUploadModule";this.element=a.wrapper;this.upload=a};w.prototype={onSelect:function(a,c){var d=this.upload,e=this,f=b(a.target),f=this.prepareUpload(f,c);b.each(f,function(){d.options.async.autoUpload?e.performUpload(this):(d._supportsRemove()&&d._fileAction(this,"remove"),d._showUploadButton())})},prepareUpload:function(a,c){var d=this.enqueueFiles(c);a.is("input")&&(b.each(d,function(){b(this).data("relatedInput",a)}),a.data("relatedFileEntries",d),this.upload._addInput(a));return d},enqueueFiles:function(a){var c=this.upload,e,f,h=a.length,l,k=[];if(!0===c.options.async.batch)e=b.map(a,function(a){return a.name}).join(", "),e=c._enqueueFile(e,{fileNames:a}),e.data("files",a),k.push(e);else for(f=0;f<h;f++)l=a[f],e=l.name,e=c._enqueueFile(e,{fileNames:[l]}),e.data("files",[l]),k.push(e);return k},performUpload:function(a){var c=this.upload,e=this.createFormData(),f=this.createXHR(),h={files:a.data("fileNames"),XMLHttpRequest:f};if(c.trigger("upload",h))this.removeFileEntry(a);else{c._fileAction(a,"cancel");c._hideUploadButton();c._showHeaderUploadStatus();if(h.formData)e=h.formData;else{h.data=b.extend({},h.data,p());for(var l in h.data)e.append(l,h.data[l]);this.populateFormData(e,a.data("files"))}c._fileState(a,"uploading");b(a).removeClass("k-file-error").addClass("k-file-progress");this.postFormData(c.options.async.saveUrl,e,a,f)}},onSaveSelected:function(){var a=this;b(".k-file",this.element).each(function(){var c=b(this);t(c)||a.performUpload(c)})},onCancel:function(a){a=m(a);this.stopUploadRequest(a);this.removeFileEntry(a)},onRetry:function(a){a=m(a);this.performUpload(a)},onRemove:function(a,b){var c=m(a);c.hasClass("k-file-success")?y(c,this.upload,b):this.removeFileEntry(c)},createXHR:function(){return new XMLHttpRequest},postFormData:function(a,b,c,e){var d=this;c.data("request",e);e.addEventListener("load",function(a){d.onRequestSuccess.call(d,a,c)},!1);e.addEventListener("error",function(a){d.onRequestError.call(d,a,c)},!1);e.upload.addEventListener("progress",function(a){d.onRequestProgress.call(d,a,c)},!1);e.open("POST",a,!0);e.withCredentials=this.upload.options.async.withCredentials;e.send(b)},createFormData:function(){return new FormData},populateFormData:function(a,b){var c=this.upload,d,e=b.length;for(d=0;d<e;d++)a.append(c.options.async.saveField||c.name,b[d].rawFile);return a},onRequestSuccess:function(a,c){function d(){f.upload._onUploadError({target:b(c,f.upload.wrapper)},e)}var e=a.target,f=this;200<=e.status&&299>=e.status?F(e.responseText,function(a){f.upload._onFileProgress({target:b(c,f.upload.wrapper)},100);f.upload._onUploadSuccess({target:b(c,f.upload.wrapper)},a,e);f.cleanupFileEntry(c)},d):d()},onRequestError:function(a,c){var d=a.target;this.upload._onUploadError({target:b(c,this.upload.wrapper)},d)},cleanupFileEntry:function(a){var c=a.data("relatedInput"),e=!0;c&&(b.each(c.data("relatedFileEntries")||[],function(){0<this.parent().length&&this[0]!=a[0]&&(e=e&&this.hasClass("k-file-success"))}),e&&c.remove())},removeFileEntry:function(a){this.cleanupFileEntry(a);this.upload._removeFileEntry(a)},onRequestProgress:function(a,c){var d=Math.round(100*a.loaded/a.total);this.upload._onFileProgress({target:b(c,this.upload.wrapper)},d)},stopUploadRequest:function(a){a.data("request").abort()}};e.ui.plugin(f)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.window",["kendo.draganddrop"],b)})(function(){(function(b,k){function q(b){return"undefined"!=typeof b}function B(b,e,c){return Math.max(Math.min(parseInt(b,10),Infinity===c?c:parseInt(c,10)),parseInt(e,10))}function u(){return!this.type||0<=this.type.toLowerCase().indexOf("script")}function z(b){this.owner=b;this._draggable=new A(b.wrapper,{filter:"\x3e.k-resize-handle",group:b.wrapper.id+"-resizing",dragstart:t(this.dragstart,this),drag:t(this.drag,this),dragend:t(this.dragend,this)});this._draggable.userEvents.bind("press",t(this.addOverlay,this));this._draggable.userEvents.bind("release",t(this.removeOverlay,this))}function C(b,e){this.owner=b;this._draggable=new A(b.wrapper,{filter:e,group:b.wrapper.id+"-moving",dragstart:t(this.dragstart,this),drag:t(this.drag,this),dragend:t(this.dragend,this),dragcancel:t(this.dragcancel,this)});this._draggable.userEvents.stopPropagation=!1}var y=window.kendo,F=y.ui.Widget,A=y.ui.Draggable,E=b.isPlainObject,x=y._activeElement,t=b.proxy,m=b.extend,e=b.each,h=y.template,p,n=y.isLocalUrl,D=F.extend({init:function(e,h){var c,f,a,d,g;f=h&&h.actions&&!h.actions.length;F.fn.init.call(this,e,h);h=this.options;c=h.position;e=this.element;g=h.content;f&&(h.actions=[]);this.appendTo=b(h.appendTo);g&&!E(g)&&(g=h.content={url:g});e.find("script").filter(u).remove();e.parent().is(this.appendTo)||c.top!==k&&c.left!==k||(e.is(":visible")?f=e.offset():(a=e.css("visibility"),d=e.css("display"),e.css({visibility:"hidden",display:""}),f=e.offset(),e.css({visibility:a,display:d})),c.top===k&&(c.top=f.top),c.left===k&&(c.left=f.left));q(h.visible)&&null!==h.visible||(h.visible=e.is(":visible"));c=this.wrapper=e.closest(".k-window");e.is(".k-content")&&c[0]||(e.addClass("k-window-content k-content"),this._createWindow(e,h),c=this.wrapper=e.closest(".k-window"),this._dimensions());this._position();h.pinned&&this.pin(!0);g&&this.refresh(g);h.visible&&this.toFront();g=c.children(".k-window-content");this._tabindex(g);h.visible&&h.modal&&this._overlay(c.is(":visible")).css({opacity:.5});c.on("mouseenter.kendoWindow",".k-window-titlebar .k-window-action",t(this._buttonEnter,this)).on("mouseleave.kendoWindow",".k-window-titlebar .k-window-action",t(this._buttonLeave,this)).on("click.kendoWindow","\x3e .k-window-titlebar .k-window-action",t(this._windowActionHandler,this));g.on("keydown.kendoWindow",t(this._keydown,this)).on("focus.kendoWindow",t(this._focus,this)).on("blur.kendoWindow",t(this._blur,this));this._resizable();this._draggable();if(f=e.attr("id"))f+="_wnd_title",c.children(".k-window-titlebar").children(".k-window-title").attr("id",f),g.attr({role:"dialog","aria-labelledby":f});c.add(c.children(".k-resize-handle,.k-window-titlebar")).on("mousedown.kendoWindow",t(this.toFront,this));this.touchScroller=y.touchScroller(e);this._resizeHandler=t(this._onDocumentResize,this);this._marker=y.guid().substring(0,8);b(window).on("resize.kendoWindow"+this._marker,this._resizeHandler);h.visible&&(this.trigger("open"),this.trigger("activate"));y.notify(this)},_buttonEnter:function(e){b(e.currentTarget).addClass("k-state-hover")},_buttonLeave:function(e){b(e.currentTarget).removeClass("k-state-hover")},_focus:function(){this.wrapper.addClass("k-state-focused")},_blur:function(){this.wrapper.removeClass("k-state-focused")},_dimensions:function(){var b=this.wrapper,e=this.options,c=e.width,h=e.height,a=e.maxHeight,d=["minWidth","minHeight","maxWidth","maxHeight"];this.title(e.title);for(var g=0;g<d.length;g++){var k=e[d[g]];k&&Infinity!=k&&b.css(d[g],k)}a&&Infinity!=a&&this.element.css("maxHeight",a);c&&(0<c.toString().indexOf("%")?b.width(c):b.width(B(c,e.minWidth,e.maxWidth)));h&&(0<h.toString().indexOf("%")?b.height(h):b.height(B(h,e.minHeight,e.maxHeight)));e.visible||b.hide()},_position:function(){var b=this.wrapper,e=this.options.position;0===e.top&&(e.top=e.top.toString());0===e.left&&(e.left=e.left.toString());b.css({top:e.top||"",left:e.left||""})},_animationOptions:function(b){var e=this.options.animation,c={open:{effects:{}},close:{hide:!0,effects:{}}};return e&&e[b]||c[b]},_resize:function(){y.resize(this.element.children())},_resizable:function(){var f=this.options.resizable,h=this.wrapper;this.resizing&&(h.off("dblclick.kendoWindow").children(".k-resize-handle").remove(),this.resizing.destroy(),this.resizing=null);f&&(h.on("dblclick.kendoWindow",".k-window-titlebar",t(function(c){b(c.target).closest(".k-window-action").length||this.toggleMaximization()},this)),e("n e s w se sw ne nw".split(" "),function(b,e){h.append(p.resizeHandle(e))}),this.resizing=new z(this));h=null},_draggable:function(){var b=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null);b&&(this.dragging=new C(this,b.dragHandle||".k-window-titlebar"))},_actions:function(){var e=this.options.actions,h=this.wrapper.children(".k-window-titlebar").find(".k-window-actions"),e=b.map(e,function(b){return{name:b}});h.html(y.render(p.action,e))},setOptions:function(b){F.fn.setOptions.call(this,b);var e=!1!==this.options.scrollable;this.restore();this._dimensions();this._position();this._resizable();this._draggable();this._actions();if("undefined"!==typeof b.modal){var c=!1!==this.options.visible;this._overlay(b.modal&&c)}this.element.css("overflow",e?"":"hidden")},events:"open activate deactivate close minimize maximize refresh resize resizeEnd dragstart dragend error".split(" "),options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return-1<b.inArray("close",b.map(this.options.actions,function(b){return b.toLowerCase()}))},_keydown:function(b){var e=this.options,c=y.keys,f=b.keyCode,a=this.wrapper,d,g,h=this.options.isMaximized,k,m;b.target!=b.currentTarget||this._closing||(f==c.ESC&&this._closable()&&this._close(!1),!e.draggable||b.ctrlKey||h||(d=y.getOffset(a),f==c.UP?g=a.css("top",d.top-10):f==c.DOWN?g=a.css("top",d.top+10):f==c.LEFT?g=a.css("left",d.left-10):f==c.RIGHT&&(g=a.css("left",d.left+10))),e.resizable&&b.ctrlKey&&!h&&(f==c.UP?(g=!0,m=a.height()-10):f==c.DOWN&&(g=!0,m=a.height()+10),f==c.LEFT?(g=!0,k=a.width()-10):f==c.RIGHT&&(g=!0,k=a.width()+10),g&&(c=B(k,e.minWidth,e.maxWidth),e=B(m,e.minHeight,e.maxHeight),isNaN(c)||(a.width(c),this.options.width=c+"px"),isNaN(e)||(a.height(e),this.options.height=e+"px"),this.resize())),g&&b.preventDefault())},_overlay:function(e){var f=this.appendTo.children(".k-overlay"),c=this.wrapper;f.length||(f=b("\x3cdiv class\x3d'k-overlay' /\x3e"));f.insertBefore(c[0]).toggle(e).css("zIndex",parseInt(c.css("zIndex"),10)-1);return f},_actionForIcon:function(b){return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[/\bk-i-\w+\b/.exec(b[0].className)[0]]},_windowActionHandler:function(e){if(!this._closing){var f=b(e.target).closest(".k-window-action").find(".k-icon");if(f=this._actionForIcon(f))return e.preventDefault(),this[f](),!1}},_modals:function(){var e=this,h=b(".k-window").filter(function(){var c=b(this),f=e._object(c);return(f=f&&f.options)&&f.modal&&f.visible&&f.appendTo===e.options.appendTo&&c.is(":visible")}).sort(function(c,e){return+b(c).css("zIndex")-+b(e).css("zIndex")}),e=null;return h},_object:function(b){b=b.children(".k-window-content");b=y.widgetInstance(b);return b instanceof D?b:k},center:function(){var e=this.options.position,h=this.wrapper,c=b(window),k=0,a=0;if(this.options.isMaximized)return this;this.options.pinned||(k=c.scrollTop(),a=c.scrollLeft());a+=Math.max(0,(c.width()-h.width())/2);c=k+Math.max(0,(c.height()-h.height()-parseInt(h.css("paddingTop"),10))/2);h.css({left:a,top:c});e.top=c;e.left=a;return this},title:function(b){var e=this.wrapper,c=this.options,f=e.children(".k-window-titlebar"),a=f.children(".k-window-title");if(!arguments.length)return a.html();!1===b?(e.addClass("k-window-titleless"),f.remove()):(f.length?a.html(b):(e.prepend(p.titlebar(c)),this._actions(),f=e.children(".k-window-titlebar")),c=f.outerHeight(),e.css("padding-top",c),f.css("margin-top",-c));this.options.title=b;return this},content:function(b,e){var c=this.wrapper.children(".k-window-content"),f=c.children(".km-scroll-container"),c=f[0]?f:c;if(!q(b))return c.html();this.angular("cleanup",function(){return{elements:c.children()}});y.destroy(this.element.children());c.empty().html(b);this.angular("compile",function(){for(var a=[],b=c.length;0<=--b;)a.push({dataItem:e});return{elements:c.children(),data:a}});return this},open:function(){var e=this.wrapper,h=this.options,c=this._animationOptions("open"),k=e.children(".k-window-content"),a,d=b(document);if(!this.trigger("open")){this._closing&&e.kendoStop(!0,!0);this._closing=!1;this.toFront();h.autoFocus&&this.element.focus();h.visible=!0;if(h.modal){a=this._overlay(!1);a.kendoStop(!0,!0);if(c.duration&&y.effects.Fade){var g=y.fx(a).fadeIn();g.duration(c.duration||0);g.endValue(.5);g.play()}else a.css("opacity",.5);a.show()}e.is(":visible")||(k.css("overflow","hidden"),e.show().kendoStop().kendoAnimate({effects:c.effects,duration:c.duration,complete:t(this._activate,this)}))}h.isMaximized&&(this._documentScrollTop=d.scrollTop(),this._documentScrollLeft=d.scrollLeft(),b("html, body").css("overflow","hidden"));return this},_activate:function(){var b=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus();this.element.css("overflow",b?"":"hidden");this.trigger("activate")},_removeOverlay:function(e){var f=this._modals(),c=this.options,h=c.modal&&!f.length,a=c.modal?this._overlay(!0):b(k),c=this._animationOptions("close");h?!e&&c.duration&&y.effects.Fade?(e=y.fx(a).fadeOut(),e.duration(c.duration||0),e.startValue(.5),e.play()):this._overlay(!1).remove():f.length&&this._object(f.last())._overlay(!0)},_close:function(e){var f=this.wrapper,c=this.options,h=this._animationOptions("open"),a=this._animationOptions("close"),d=b(document);if(f.is(":visible")&&!this.trigger("close",{userTriggered:!e})){if(this._closing)return;this._closing=!0;c.visible=!1;b(".k-window").each(function(a,c){var d=b(c).children(".k-window-content");c!=f&&0<d.find("\x3e .k-content-frame").length&&d.children(".k-overlay").remove()});this._removeOverlay();f.kendoStop().kendoAnimate({effects:a.effects||h.effects,reverse:!0===a.reverse,duration:a.duration,complete:t(this._deactivate,this)})}this.options.isMaximized&&(b("html, body").css("overflow",""),this._documentScrollTop&&0<this._documentScrollTop&&d.scrollTop(this._documentScrollTop),this._documentScrollLeft&&0<this._documentScrollLeft&&d.scrollLeft(this._documentScrollLeft))},_deactivate:function(){this.wrapper.hide().css("opacity","");this.trigger("deactivate");if(this.options.modal){var b=this._object(this._modals().last());b&&b.toFront()}},close:function(){this._close(!0);return this},_actionable:function(e){return b(e).is(".k-window-titlebar .k-window-action,.k-window-titlebar .k-window-action .k-icon,:input,a")},_shouldFocus:function(e){var f=x(),c=this.element;return this.options.autoFocus&&!b(f).is(c)&&!this._actionable(e)&&(!c.find(f).length||!c.find(e).length)},toFront:function(e){var f=this.wrapper,c=f[0],h=+f.css("zIndex"),a=h;e=e&&e.target||null;b(".k-window").each(function(a,e){var d=b(e),f=d.css("zIndex"),d=d.children(".k-window-content");isNaN(f)||(h=Math.max(+f,h));e!=c&&0<d.find("\x3e .k-content-frame").length&&d.append(p.overlay)});(!f[0].style.zIndex||a<h)&&f.css("zIndex",h+2);this.element.find("\x3e .k-overlay").remove();this._shouldFocus(e)&&(this.element.focus(),a=b(window).scrollTop(),e=parseInt(f.position().top,10),0<e&&e<a&&(0<a?b(window).scrollTop(e):f.css("top",a)));f=null;return this},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this.options,h=e.minHeight,c=this.restoreOptions,k=b(document);if(!e.isMaximized&&!e.isMinimized)return this;h&&Infinity!=h&&this.wrapper.css("min-height",h);this.wrapper.css({position:e.pinned?"fixed":"absolute",left:c.left,top:c.top,width:c.width,height:c.height}).removeClass("k-window-maximized").find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize").parent().show().end().end().find(".k-i-pin,.k-i-unpin").parent().show();this.options.width=c.width;this.options.height=c.height;b("html, body").css("overflow","");this._documentScrollTop&&0<this._documentScrollTop&&k.scrollTop(this._documentScrollTop);this._documentScrollLeft&&0<this._documentScrollLeft&&k.scrollLeft(this._documentScrollLeft);e.isMaximized=e.isMinimized=!1;this.resize();return this},_sizingAction:function(b,e){var c=this.wrapper,f=c[0].style,a=this.options;if(a.isMaximized||a.isMinimized)return this;this.restoreOptions={width:f.width,height:f.height};c.children(".k-resize-handle").hide().end().children(".k-window-titlebar").find(".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize").parent().hide().eq(0).before(p.action({name:"Restore"}));e.call(this);this.wrapper.children(".k-window-titlebar").find(".k-i-pin,.k-i-unpin").parent().toggle("maximize"!==b);this.trigger(b);return this},maximize:function(){this._sizingAction("maximize",function(){var e=this.wrapper,h=e.position(),c=b(document);m(this.restoreOptions,{left:h.left,top:h.top});e.css({left:0,top:0,position:"fixed"}).addClass("k-window-maximized");this._documentScrollTop=c.scrollTop();this._documentScrollLeft=c.scrollLeft();b("html, body").css("overflow","hidden");this.options.isMaximized=!0;this._onDocumentResize()})},minimize:function(){this._sizingAction("minimize",function(){this.wrapper.css({height:"",minHeight:""});this.element.hide();this.options.isMinimized=!0})},pin:function(e){var f=b(window),c=this.wrapper,h=parseInt(c.css("top"),10),a=parseInt(c.css("left"),10);if(e||!this.options.pinned&&!this.options.isMaximized)c.css({position:"fixed",top:h-f.scrollTop(),left:a-f.scrollLeft()}),c.children(".k-window-titlebar").find(".k-i-pin").addClass("k-i-unpin").removeClass("k-i-pin"),this.options.pinned=!0},unpin:function(){var e=b(window),h=this.wrapper,c=parseInt(h.css("top"),10),k=parseInt(h.css("left"),10);this.options.pinned&&!this.options.isMaximized&&(h.css({position:"",top:c+e.scrollTop(),left:k+e.scrollLeft()}),h.children(".k-window-titlebar").find(".k-i-unpin").addClass("k-i-pin").removeClass("k-i-unpin"),this.options.pinned=!1)},_onDocumentResize:function(){var e=this.wrapper,h=b(window),c=y.support.zoomLevel(),k;this.options.isMaximized&&(k=h.width()/c,h=h.height()/c-parseInt(e.css("padding-top"),10),e.css({width:k,height:h}),this.options.width=k,this.options.height=h,this.resize())},refresh:function(e){var f=this.options,c=b(this.element),k,a,d;E(e)||(e={url:e});e=m({},f.content,e);a=q(f.iframe)?f.iframe:e.iframe;(d=e.url)?(q(a)||(a=!n(d)),a?((k=c.find(".k-content-frame")[0])?k.src=d||k.src:c.html(p.contentFrame(m({},f,{content:e}))),c.find(".k-content-frame").unbind("load.kendoWindow").on("load.kendoWindow",t(this._triggerRefresh,this))):this._ajaxRequest(e)):(e.template&&this.content(h(e.template)({})),this.trigger("refresh"));c.toggleClass("k-window-iframecontent",!!a);return this},_triggerRefresh:function(){this.trigger("refresh")},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(".k-window-titlebar .k-i-refresh").removeClass("k-loading")},_ajaxError:function(b,e){this.trigger("error",{status:e,xhr:b})},_ajaxSuccess:function(b){return function(e){var c=e;b&&(c=h(b)(e||{}));this.content(c,e);this.element.prop("scrollTop",0);this.trigger("refresh")}},_showLoading:function(){this.wrapper.find(".k-window-titlebar .k-i-refresh").addClass("k-loading")},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(t(this._showLoading,this),100);b.ajax(m({type:"GET",dataType:"html",cache:!1,error:t(this._ajaxError,this),complete:t(this._ajaxComplete,this),success:t(this._ajaxSuccess(e.template),this)},e))},_destroy:function(){this.resizing&&this.resizing.destroy();this.dragging&&this.dragging.destroy();this.wrapper.off(".kendoWindow").children(".k-window-content").off(".kendoWindow").end().find(".k-resize-handle,.k-window-titlebar").off(".kendoWindow");b(window).off("resize.kendoWindow"+this._marker);clearTimeout(this._loadingIconTimeout);F.fn.destroy.call(this);this.unbind(k);y.destroy(this.wrapper);this._removeOverlay(!0)},destroy:function(){this._destroy();this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=b()},_createWindow:function(){var e=this.element,h=this.options,c,k=y.support.isRtl(e);!1===h.scrollable&&e.attr("style","overflow:hidden;");h=b(p.wrapper(h));c=e.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");this.src="";return a});h.toggleClass("k-rtl",k).appendTo(this.appendTo).append(e).find("iframe:not(.k-content)").each(function(a){this.src=c[a]});h.find(".k-window-title").css(k?"left":"right",h.find(".k-window-actions").outerWidth()+10);e.css("visibility","").show();e.find("[data-role\x3deditor]").each(function(){var a=b(this).data("kendoEditor");a&&a.refresh()});h=e=null}});p={wrapper:h("\x3cdiv class\x3d'k-widget k-window' /\x3e"),action:h("\x3ca role\x3d'button' href\x3d'\\#' class\x3d'k-window-action k-link'\x3e\x3cspan role\x3d'presentation' class\x3d'k-icon k-i-#\x3d name.toLowerCase() #'\x3e#\x3d name #\x3c/span\x3e\x3c/a\x3e"),titlebar:h("\x3cdiv class\x3d'k-window-titlebar k-header'\x3e\x26nbsp;\x3cspan class\x3d'k-window-title'\x3e#\x3d title #\x3c/span\x3e\x3cdiv class\x3d'k-window-actions' /\x3e\x3c/div\x3e"),overlay:"\x3cdiv class\x3d'k-overlay' /\x3e",contentFrame:h("\x3ciframe frameborder\x3d'0' title\x3d'#\x3d title #' class\x3d'k-content-frame' src\x3d'#\x3d content.url #'\x3eThis page requires frames in order to show content\x3c/iframe\x3e"),resizeHandle:h("\x3cdiv class\x3d'k-resize-handle k-resize-#\x3d data #'\x3e\x3c/div\x3e")};z.prototype={addOverlay:function(){this.owner.wrapper.append(p.overlay)},removeOverlay:function(){this.owner.wrapper.find(".k-overlay").remove()},dragstart:function(e){var f=this.owner,c=f.wrapper;this.elementPadding=parseInt(c.css("padding-top"),10);this.initialPosition=y.getOffset(c,"position");this.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-","");this.initialSize={width:c.width(),height:c.height()};this.containerOffset=y.getOffset(f.appendTo,"position");c.children(".k-resize-handle").not(e.currentTarget).hide();b("body").css("cursor",e.currentTarget.css("cursor"))},drag:function(b){var e=this.owner,c=e.wrapper,f=e.options,a=this.resizeDirection,d=this.containerOffset,g=this.initialPosition,h=this.initialSize,k,m,n,p=Math.max(b.x.location,d.left);b=Math.max(b.y.location,d.top);0<=a.indexOf("e")?(k=p-g.left,c.width(B(k,f.minWidth,f.maxWidth))):0<=a.indexOf("w")&&(n=g.left+h.width,k=B(n-p,f.minWidth,f.maxWidth),c.css({left:n-k-d.left,width:k}));0<=a.indexOf("s")?(m=b-g.top-this.elementPadding,c.height(B(m,f.minHeight,f.maxHeight))):0<=a.indexOf("n")&&(a=g.top+h.height,m=B(a-b,f.minHeight,f.maxHeight),c.css({top:a-m-d.top,height:m}));k&&(e.options.width=k+"px");m&&(e.options.height=m+"px");e.resize()},dragend:function(e){var f=this.owner,c=f.wrapper;c.children(".k-resize-handle").not(e.currentTarget).show();b("body").css("cursor","");f.touchScroller&&f.touchScroller.reset();27==e.keyCode&&c.css(this.initialPosition).css(this.initialSize);f.trigger("resizeEnd");return!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};C.prototype={dragstart:function(e){var f=this.owner,c=f.element,h=c.find(".k-window-actions"),a=y.getOffset(f.appendTo);f.trigger("dragstart");f.initialWindowPosition=y.getOffset(f.wrapper,"position");f.startPosition={left:e.x.client-f.initialWindowPosition.left,top:e.y.client-f.initialWindowPosition.top};f.minLeftPosition=0<h.length?h.outerWidth()+parseInt(h.css("right"),10)-c.outerWidth():20-c.outerWidth();f.minLeftPosition-=a.left;f.minTopPosition=-a.top;f.wrapper.append(p.overlay).children(".k-resize-handle").hide();b("body").css("cursor",e.currentTarget.css("cursor"))},drag:function(e){var f=this.owner,c=f.options.position,h=Math.max(e.y.client-f.startPosition.top,f.minTopPosition);e=Math.max(e.x.client-f.startPosition.left,f.minLeftPosition);var a={left:e,top:h};b(f.wrapper).css(a);c.top=h;c.left=e},_finishDrag:function(){var e=this.owner;e.wrapper.children(".k-resize-handle").toggle(!e.options.isMinimized).end().find(".k-overlay").remove();b("body").css("cursor","")},dragcancel:function(b){this._finishDrag();b.currentTarget.closest(".k-window").css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger("dragend");return!1},destroy:function(){this._draggable&&this._draggable.destroy();this._draggable=this.owner=null}};y.ui.plugin(D)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.dom",["kendo.core"],b)})(function(){(function(b){function k(){this.node=null}function q(){}function B(b,k,e){this.nodeName=b;this.attr=k||{};this.children=e||[]}function u(b){this.nodeValue=b}function z(b){this.html=b}function C(b){return new z(b)}function y(b,k,e){return new B(b,k,e)}function F(b){return new u(b)}function A(b){this.root=b;this.children=[]}k.prototype={remove:function(){this.node.parentNode.removeChild(this.node);this.attr={}},attr:{},text:function(){return""}};q.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var E=new q;B.prototype=new k;B.prototype.appendTo=function(b){for(var k=document.createElement(this.nodeName),e=this.children,h=0;h<e.length;h++)e[h].render(k,E);b.appendChild(k);return k};B.prototype.render=function(b,k){var e;if(k.nodeName!==this.nodeName)k.remove(),e=this.appendTo(b);else{e=k.node;var h,m=this.children,n=m.length,q=k.children,f=q.length;if(2<Math.abs(f-n)){this.render({appendChild:function(e){b.replaceChild(e,k.node)}},E);return}for(h=0;h<n;h++)m[h].render(e,q[h]||E);for(h=n;h<f;h++)q[h].remove()}this.node=e;this.syncAttributes(k.attr);this.removeAttributes(k.attr)};B.prototype.syncAttributes=function(b){var k=this.attr,e;for(e in k){var h=k[e],p=b[e];"style"===e?this.setStyle(h,p):h!==p&&this.setAttribute(e,h,p)}};B.prototype.setStyle=function(b,k){var e=this.node,h;if(k)for(h in b)b[h]!==k[h]&&(e.style[h]=b[h]);else for(h in b)e.style[h]=b[h]};B.prototype.removeStyle=function(b){var k=this.attr.style||{},e=this.node,h;for(h in b)void 0===k[h]&&(e.style[h]="")};B.prototype.removeAttributes=function(b){var k=this.attr,e;for(e in b)"style"===e?this.removeStyle(b.style):void 0===k[e]&&this.removeAttribute(e)};B.prototype.removeAttribute=function(b){var k=this.node;"style"===b?k.style.cssText="":"className"===b?k.className="":k.removeAttribute(b)};B.prototype.setAttribute=function(b,k){var e=this.node;void 0!==e[b]?e[b]=k:e.setAttribute(b,k)};B.prototype.text=function(){for(var b="",k=0;k<this.children.length;++k)b+=this.children[k].text();return b};u.prototype=new k;u.prototype.nodeName="#text";u.prototype.render=function(b,k){var e;k.nodeName!==this.nodeName?(k.remove(),e=document.createTextNode(this.nodeValue),b.appendChild(e)):(e=k.node,this.nodeValue!==k.nodeValue&&(e.nodeValue=this.nodeValue));this.node=e};u.prototype.text=function(){return this.nodeValue};z.prototype={nodeName:"#html",attr:{},remove:function(){for(var b=0;b<this.nodes.length;b++)this.nodes[b].parentNode.removeChild(this.nodes[b])},render:function(b,k){if(k.nodeName!==this.nodeName||k.html!==this.html){k.remove();var e=b.lastChild;for(x.innerHTML=this.html;x.firstChild;)b.appendChild(x.firstChild);this.nodes=[];for(e=e?e.nextSibling:b.firstChild;e;e=e.nextSibling)this.nodes.push(e)}else this.nodes=k.nodes.slice(0)}};var x=document.createElement("div");A.prototype={html:C,element:y,text:F,render:function(b){var k=this.children,e,h;e=0;for(h=b.length;e<h;e++)b[e].render(this.root,k[e]||E);for(e=h;e<k.length;e++)k[e].remove();this.children=b}};b.dom={html:C,text:F,element:y,Tree:A,Node:k}})(window.kendo);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.editable",["kendo.datepicker","kendo.numerictextbox","kendo.validator","kendo.binder"],b)})(function(){(function(b,k){function q(e){e=null!=e?e:"";return e.type||b.type(e)||"string"}function B(e){e.find(":input:not(:button, ["+y.attr("role")+"\x3dupload], ["+y.attr("skip")+"], [type\x3dfile]), select").each(function(){var e=y.attr("bind"),h=this.getAttribute(e)||"",c="checkbox"===this.type||"radio"===this.type?"checked:":"value:",k=this.name;-1===h.indexOf(c)&&k&&(h+=(h.length?",":"")+c+k,b(this).attr(e,h))})}function u(b){var f=(b.model.fields||b.model)[b.field],h=q(f),f=f?f.validation:{},c,k=y.attr("type"),a=y.attr("bind"),d,g={name:b.field};for(c in f)d=f[c],0<=e(c,p)?g[k]=c:t(d)||(g[c]=m(d)?d.value||c:d),g[y.attr(c+"-msg")]=d.message;0<=e(h,p)&&(g[k]=h);g[a]=("boolean"===h?"checked:":"value:")+b.field;return g}function z(b){var e,h,c,k,a;if(b&&b.length)for(a=[],e=0,h=b.length;e<h;e++)c=b[e],k=c.text||c.value||c,c=null==c.value?c.text||c:c.value,a[e]={text:k,value:c};return a}function C(b,e){var f=b?b.validation||{}:{},c,h;for(c in f)h=f[c],m(h)&&h.value&&(h=h.value),t(h)&&(e[c]=h)}var y=window.kendo,F=y.ui,A=F.Widget,E=b.extend,x=y.support.browser.msie&&9>y.support.browser.version,t=y.isFunction,m=b.isPlainObject,e=b.inArray,h=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,p=["url","email","number","date","boolean"],n=A.extend({init:function(e,f){f.target&&(f.$angular=f.target.options.$angular);A.fn.init.call(this,e,f);this._validateProxy=b.proxy(this._validate,this);this.refresh()},events:["change"],options:{name:"Editable",editors:{number:function(e,f){var h=u(f);b('\x3cinput type\x3d"text"/\x3e').attr(h).appendTo(e).kendoNumericTextBox({format:f.format});b("\x3cspan "+y.attr("for")+'\x3d"'+f.field+'" class\x3d"k-invalid-msg"/\x3e').hide().appendTo(e)},date:function(e,f){var h=u(f),c=f.format;c&&(c=y._extractFormat(c));h[y.attr("format")]=c;b('\x3cinput type\x3d"text"/\x3e').attr(h).appendTo(e).kendoDatePicker({format:f.format});b("\x3cspan "+y.attr("for")+'\x3d"'+f.field+'" class\x3d"k-invalid-msg"/\x3e').hide().appendTo(e)},string:function(e,f){var h=u(f);b('\x3cinput type\x3d"text" class\x3d"k-input k-textbox"/\x3e').attr(h).appendTo(e)},"boolean":function(e,f){var h=u(f);b('\x3cinput type\x3d"checkbox" /\x3e').attr(h).appendTo(e)},values:function(e,f){var h=u(f),c=y.stringify(z(f.values));b("\x3cselect "+y.attr("text-field")+'\x3d"text"'+y.attr("value-field")+'\x3d"value"'+y.attr("source")+"\x3d'"+(c?c.replace(/\'/g,"\x26apos;"):c)+"'"+y.attr("role")+'\x3d"dropdownlist"/\x3e').attr(h).appendTo(e);b("\x3cspan "+y.attr("for")+'\x3d"'+f.field+'" class\x3d"k-invalid-msg"/\x3e').hide().appendTo(e)}},clearContainer:!0,errorTemplate:'\x3cdiv class\x3d"k-widget k-tooltip k-tooltip-validation" style\x3d"margin:0.5em"\x3e\x3cspan class\x3d"k-icon k-warning"\x3e \x3c/span\x3e#\x3dmessage#\x3cdiv class\x3d"k-callout k-callout-n"\x3e\x3c/div\x3e\x3c/div\x3e'},editor:function(b,e){var f=this.options.editors,c=m(b),k=c?b.field:b,a=this.options.model||{},d=c&&b.values?"values":q(e),g=c&&b.editor,d=g?b.editor:f[d],n=this.element.find("["+y.attr("container-for")+"\x3d"+k.replace(h,"\\$1")+"]"),d=d?d:f.string;g&&"string"===typeof b.editor&&(d=function(a){a.append(b.editor)});n=n.length?n:this.element;d(n,E(!0,{},c?b:{field:k},{model:a}))},_validate:function(e){var f,k=e.value,c=this._validationEventInProgress,m={},a=y.attr("bind");f=e.field.replace(h,"\\$1");var d=new RegExp("(value|checked)\\s*:\\s*"+f+"\\s*(,|$)");m[e.field]=e.value;f=b(":input["+a+'*\x3d"'+f+'"]',this.element).filter("["+y.attr("validate")+"!\x3d'false']").filter(function(){return d.test(b(this).attr(a))});1<f.length&&(f=f.filter(function(){var a=b(this);return!a.is(":radio")||a.val()==k}));try{this._validationEventInProgress=!0,(!this.validatable.validateInput(f)||!c&&this.trigger("change",{values:m}))&&e.preventDefault()}finally{this._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var b=this;b.angular("cleanup",function(){return{elements:b.element}});A.fn.destroy.call(b);b.options.model.unbind("set",b._validateProxy);y.unbind(b.element);b.validatable&&b.validatable.destroy();y.destroy(b.element);b.element.removeData("kendoValidator");b.element.is("["+y.attr("role")+"\x3deditable]")&&b.element.removeAttr(y.attr("role"))},refresh:function(){var e,f,h=this.options.fields||[],c=this.options.clearContainer?this.element.empty():this.element,n=this.options.model||{},a={},d,g,p;b.isArray(h)||(h=[h]);e=0;for(f=h.length;e<f;e++)d=h[e],g=(g=m(d))?d.field:d,p=(n.fields||n)[g],C(p,a),this.editor(d,p);this.options.target&&this.angular("compile",function(){return{elements:c,data:c.map(function(){return{dataItem:n}})}});if(!f)for(g in e=n.fields||n,e)C(e[g],a);B(c);this.validatable&&this.validatable.destroy();y.bind(c,this.options.model);this.options.model.unbind("set",this._validateProxy);this.options.model.bind("set",this._validateProxy);this.validatable=new y.ui.Validator(c,{validateOnBlur:!1,errorTemplate:this.options.errorTemplate||k,rules:a});a=c.find(":kendoFocusable").eq(0).focus();x&&a.focus()}});F.plugin(n)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.filtermenu",["kendo.datepicker","kendo.numerictextbox","kendo.dropdownlist","kendo.binder"],b)})(function(){(function(b,k){function q(e,h){e.filters&&(e.filters=b.grep(e.filters,function(b){q(b,h);return b.filters?b.filters.length:b.field!=h}))}function B(b){var e,c,f,a,d;if(b&&b.length)for(d=[],e=0,c=b.length;e<c;e++)f=b[e],a=""!==f.text?f.text||f.value||f:f.text,f=null==f.value?f.text||f:f.value,d[e]={text:a,value:f};return d}function u(e,h){return b.grep(e,function(c){return c.filters?(c.filters=b.grep(c.filters,function(b){return b.field!=h}),c.filters.length):c.field!=h})}function z(e,h){e.filters&&(e.filters=b.grep(e.filters,function(b){z(b,h);return b.filters?b.filters.length:b.field==h&&"eq"==b.operator}))}function C(e){return"and"==e.logic&&1<e.filters.length?[]:e.filters?b.map(e.filters,function(b){return C(b)}):null!==e.value&&e.value!==k?[e.value]:[]}function y(b,e){for(var c=A.getter(e,!0),f=[],a=0,d={};a<b.length;){var g=b[a++],h=c(g);h===k||null===h||d.hasOwnProperty(h)||(f.push(g),d[h]=!0)}return f}function F(b,e){return function(c){c=b(c);return y(c,e)}}var A=window.kendo,E=A.ui,x=b.proxy,t={number:"numerictextbox",date:"datepicker"},m={string:"text",number:"number",date:"date"},e=A.isFunction,h=E.Widget,p=h.extend({init:function(e,k){var c=this,f="string",a,d,g;h.fn.init.call(c,e,k);a=c.operators=k.operators||{};e=c.element;k=c.options;k.appendToElement||(g=e.addClass("k-with-icon k-filterable").find(".k-grid-filter"),g[0]||(g=e.prepend('\x3ca class\x3d"k-grid-filter" href\x3d"#"\x3e\x3cspan class\x3d"k-icon k-filter"\x3e'+k.messages.filter+"\x3c/span\x3e\x3c/a\x3e").find(".k-grid-filter")),g.attr("tabindex",-1).on("click.kendoFilterMenu",x(c._click,c)));c.link=g||b();c.dataSource=n.create(k.dataSource);c.field=k.field||e.attr(A.attr("field"));c.model=c.dataSource.reader.model;c._parse=function(a){return null!=a?a+"":a};c.model&&c.model.fields&&(g=c.model.fields[c.field])&&(f=g.type||"string",g.parse&&(c._parse=x(g.parse,g)));k.values&&(f="enums");c.type=f;a=a[f]||k.operators[f];for(d in a)break;c._defaultFilter=function(){return{field:c.field,operator:d||"eq",value:""}};c._refreshHandler=x(c.refresh,c);c.dataSource.bind("change",c._refreshHandler);k.appendToElement?c._init():c.refresh()},_init:function(){var f=this.options.ui,h=e(f),c;if(this.pane=this.options.pane)this._isMobile=!0;h||(c=f||t[this.type]);this._isMobile?this._createMobileForm(c):this._createForm(c);this.form.on("submit.kendoFilterMenu",x(this._submit,this)).on("reset.kendoFilterMenu",x(this._reset,this));h&&this.form.find(".k-textbox").removeClass("k-textbox").each(function(){f(b(this))});this.form.find("["+A.attr("role")+"\x3dnumerictextbox]").removeClass("k-textbox").end().find("["+A.attr("role")+"\x3ddatetimepicker]").removeClass("k-textbox").end().find("["+A.attr("role")+"\x3dtimepicker]").removeClass("k-textbox").end().find("["+A.attr("role")+"\x3ddatepicker]").removeClass("k-textbox");this.refresh();this.trigger("init",{field:this.field,container:this.form});A.cycleForm(this.form)},_createForm:function(e){var f=this,c=f.options,h=f.operators||{},a=f.type,h=h[a]||c.operators[a];f.form=b('\x3cform class\x3d"k-filter-menu"/\x3e').html(A.template("boolean"===a?'\x3cdiv\x3e\x3cdiv class\x3d"k-filter-help-text"\x3e#\x3dmessages.info#\x3c/div\x3e\x3clabel\x3e\x3cinput type\x3d"radio" data-#\x3dns#bind\x3d"checked: filters[0].value" value\x3d"true" name\x3d"filters[0].value"/\x3e#\x3dmessages.isTrue#\x3c/label\x3e\x3clabel\x3e\x3cinput type\x3d"radio" data-#\x3dns#bind\x3d"checked: filters[0].value" value\x3d"false" name\x3d"filters[0].value"/\x3e#\x3dmessages.isFalse#\x3c/label\x3e\x3cdiv\x3e\x3cbutton type\x3d"submit" class\x3d"k-button k-primary"\x3e#\x3dmessages.filter#\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"k-button"\x3e#\x3dmessages.clear#\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e':'\x3cdiv\x3e\x3cdiv class\x3d"k-filter-help-text"\x3e#\x3dmessages.info#\x3c/div\x3e\x3cselect data-#\x3dns#bind\x3d"value: filters[0].operator" data-#\x3dns#role\x3d"dropdownlist"\x3e#for(var op in operators){#\x3coption value\x3d"#\x3dop#"\x3e#\x3doperators[op]#\x3c/option\x3e#}#\x3c/select\x3e#if(values){#\x3cselect data-#\x3dns#bind\x3d"value:filters[0].value" data-#\x3dns#text-field\x3d"text" data-#\x3dns#value-field\x3d"value" data-#\x3dns#source\x3d\'#\x3dkendo.stringify(values).replace(/\'/g,"\x26\\#39;")#\' data-#\x3dns#role\x3d"dropdownlist" data-#\x3dns#option-label\x3d"#\x3dmessages.selectValue#" data-#\x3dns#value-primitive\x3d"true"\x3e\x3c/select\x3e#}else{#\x3cinput data-#\x3dns#bind\x3d"value:filters[0].value" class\x3d"k-textbox" type\x3d"text" #\x3drole ? "data-" + ns + "role\x3d\'" + role + "\'" : ""# /\x3e#}##if(extra){#\x3cselect class\x3d"k-filter-and" data-#\x3dns#bind\x3d"value: logic" data-#\x3dns#role\x3d"dropdownlist"\x3e\x3coption value\x3d"and"\x3e#\x3dmessages.and#\x3c/option\x3e\x3coption value\x3d"or"\x3e#\x3dmessages.or#\x3c/option\x3e\x3c/select\x3e\x3cselect data-#\x3dns#bind\x3d"value: filters[1].operator" data-#\x3dns#role\x3d"dropdownlist"\x3e#for(var op in operators){#\x3coption value\x3d"#\x3dop#"\x3e#\x3doperators[op]#\x3c/option\x3e#}#\x3c/select\x3e#if(values){#\x3cselect data-#\x3dns#bind\x3d"value:filters[1].value" data-#\x3dns#text-field\x3d"text" data-#\x3dns#value-field\x3d"value" data-#\x3dns#source\x3d\'#\x3dkendo.stringify(values).replace(/\'/g,"\x26\\#39;")#\' data-#\x3dns#role\x3d"dropdownlist" data-#\x3dns#option-label\x3d"#\x3dmessages.selectValue#" data-#\x3dns#value-primitive\x3d"true"\x3e\x3c/select\x3e#}else{#\x3cinput data-#\x3dns#bind\x3d"value: filters[1].value" class\x3d"k-textbox" type\x3d"text" #\x3drole ? "data-" + ns + "role\x3d\'" + role + "\'" : ""#/\x3e#}##}#\x3cdiv\x3e\x3cbutton type\x3d"submit" class\x3d"k-button k-primary"\x3e#\x3dmessages.filter#\x3c/button\x3e\x3cbutton type\x3d"reset" class\x3d"k-button"\x3e#\x3dmessages.clear#\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e')({field:f.field,format:c.format,ns:A.ns,messages:c.messages,extra:c.extra,operators:h,type:a,role:e,values:B(c.values)}));c.appendToElement?(f.element.append(f.form),f.popup=f.element.closest(".k-popup").data("kendoPopup")):f.popup=f.form.kendoPopup({anchor:f.link,open:x(f._open,f),activate:x(f._activate,f),close:function(){f.options.closeCallback&&f.options.closeCallback(f.element)}}).data("kendoPopup");f.form.on("keydown.kendoFilterMenu",x(f._keydown,f))},_createMobileForm:function(e){var f=this,c=f.options,h=f.operators||{},a=f.type,h=h[a]||c.operators[a];f.form=b("\x3cdiv /\x3e").html(A.template("boolean"===a?'\x3cdiv data-#\x3dns#role\x3d"view" data-#\x3dns#init-widgets\x3d"false" data-#\x3dns#use-native-scrolling\x3d"true" class\x3d"k-grid-filter-menu"\x3e\x3cdiv data-#\x3dns#role\x3d"header" class\x3d"k-header"\x3e\x3cbutton class\x3d"k-button k-cancel"\x3e#\x3dmessages.cancel#\x3c/button\x3e#\x3dtitle#\x3cbutton type\x3d"submit" class\x3d"k-button k-submit"\x3e#\x3dmessages.filter#\x3c/button\x3e\x3c/div\x3e\x3cform class\x3d"k-filter-menu k-mobile-list"\x3e\x3cul class\x3d"k-filter-help-text"\x3e\x3cli\x3e\x3cspan class\x3d"k-link"\x3e#\x3dmessages.info#\x3c/span\x3e\x3cul\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e\x3cinput class\x3d"k-check" type\x3d"radio" data-#\x3dns#bind\x3d"checked: filters[0].value" value\x3d"true" name\x3d"filters[0].value"/\x3e#\x3dmessages.isTrue#\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e\x3cinput class\x3d"k-check" type\x3d"radio" data-#\x3dns#bind\x3d"checked: filters[0].value" value\x3d"false" name\x3d"filters[0].value"/\x3e#\x3dmessages.isFalse#\x3c/label\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"k-button-container"\x3e\x3cbutton type\x3d"reset" class\x3d"k-button"\x3e#\x3dmessages.clear#\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/form\x3e\x3c/div\x3e':'\x3cdiv data-#\x3dns#role\x3d"view" data-#\x3dns#init-widgets\x3d"false" data-#\x3dns#use-native-scrolling\x3d"true" class\x3d"k-grid-filter-menu"\x3e\x3cdiv data-#\x3dns#role\x3d"header" class\x3d"k-header"\x3e\x3cbutton class\x3d"k-button k-cancel"\x3e#\x3dmessages.cancel#\x3c/button\x3e#\x3dtitle#\x3cbutton type\x3d"submit" class\x3d"k-button k-submit"\x3e#\x3dmessages.filter#\x3c/button\x3e\x3c/div\x3e\x3cform class\x3d"k-filter-menu k-mobile-list"\x3e\x3cul class\x3d"k-filter-help-text"\x3e\x3cli\x3e\x3cspan class\x3d"k-link"\x3e#\x3dmessages.info#\x3c/span\x3e\x3cul\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e#\x3dmessages.operator#\x3cselect data-#\x3dns#bind\x3d"value: filters[0].operator"\x3e#for(var op in operators){#\x3coption value\x3d"#\x3dop#"\x3e#\x3doperators[op]#\x3c/option\x3e#}#\x3c/select\x3e\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e#\x3dmessages.value##if(values){#\x3cselect data-#\x3dns#bind\x3d"value:filters[0].value"\x3e\x3coption value\x3d""\x3e#\x3dmessages.selectValue#\x3c/option\x3e#for(var val in values){#\x3coption value\x3d"#\x3dvalues[val].value#"\x3e#\x3dvalues[val].text#\x3c/option\x3e#}#\x3c/select\x3e#}else{#\x3cinput data-#\x3dns#bind\x3d"value:filters[0].value" class\x3d"k-textbox" type\x3d"#\x3dinputType#" #\x3duseRole ? "data-" + ns + "role\x3d\'" + role + "\'" : ""# /\x3e#}#\x3c/label\x3e\x3c/li\x3e#if(extra){#\x3c/ul\x3e\x3cul class\x3d"k-filter-help-text"\x3e\x3cli\x3e\x3cspan class\x3d"k-link"\x3e\x3c/span\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e\x3cinput type\x3d"radio" name\x3d"logic" class\x3d"k-check" data-#\x3dns#bind\x3d"checked: logic" value\x3d"and" /\x3e#\x3dmessages.and#\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e\x3cinput type\x3d"radio" name\x3d"logic" class\x3d"k-check" data-#\x3dns#bind\x3d"checked: logic" value\x3d"or" /\x3e#\x3dmessages.or#\x3c/label\x3e\x3c/li\x3e\x3c/ul\x3e\x3cul class\x3d"k-filter-help-text"\x3e\x3cli\x3e\x3cspan class\x3d"k-link"\x3e\x3c/span\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e#\x3dmessages.operator#\x3cselect data-#\x3dns#bind\x3d"value: filters[1].operator"\x3e#for(var op in operators){#\x3coption value\x3d"#\x3dop#"\x3e#\x3doperators[op]#\x3c/option\x3e#}#\x3c/select\x3e\x3c/label\x3e\x3c/li\x3e\x3cli class\x3d"k-item"\x3e\x3clabel class\x3d"k-label"\x3e#\x3dmessages.value##if(values){#\x3cselect data-#\x3dns#bind\x3d"value:filters[1].value"\x3e\x3coption value\x3d""\x3e#\x3dmessages.selectValue#\x3c/option\x3e#for(var val in values){#\x3coption value\x3d"#\x3dvalues[val].value#"\x3e#\x3dvalues[val].text#\x3c/option\x3e#}#\x3c/select\x3e#}else{#\x3cinput data-#\x3dns#bind\x3d"value:filters[1].value" class\x3d"k-textbox" type\x3d"#\x3dinputType#" #\x3duseRole ? "data-" + ns + "role\x3d\'" + role + "\'" : ""# /\x3e#}#\x3c/label\x3e\x3c/li\x3e#}#\x3c/ul\x3e\x3c/li\x3e\x3cli class\x3d"k-button-container"\x3e\x3cbutton type\x3d"reset" class\x3d"k-button"\x3e#\x3dmessages.clear#\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e')({field:f.field,title:c.title||f.field,format:c.format,ns:A.ns,messages:c.messages,extra:c.extra,operators:h,type:a,role:e,useRole:!A.support.input.date&&"date"===a||"number"===a,inputType:m[a],values:B(c.values)}));f.view=f.pane.append(f.form.html());f.form=f.view.element.find("form");f.view.element.on("click",".k-submit",function(a){f.form.submit();a.preventDefault()}).on("click",".k-cancel",function(a){f._closeForm();a.preventDefault()})},refresh:function(){var b=this.dataSource.filter()||{filters:[],logic:"and"};this.filterModel=A.observable({logic:"and",filters:[this._defaultFilter(),this._defaultFilter()]});this.form&&A.bind(this.form.children().first(),this.filterModel);this._bind(b)?this.link.addClass("k-state-active"):this.link.removeClass("k-state-active")},destroy:function(){h.fn.destroy.call(this);this.form&&(A.unbind(this.form),A.destroy(this.form),this.form.unbind(".kendoFilterMenu"),this.popup&&(this.popup.destroy(),this.popup=null),this.form=null);this.view&&(this.view.purge(),this.view=null);this.link.unbind(".kendoFilterMenu");this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource=null);this.element=this.link=this._refreshHandler=this.filterModel=null},_bind:function(b){var e=b.filters,c,f,a=!1,d=0,g=this.filterModel,h;c=0;for(f=e.length;c<f;c++)h=e[c],h.field==this.field?(g.set("logic",b.logic),a=g.filters[d],a||(g.filters.push({field:this.field}),a=g.filters[d]),a.set("value",this._parse(h.value)),a.set("operator",h.operator),d++,a=!0):h.filters&&(a=a||this._bind(h));return a},_stripFilters:function(e){return b.grep(e,function(b){return""!==b.value&&null!=b.value||"isnull"===b.operator||"isnotnull"===b.operator||"isempty"===b.operator||"isnotempty"===b.operator})},_merge:function(b){var e=b.logic||"and",c=this._stripFilters(b.filters),f,a=this.dataSource.filter()||{filters:[],logic:"and"},d,g;q(a,this.field);d=0;for(g=c.length;d<g;d++)f=c[d],f.value=this._parse(f.value);c.length&&(a.filters.length?(b.filters=c,"and"!==a.logic&&(a.filters=[{logic:a.logic,filters:a.filters}],a.logic="and"),1<c.length?a.filters.push(b):a.filters.push(c[0])):(a.filters=c,a.logic=e));return a},filter:function(b){b=this._merge(b);b.filters.length&&this.dataSource.filter(b)},clear:function(){var e=this,h=e.dataSource.filter()||{filters:[]};h.filters=b.grep(h.filters,function(b){return b.filters?(b.filters=u(b.filters,e.field),b.filters.length):b.field!=e.field});h.filters.length||(h=null);e.dataSource.filter(h)},_submit:function(b){b.preventDefault();b.stopPropagation();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(b){b.preventDefault();b.stopPropagation();this.popup||this.pane||this._init();this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var e;b(".k-filter-menu").not(this.form).each(function(){(e=b(this).data("kendoPopup"))&&e.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(b){b.keyCode==A.keys.ESC&&this.popup.close()},events:["init"],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:"Is equal to",neq:"Is not equal to",startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:"Is equal to",neq:"Is not equal to",gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:"Is equal to",neq:"Is not equal to",isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}}),n=A.data.DataSource,D=h.extend({init:function(e,k){h.fn.init.call(this,e,k);k=this.options;this.element=b(e);var c=this.field=this.options.field||this.element.attr(A.attr("field")),c=k.checkSource;this._foreignKeyValues()?(this.checkSource=n.create(k.values),this.checkSource.fetch()):k.forceUnique?(c=k.dataSource.options,delete c.pageSize,this.checkSource=n.create(c),this.checkSource.reader.data=F(this.checkSource.reader.data,this.field)):this.checkSource=n.create(c);this.dataSource=k.dataSource;this.model=this.dataSource.reader.model;this._parse=function(b){return b+""};this.model&&this.model.fields&&(c=this.model.fields[this.field])&&(c.parse&&(this._parse=x(c.parse,c)),this.type=c.type||"string");k.appendToElement?this._init():this._createLink();this._refreshHandler=x(this.refresh,this);this.dataSource.bind("change",this._refreshHandler)},_createLink:function(){var b=this.element,e=b.addClass("k-with-icon k-filterable").find(".k-grid-filter");e[0]||(e=b.prepend('\x3ca class\x3d"k-grid-filter" href\x3d"#"\x3e\x3cspan class\x3d"k-icon k-filter"/\x3e\x3c/a\x3e').find(".k-grid-filter"));this._link=e.attr("tabindex",-1).on("click.kendoFilterMenu",x(this._click,this))},_init:function(){var b=this,e=this.options.forceUnique;if(this.pane=this.options.pane)this._isMobile=!0;this._createForm();this._foreignKeyValues()?this.refresh():e&&!this.checkSource.options.serverPaging&&this.dataSource.data().length?(this.checkSource.data(y(this.dataSource.data(),this.field)),this.refresh()):(this._attachProgress(),this.checkSource.fetch(function(){b.refresh.call(b)}));this.options.forceUnique||(this.checkChangeHandler=function(){b.container.empty();b.refresh()},this.checkSource.bind("change",this.checkChangeHandler));this.form.on("keydown.kendoFilterMultiCheck",x(this._keydown,this)).on("submit.kendoFilterMultiCheck",x(this._filter,this)).on("reset.kendoFilterMultiCheck",x(this._reset,this));this.trigger("init",{field:this.field,container:this.form})},_attachProgress:function(){var b=this;this._progressHandler=function(){E.progress(b.container,!0)};this._progressHideHandler=function(){E.progress(b.container,!1)};this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var b=this;b._clearTypingTimeout();b._typingTimeout=setTimeout(function(){b.search()},100)},_clearTypingTimeout:function(){this._typingTimeout&&(clearTimeout(this._typingTimeout),this._typingTimeout=null)},search:function(){var b=this.options.ignoreCase,e=this.searchTextBox[0].value,c=this.container.find("label");b&&(e=e.toLowerCase());for(var h=this.options.checkAll?1:0;h<c.length;h++){var a=c[h],d=a.textContent||a.innerText;b&&(d=d.toLowerCase());a.style.display=0<=d.indexOf(e)?"":"none"}},_createForm:function(){var e=this.options,h="";!this._isMobile&&e.search&&(h+="\x3cdiv class\x3d'k-textbox k-space-right'\x3e\x3cinput placeholder\x3d'"+e.messages.search+"'/\x3e\x3cspan class\x3d'k-icon k-font-icon k-i-search' /\x3e\x3c/div\x3e");h+="\x3cul class\x3d'k-reset k-multicheck-wrap'\x3e\x3c/ul\x3e\x3cbutton type\x3d'submit' class\x3d'k-button k-primary'\x3e"+e.messages.filter+"\x3c/button\x3e";h+="\x3cbutton type\x3d'reset' class\x3d'k-button'\x3e"+e.messages.clear+"\x3c/button\x3e";this.form=b('\x3cform class\x3d"k-filter-menu"/\x3e').html(h);this.container=this.form.find(".k-multicheck-wrap");e.search&&(this.searchTextBox=this.form.find(".k-textbox \x3e input"),this.searchTextBox.on("input",x(this._input,this)));if(this._isMobile){this.view=this.pane.append(this.form.addClass("k-mobile-list").wrap("\x3cdiv/\x3e").parent().html());e=this.view.element;this.form=e.find("form");this.container=e.find(".k-multicheck-wrap");var c=this;e.on("click",".k-primary",function(b){c.form.submit();b.preventDefault()}).on("click","[type\x3dreset]",function(b){c._reset();b.preventDefault()})}else e.appendToElement?(this.popup=this.element.closest(".k-popup").data("kendoPopup"),this.element.append(this.form)):this.popup=this.form.kendoPopup({anchor:this._link}).data("kendoPopup")},createCheckAllItem:function(){var e=this.options,h=A.template(e.itemTemplate({field:"all",mobile:this._isMobile})),e=b(h({all:e.messages.checkAll}));this.container.prepend(e);this.checkBoxAll=e.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=x(this.checkAll,this);this.checkBoxAll.on("change.kendoFilterMultiCheck",this.checkAllHandler)},updateCheckAllState:function(){if(this.checkBoxAll){var b=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",b)}},refresh:function(b){var e=this.options.forceUnique,c=this.dataSource,f=this.getFilterArray();this._link&&this._link.toggleClass("k-state-active",0!==f.length);this.form&&(b&&e&&b.sender===c&&!c.options.serverPaging&&("itemchange"==b.action||"add"==b.action||"remove"==b.action||c.options.autoSync&&"sync"===b.action)&&!this._foreignKeyValues()&&(this.checkSource.data(y(this.dataSource.data(),this.field)),this.container.empty()),this.container.is(":empty")&&this.createCheckBoxes(),this.checkValues(f),this.trigger("refresh"))},getFilterArray:function(){var e=b.extend(!0,{},{filters:[],logic:"and"},this.dataSource.filter());z(e,this.field);return C(e)},createCheckBoxes:function(){var b=this.options,e,c={field:this.field,format:b.format,mobile:this._isMobile,type:this.type};this.options.forceUnique?this._foreignKeyValues()?(e=this.checkSource.data(),c.valueField="value",c.field="text"):e=this.checkSource.data():e=this.checkSource.view();c=A.template(b.itemTemplate(c));e=A.render(c,e);b.checkAll&&(this.createCheckAllItem(),this.container.on("change.kendoFilterMultiCheck",":checkbox",x(this.updateCheckAllState,this)));this.container.append(e)},checkAll:function(){var b=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",b)},checkValues:function(e){var f=this;b(b.grep(this.container.find(":checkbox").prop("checked",!1),function(c){if(!b(c).is(".k-check-all"))for(var h=f._parse(b(c).val()),a=0;a<e.length;a++)if(c="date"==f.type?e[a].getTime()==h.getTime():e[a]==h)return c})).prop("checked",!0);this.updateCheckAllState()},_filter:function(e){e.preventDefault();e.stopPropagation();e={logic:"or"};var f=this;e.filters=b.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(c){return{value:b(c).val(),operator:"eq",field:f.field}});e=this._merge(e);e.filters.length&&this.dataSource.filter(e);this._closeForm()},_stripFilters:function(e){return b.grep(e,function(b){return null!=b.value})},_foreignKeyValues:function(){var b=this.options;return b.values&&!b.checkSource},destroy:function(){h.fn.destroy.call(this);this.form&&(A.unbind(this.form),A.destroy(this.form),this.form.unbind(".kendoFilterMultiCheck"),this.popup&&(this.popup.destroy(),this.popup=null),this.form=null,this.container&&(this.container.unbind(".kendoFilterMultiCheck"),this.container=null),this.checkBoxAll&&this.checkBoxAll.unbind(".kendoFilterMultiCheck"));this.view&&(this.view.purge(),this.view=null);this._link&&this._link.unbind(".kendoFilterMenu");this._refreshHandler&&(this.dataSource.unbind("change",this._refreshHandler),this.dataSource=null);this.checkChangeHandler&&this.checkSource.unbind("change",this.checkChangeHandler);this._progressHandler&&this.checkSource.unbind("progress",this._progressHandler);this._progressHideHandler&&this.checkSource.unbind("change",this._progressHideHandler);this._clearTypingTimeout();this.element=this.checkSource=this.container=this.checkBoxAll=this._link=this._refreshHandler=this.checkAllHandler=this.searchTextBox=null},options:{name:"FilterMultiCheck",itemTemplate:function(b){var e=b.field,c=b.format,f=b.valueField,a=b.mobile,d="";f===k&&(f=e);"date"==b.type&&(d=":yyyy-MM-ddTHH:mm:sszzz");return"\x3cli class\x3d'k-item'\x3e\x3clabel class\x3d'k-label'\x3e\x3cinput type\x3d'checkbox' class\x3d'"+(a?"k-check":"")+"'  value\x3d'#:kendo.format('{0"+d+"}',"+f+")#'/\x3e#:kendo.format('"+(c?c:"{0}")+"', "+e+")#\x3c/label\x3e\x3c/li\x3e"},checkAll:!0,search:!1,ignoreCase:!0,appendToElement:!1,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter",search:"Search"},forceUnique:!0,animations:{left:"slide",right:"slide:right"}},events:["init","refresh"]});b.extend(D.fn,{_click:p.fn._click,_keydown:p.fn._keydown,_reset:p.fn._reset,_closeForm:p.fn._closeForm,clear:p.fn.clear,_merge:p.fn._merge});E.plugin(p);E.plugin(D)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.selectable",["kendo.core","kendo.userevents"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui.Widget,u=b.proxy,z=Math.abs,C=q.support.browser.msie,y=!1;(function(b){(function(){b('\x3cdiv class\x3d"parent"\x3e\x3cspan /\x3e\x3c/div\x3e').on("click","\x3e*",function(){y=!0}).find("span").click().end().off()})()})(b);var F=B.extend({init:function(k,z){var x;B.fn.init.call(this,k,z);this._marquee=b("\x3cdiv class\x3d'k-marquee'\x3e\x3cdiv class\x3d'k-marquee-color'\x3e\x3c/div\x3e\x3c/div\x3e");this._lastActive=null;this.element.addClass("k-selectable");this.relatedTarget=this.options.relatedTarget;x=this.options.multiple;this.options.aria&&x&&this.element.attr("aria-multiselectable",!0);this.userEvents=new q.UserEvents(this.element,{global:!0,allowSelection:!0,filter:(y?"":".k-selectable ")+this.options.filter,tap:u(this._tap,this)});x&&this.userEvents.bind("start",u(this._start,this)).bind("move",u(this._move,this)).bind("end",u(this._end,this)).bind("select",u(this._select,this))},events:["change"],options:{name:"Selectable",filter:"\x3e*",multiple:!1,relatedTarget:b.noop},_isElement:function(b){var k=this.element,q,t=k.length,m=!1;b=b[0];for(q=0;q<t;q++)if(k[q]===b){m=!0;break}return m},_tap:function(k){var q=b(k.target),u=k.event.ctrlKey||k.event.metaKey,t=this.options.multiple,m=t&&k.event.shiftKey,e=k.event.which,h=k.event.button;!this._isElement(q.closest(".k-selectable"))||e&&3==e||h&&2==h||!this._allowSelection(k.event.target)||(k=q.hasClass("k-state-selected"),t&&u||this.clear(),q=q.add(this.relatedTarget(q)),m?this.selectRange(this._firstSelectee(),q):(k&&u?(this._unselect(q),this._notify("change")):this.value(q),this._lastActive=this._downTarget=q))},_start:function(k){var q=b(k.target),u=q.hasClass("k-state-selected"),t,m=k.event.ctrlKey||k.event.metaKey;this._allowSelection(k.event.target)&&(this._downTarget=q,this._isElement(q.closest(".k-selectable"))?(this.options.useAllItems?this._items=this.element.find(this.options.filter):(t=q.closest(this.element),this._items=t.find(this.options.filter)),k.sender.capture(),this._marquee.appendTo(document.body).css({left:k.x.client+1,top:k.y.client+1,width:0,height:0}),m||this.clear(),q=q.add(this.relatedTarget(q)),u&&(this._selectElement(q,!0),m&&q.addClass("k-state-unselecting"))):this.userEvents.cancel())},_move:function(b){var k={left:b.x.startLocation>b.x.location?b.x.location:b.x.startLocation,top:b.y.startLocation>b.y.location?b.y.location:b.y.startLocation,width:z(b.x.initialDelta),height:z(b.y.initialDelta)};this._marquee.css(k);this._invalidateSelectables(k,b.event.ctrlKey||b.event.metaKey);b.preventDefault()},_end:function(){this._marquee.remove();this._unselect(this.element.find(this.options.filter+".k-state-unselecting")).removeClass("k-state-unselecting");var b=this.element.find(this.options.filter+".k-state-selecting"),b=b.add(this.relatedTarget(b));this.value(b);this._lastActive=this._downTarget;this._items=null},_invalidateSelectables:function(b,k){var u,t,m=this._downTarget[0],e=this._items,h,p;u=0;for(t=e.length;u<t;u++){p=e.eq(u);h=p.add(this.relatedTarget(p));var n;n=p;var y=b;if(n.is(":visible")){var f=q.getOffset(n),l=y.left+y.width,c=y.top+y.height;f.right=f.left+n.outerWidth();f.bottom=f.top+n.outerHeight();n=!(f.left>l||f.right<y.left||f.top>c||f.bottom<y.top)}else n=!1;n?p.hasClass("k-state-selected")?k&&m!==p[0]&&h.removeClass("k-state-selected").addClass("k-state-unselecting"):p.hasClass("k-state-selecting")||p.hasClass("k-state-unselecting")||h.addClass("k-state-selecting"):p.hasClass("k-state-selecting")?h.removeClass("k-state-selecting"):k&&p.hasClass("k-state-unselecting")&&h.removeClass("k-state-unselecting").addClass("k-state-selected")}},value:function(b){var k=u(this._selectElement,this);if(b)b.each(function(){k(this)}),this._notify("change");else return this.element.find(this.options.filter+".k-state-selected")},_firstSelectee:function(){var b;if(null!==this._lastActive)return this._lastActive;b=this.value();return 0<b.length?b[0]:this.element.find(this.options.filter)[0]},_selectElement:function(k,q){var u=b(k),t=!q&&this._notify("select",{element:k});u.removeClass("k-state-selecting");t||(u.addClass("k-state-selected"),this.options.aria&&u.attr("aria-selected",!0))},_notify:function(b,k){k=k||{};return this.trigger(b,k)},_unselect:function(b){b.removeClass("k-state-selected");this.options.aria&&b.attr("aria-selected",!1);return b},_select:function(k){this._allowSelection(k.event.target)&&(!C||C&&!b(q._activeElement()).is("input,a,textarea,.k-multiselect-wrap,select,button,a.k-button\x3e.k-icon,button.k-button\x3e.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse"))&&k.preventDefault()},_allowSelection:function(k){return b(k).is("input,a,textarea,.k-multiselect-wrap,select,button,a.k-button\x3e.k-icon,button.k-button\x3e.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse")?(this.userEvents.cancel(),this._downTarget=null,!1):!0},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var b=this.element.find(this.options.filter+".k-state-selected");this._unselect(b)},selectRange:function(k,q){var u,t;this.clear();1<this.element.length&&(t=this.options.continuousItems());t&&t.length||(t=this.element.find(this.options.filter));k=b.inArray(b(k)[0],t);q=b.inArray(b(q)[0],t);k>q&&(u=k,k=q,q=u);this.options.useAllItems||(q+=this.element.length-1);for(u=k;u<=q;u++)this._selectElement(t[u]);this._notify("change")},destroy:function(){B.fn.destroy.call(this);this.element.off(".kendoSelectable");this.userEvents.destroy();this._marquee=this._lastActive=this.element=this.userEvents=null}});F.parseOptions=function(b){b="string"===typeof b&&b.toLowerCase();return{multiple:b&&-1<b.indexOf("multiple"),cell:b&&-1<b.indexOf("cell")}};q.ui.plugin(F)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.treelist","kendo.dom kendo.data kendo.columnsorter kendo.editable kendo.window kendo.filtermenu kendo.selectable kendo.resizable kendo.treeview.draganddrop".split(" "),b)})(function(){(function(b,k){function q(a){return function(b){return b[a]}}function B(a){return function(b){return!a(b)}}function u(){return"none"!==this.style.display}function z(a){a=a.find("\x3etr:not(.k-filter-row)");var c=function(){var a=b(this);return!a.hasClass("k-group-cell")&&!a.hasClass("k-hierarchy-cell")},d=b();1<a.length&&(d=a.find("th").filter(c).filter(function(){return 1<this.rowSpan}));var d=d.add(a.last().find("th").filter(c)),e=kendo.attr("index");d.sort(function(a,c){a=b(a);c=b(c);var d=a.attr(e),f=c.attr(e);d===k&&(d=b(a).index());f===k&&(f=b(c).index());d=parseInt(d,10);f=parseInt(f,10);return d>f?1:d<f?-1:0});return d}function C(a){var b=[],c=a.className,d=0;for(a=a.level;d<a;d++)b.push(x("span",{className:c}));return b}function y(a){for(var b,c=0,d=0,e=a.length;d<e;d++)(b=a[d].style.width)&&-1==b.indexOf("%")&&(c+=parseInt(b,10));return c}var F=kendo.data,A=b.extend,E=kendo.dom,x=E.element,t=E.text,m=E.html,e=kendo.ui,h=e.DataBoundWidget,p=F.DataSource,n=F.ObservableArray,D=F.Query,f=F.Model,l=b.proxy,c=b.map,w=b.grep,a=b.inArray,d=b.isPlainObject,g=Array.prototype.push,G={wrapper:"k-treelist k-grid k-widget",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",loading:"k-loading",refresh:"k-i-refresh",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-insert-top k-insert-bottom k-add k-insert-middle",dropTop:"k-insert-top",dropBottom:"k-insert-bottom",dropAdd:"k-add",dropMiddle:"k-insert-middle",dropDenied:"k-denied",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"},P={create:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-add",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-delete",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-update",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}},J=f.define({id:"id",parentId:"parentId",fields:{id:{type:"number"},parentId:{type:"number",nullable:!0}},init:function(a){f.fn.init.call(this,a);this._loaded=!1;this.parentIdField||(this.parentIdField="parentId");this.parentId=this.get(this.parentIdField)},accept:function(a){f.fn.accept.call(this,a);this.parentId=this.get(this.parentIdField)},set:function(a,b,c){"parentId"==a&&"parentId"!=this.parentIdField&&(this[this.parentIdField]=b);f.fn.set.call(this,a,b,c);a==this.parentIdField&&(this.parentId=this.get(this.parentIdField))},loaded:function(a){if(a!==k)this._loaded=a;else return this._loaded},shouldSerialize:function(a){return f.fn.shouldSerialize.call(this,a)&&"_loaded"!==a&&"_error"!=a&&"_edit"!=a&&!("parentId"!==this.parentIdField&&"parentId"===a)}});J.parentIdField="parentId";J.define=function(a,b){b===k&&(b=a,a=J);var c=b.parentId||"parentId";b.parentIdField=c;var d=f.define(a,b);c&&(d.parentIdField=c);return d};var O=p.extend({init:function(a){p.fn.init.call(this,A(!0,{},{schema:{modelBase:J,model:J}},a))},_createNewModel:function(a){var b={},c=a instanceof f;c&&(b=a);b=p.fn._createNewModel.call(this,b);c||(a.parentId&&(a[b.parentIdField]=a.parentId),b.accept(a));return b},_shouldWrap:function(){return!0},_readData:function(a){var b=this.data();a=p.fn._readData.call(this,a);this._concat(a,b);return a instanceof n?a:b},_concat:function(a,b){for(var c=b.length,d=0;d<a.length;d++)b[c++]=a[d];b.length=c},_readAggregates:function(a){a=A(this._aggregateResult,this.reader.aggregates(a));""in a&&(a[this._defaultParentId()]=a[""],delete a[""]);return a},remove:function(a){var b=this._subtree(this._childrenMap(this.data()),a.id);this._removeItems(b);p.fn.remove.call(this,a)},_filterCallback:function(a){var b,c={},d=[],e=a.toArray();for(a=0;a<e.length;a++)for(b=e[a];b&&(c[b.id]||(c[b.id]=!0,d.push(b)),!c[b.parentId]);)c[b.parentId]=!0,(b=this.parentNode(b))&&d.push(b);return new D(d)},_subtree:function(a,b){for(var c=a[b]||[],d=this._defaultParentId(),e=0,f=c.length;e<f;e++)c[e].id!==d&&(c=c.concat(this._subtree(a,c[e].id)));return c},_childrenMap:function(a){var b={},c,d,e,f;a=this._observeView(a);for(c=0;c<a.length;c++)d=a[c],e=d.id,f=d.parentId,b[e]=b[e]||[],b[f]=b[f]||[],b[f].push(d);return b},_calculateAggregates:function(a,b){b=b||{};var c={},d,e,f;if(d=b.filter)a=D.process(a,{filter:d,filterCallback:l(this._filterCallback,this)}).data;var g=this._childrenMap(a);c[this._defaultParentId()]=(new D(this._subtree(g,this._defaultParentId()))).aggregate(b.aggregate);for(f=0;f<a.length;f++)d=a[f],e=this._subtree(g,d.id),c[d.id]=(new D(e)).aggregate(b.aggregate);return c},_queryProcess:function(a,b){b=b||{};b.filterCallback=l(this._filterCallback,this);var c=this._defaultParentId(),d=D.process(a,b),e=this._childrenMap(d.data),f,g,h,k;a=e[c]||[];for(g=0;g<a.length;g++)if(h=a[g],h.id!==c){k=e[h.id];f=!(!k||!k.length);h.loaded()||h.loaded(f||!h.hasChildren);if(h.loaded()||!0!==h.hasChildren)h.hasChildren=f;f&&(a=a.slice(0,g+1).concat(k,a.slice(g+1)))}d.data=a;return d},_queueRequest:function(a,b){b.call(this)},_modelLoaded:function(a){a=this.get(a);a.loaded(!0);a.hasChildren=0<this.childNodes(a).length},_modelError:function(a,b){this.get(a)._error=b},success:function(a,b){b&&"undefined"!=typeof b.id||(this._data=this._observe([]));return p.fn.success.call(this,a,b)},load:function(a){var c="_query",d=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates,e=b.Deferred().resolve().promise();if(a.loaded()){if(d)return e}else a.hasChildren&&(c="read");return this[c]({id:a.id}).then(l(this._modelLoaded,this,a.id),l(this._modelError,this,a.id))},contains:function(a,b){for(var c=a.id;b;){if(b.parentId===c)return!0;b=this.parentNode(b)}return!1},_byParentId:function(a,b){var c=[],d=this.view(),e;if(a===b)return[];for(var f=0;f<d.length;f++)e=d.at(f),e.parentId==a&&c.push(e);return c},_defaultParentId:function(){return this.reader.model.fn.defaults[this.reader.model.parentIdField]},childNodes:function(a){return this._byParentId(a.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(a){return this.get(a.parentId)},level:function(a){var b=-1;a instanceof J||(a=this.get(a));do a=this.parentNode(a),b++;while(a);return b},filter:function(a){var b=p.fn.filter;if(a===k)return b.call(this,a);b.call(this,a)}});O.create=function(a){b.isArray(a)?a={data:a}:a instanceof n&&(a={data:a.toJSON()});return a instanceof O?a:new O(a)};var H=kendo.Observable.extend({init:function(a,b){kendo.Observable.fn.init.call(this);b=this.options=A(!0,{},this.options,b);this.element=a;this.bind(this.events,b);this.model=this.options.model;this.fields=this._fields(this.options.columns);this._initContainer();this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var a=this.options;this.editable=new e.Editable(this.wrapper,{fields:this.fields,target:a.target,clearContainer:a.clearContainer,model:this.model})},_isEditable:function(a){return a.field&&this.model.editable(a.field)},_fields:function(a){var b=[],c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],this._isEditable(e)&&b.push({field:e.field,format:e.format,editor:e.editor});return b},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role"));this.model=this.wrapper=this.element=this.columns=this.editable=null}}),Y=H.extend({init:function(a,b){H.fn.init.call(this,a,b);this._attachHandlers();kendo.cycleForm(this.wrapper);this.open()},events:["cancel","save"],options:{window:{modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1}},_initContainer:function(){var a=this.options,c=[];this.wrapper=b('\x3cdiv class\x3d"k-popup-edit-form"/\x3e').attr(kendo.attr("uid"),this.model.uid).append('\x3cdiv class\x3d"k-edit-form-container"/\x3e');a.template?(this._appendTemplate(c),this.fields=[]):this._appendFields(c);this._appendButtons(c);(new E.Tree(this.wrapper.children()[0])).render(c);this.wrapper.appendTo(a.appendTo);this.window=new e.Window(this.wrapper,a.window)},_appendTemplate:function(a){var b=this.options.template;"string"===typeof b&&(b=window.unescape(b));b=kendo.template(b)(this.model);a.push(m(b))},_appendFields:function(a){var b,c,d,e=this.options.columns;b=0;for(c=e.length;b<c;b++)d=e[b],d.command||(a.push(m('\x3cdiv class\x3d"k-edit-label"\x3e\x3clabel for\x3d"'+d.field+'"\x3e'+(d.title||d.field||"")+"\x3c/label\x3e\x3c/div\x3e")),this._isEditable(d)?a.push(m("\x3cdiv "+kendo.attr("container-for")+'\x3d"'+d.field+'" class\x3d"k-edit-field"\x3e\x3c/div\x3e')):a.push(x("div",{"class":"k-edit-field"},[this.options.fieldRenderer(d,this.model)])))},_appendButtons:function(a){a.push(x("div",{"class":"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var a=this._cancelProxy=l(this._cancel,this);this.wrapper.on("click.kendoTreeList",".k-grid-cancel",this._cancelProxy);this._saveProxy=l(this._save,this);this.wrapper.on("click.kendoTreeList",".k-grid-update",this._saveProxy);this.window.bind("close",function(b){b.userTriggered&&a(b)})},_dettachHandlers:function(){this._saveProxy=this._cancelProxy=null;this.wrapper.off(".kendoTreeList")},_cancel:function(a){this.trigger("cancel",a)},_save:function(){this.trigger("save")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",l(this.destroy,this)).close()},destroy:function(){this.window.destroy();this.window=null;this._dettachHandlers();H.fn.destroy.call(this)}}),F=h.extend({init:function(a,c){h.fn.init.call(this,a,c);this._dataSource(this.options.dataSource);this._columns();this._layout();this._selectable();this._sortable();this._resizable();this._filterable();this._attachEvents();this._toolbar();this._scrollable();this._reorderable();this._columnMenu();this._minScreenSupport();this._draggable();this.options.autoBind&&this.dataSource.fetch();if(this._hasLockedColumns){var d=this;this.wrapper.addClass("k-grid-lockedcolumns");this._resizeHandler=function(){d.resize()};b(window).on("resize.kendoTreeList",this._resizeHandler)}kendo.notify(this)},_draggable:function(){var a=this.options.editable;a&&a.move&&(this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:!0,filter:"tbody\x3etr",itemSelector:"tr",allowedContainers:this.wrapper,hintText:function(a){return a.children("td").map(function(){return b(this).text()}).toArray().join("\x3cspan class\x3d'k-header k-drag-separator' /\x3e")},contains:l(function(a,b){var c=this.dataItem(b),d=this.dataItem(a);return d==c||this.dataSource.contains(d,c)},this),itemFromTarget:function(a){a=a.closest("tr");return{item:a,content:a}},dragstart:l(function(a){this.wrapper.addClass("k-treelist-dragging");a=this.dataItem(a);return this.trigger("dragstart",{source:a})},this),drag:l(function(a){a.source=this.dataItem(a.source);this.trigger("drag",a)},this),drop:l(function(a){a.source=this.dataItem(a.source);a.destination=this.dataItem(a.destination);this.wrapper.removeClass("k-treelist-dragging");return this.trigger("drop",a)},this),dragend:l(function(a){var b=this.dataItem(a.destination),c=this.dataItem(a.source);c.set("parentId",b?b.id:null);a.source=c;a.destination=b;this.trigger("dragend",a)},this),reorderable:!1,dropHintContainer:function(a){return a.children("td:eq(1)")},dropPositionFrom:function(a){return 0<a.prevAll(".k-i-none").length?"after":"before"}}))},itemFor:function(a){"number"==typeof a&&(a=this.dataSource.get(a));return this.tbody.find("["+kendo.attr("uid")+"\x3d"+a.uid+"]")},_scrollable:function(){if(this.options.scrollable){var a=this.thead.closest(".k-grid-header-wrap"),c=b(this.lockedContent).bind("DOMMouseScroll.kendoTreeList mousewheel.kendoTreeList",l(this._wheelScroll,this));this.content.bind("scroll.kendoTreeList",function(){a.scrollLeft(this.scrollLeft);c.scrollTop(this.scrollTop)});var d=kendo.touchScroller(this.content);d&&d.movable&&(this._touchScroller=d,d.movable.bind("change",function(b){a.scrollLeft(-b.sender.x);c&&c.scrollTop(-b.sender.y)}))}},_wheelScroll:function(a){if(!a.ctrlKey){var c=kendo.wheelDeltaY(a);c&&(a.preventDefault(),b(a.currentTarget).one("wheel.kendoTreeList",!1),this.content.scrollTop(this.content.scrollTop()+-c))}},_progress:function(){var a=this.options.messages;this.tbody.find("tr").length||this._showStatus(kendo.template("\x3cspan class\x3d'#\x3d className #' /\x3e #: messages.loading #")({className:G.icon+" "+G.loading,messages:a}))},_error:function(a){this.dataSource.rootNodes().length||this._render({error:a})},refresh:function(a){a=a||{};"itemchange"==a.action&&this.editor||this.trigger("dataBinding")||(this._cancelEditor(),this._render(),this._adjustHeight(),this.trigger("dataBound"))},_angularFooters:function(a){var b,c,d,e=this.dataSource.aggregates(),f=this._footerItems();for(b=0;b<f.length;b++)c=f.eq(b),d=e[c.attr("data-parentId")],this._angularFooter(a,c.find("td").get(),d)},_angularFooter:function(a,b,d){var e=this.columns;this.angular(a,function(){return{elements:b,data:c(e,function(a){return{column:a,aggregate:d&&d[a.field]}})}})},items:function(){return this._hasLockedColumns?this._items(this.tbody).add(this._items(this.lockedTable)):this._items(this.tbody)},_items:function(a){return a.find("tr").filter(function(){return!b(this).hasClass(G.footerTemplate)})},_footerItems:function(){var a=this.tbody;this._hasLockedColumns&&(a=a.add(this.lockedTable));return a.find("tr").filter(function(){return b(this).hasClass(G.footerTemplate)})},dataItems:function(){var a=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){for(var b=a.length,c=Array(2*b),d=b;0<=--d;)c[d]=c[d+b]=a[d];a=c}return a},_showStatus:function(a){var c=this.element.find(".k-status"),d=b(this.content).add(this.lockedContent);c.length||(c=b("\x3cdiv class\x3d'k-status' /\x3e").appendTo(this.element));this._contentTree.render([]);this._hasLockedColumns&&this._lockedContentTree.render([]);d.hide();c.html(a)},_hideStatus:function(){this.element.find(".k-status").remove();b(this.content).add(this.lockedContent).show()},_adjustHeight:function(){var a=this.element,b=a.find("."+G.gridContentWrap),c=a.find("."+G.gridHeader),d=a.find("."+G.gridToolbar),e=kendo.support.scrollbar();a.height(this.options.height);var f;var g;a[0].style.height?f=!0:(f=a.height(),a.height("auto"),g=a.height(),a.height(""),f=f!=g);f&&(a=a.height()-c.outerHeight()-d.outerHeight(),b.height(a),this._hasLockedColumns&&(e=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?e:0,this.lockedContent.height(a-e)))},_resize:function(){this._applyLockedContainersWidth();this._adjustHeight()},_minScreenSupport:function(){this.hideMinScreenCols()&&(this.minScreenResizeHandler=l(this.hideMinScreenCols,this),b(window).on("resize",this.minScreenResizeHandler))},hideMinScreenCols:function(){for(var a=this.columns,b=!1,c=0<window.innerWidth?window.innerWidth:screen.width,d=0;d<a.length;d++){var e=a[d],f=e.minScreenWidth;f!==k&&null!==f&&(b=!0,f>c?this.hideColumn(e):this.showColumn(e))}return b},destroy:function(){h.fn.destroy.call(this);var a=this.dataSource;a.unbind("change",this._refreshHandler);a.unbind("error",this._errorHandler);a.unbind("progress",this._progressHandler);this._resizeHandler&&b(window).off("resize.kendoTreeList",this._resizeHandler);this._dragging&&(this._dragging.destroy(),this._dragging=null);this.resizable&&(this.resizable.destroy(),this.resizable=null);this.reorderable&&(this.reorderable.destroy(),this.reorderable=null);this._draggableInstance&&this._draggableInstance.element&&(this._draggableInstance.destroy(),this._draggableInstance=null);this.minScreenResizeHandler&&b(window).off("resize",this.minScreenResizeHandler);this._destroyEditor();this.element.off(".kendoTreeList");this._touchScroller&&this._touchScroller.destroy();this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=this._refreshHandler=this._errorHandler=this._progressHandler=this._autoExpandable=null},options:{name:"TreeList",columns:[],autoBind:!0,scrollable:!0,selectable:!1,sortable:!1,toolbar:null,height:null,columnMenu:!1,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:!0},resizable:!1,filterable:!1,editable:!1,reorderable:!1},events:"change edit save remove expand collapse dataBinding dataBound cancel dragstart drag drop dragend filterMenuInit columnHide columnShow columnReorder columnResize columnMenuInit columnLock columnUnlock".split(" "),_toggle:function(a,c){var d=b.Deferred().resolve().promise(),e=a.loaded();a._error&&(a.expanded=!1,a._error=k);if(!e&&a.expanded)return d;"undefined"==typeof c&&(c=!a.expanded);a.expanded=c;e||(d=this.dataSource.load(a).always(l(function(){this._render();this._syncLockedContentHeight()},this)));this._render();this._syncLockedContentHeight();return d},expand:function(a){return this._toggle(this.dataItem(a),!0)},collapse:function(a){return this._toggle(this.dataItem(a),!1)},_toggleChildren:function(a){var c=b(a.currentTarget),c=this.dataItem(c);this.trigger(c.expanded?"collapse":"expand",{model:c})||this._toggle(c);a.preventDefault()},_attachEvents:function(){var a="."+G.retry,b=this.dataSource;this.element.on("mousedown.kendoTreeList","."+G.iconCollapse+", ."+G.iconExpand+", ."+G.refresh,l(this._toggleChildren,this)).on("click.kendoTreeList",a,l(b.fetch,b)).on("click.kendoTreeList",".k-button[data-command]",l(this._commandClick,this))},_commandByName:function(a){var c=this.columns,d=b.isArray(this.options.toolbar)?this.options.toolbar:[],e,f,g,h;a=a.toLowerCase();if(P[a])return P[a];for(e=0;e<c.length;e++)if(g=c[e].command)for(f=0;f<g.length;f++)if((h=g[f].name)&&h.toLowerCase()==a)return g[f];for(e=0;e<d.length;e++)if((h=d[e].name)&&h.toLowerCase()==a)return d[e]},_commandClick:function(a){var c=b(a.currentTarget),d=c.attr("data-command"),d=this._commandByName(d),c=c.parentsUntil(this.wrapper,"tr"),c=c.length?c:k;if(d){if(d.methodName)this[d.methodName](c);else d.click&&d.click.call(this,a);a.preventDefault()}},_ensureExpandableColumn:function(){this._autoExpandable&&delete this._autoExpandable.expandable;var a=w(this.columns,B(q("hidden"))),b=w(a,q("expandable"));this.columns.length&&!b.length&&(this._autoExpandable=a[0],a[0].expandable=!0)},_columns:function(){this.columns=c(this.options.columns||[],function(a){a="string"===typeof a?{field:a}:a;return A({encoded:!0},a)});var a=this._lockedColumns();0<a.length&&(this._hasLockedColumns=!0,this.columns=a.concat(this._nonLockedColumns()));this._ensureExpandableColumn();this._columnTemplates();this._columnAttributes()},_columnTemplates:function(){var a,b,c,d=this.columns;a=0;for(b=d.length;a<b;a++)c=d[a],c.template&&(c.template=kendo.template(c.template)),c.headerTemplate&&(c.headerTemplate=kendo.template(c.headerTemplate)),c.footerTemplate&&(c.footerTemplate=kendo.template(c.footerTemplate))},_columnAttributes:function(){function a(a){var c,d,e;if(a&&a.style)for(c=a.style.split(";"),a.style={},d=0;d<c.length;d++){e=c[d].split(":");var f=b.trim(e[0]);f&&(a.style[b.camelCase(f)]=b.trim(e[1]))}}var c,d,e=this.columns;c=0;for(d=e.length;c<d;c++)a(e[c].attributes),a(e[c].headerAttributes)},_layout:function(){var a=this.columns,b=this.element,d="";this.wrapper=b.addClass(G.wrapper);d="\x3cdiv class\x3d'#\x3d gridHeader #'\x3e";this._hasLockedColumns&&(d+="\x3cdiv class\x3d'k-grid-header-locked'\x3e\x3ctable role\x3d'grid'\x3e\x3ccolgroup\x3e\x3c/colgroup\x3e\x3cthead role\x3d'rowgroup' /\x3e\x3c/table\x3e\x3c/div\x3e");d+="\x3cdiv class\x3d'#\x3d gridHeaderWrap #'\x3e\x3ctable role\x3d'grid'\x3e\x3ccolgroup\x3e\x3c/colgroup\x3e\x3cthead role\x3d'rowgroup' /\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e";this._hasLockedColumns&&(d+="\x3cdiv class\x3d'k-grid-content-locked'\x3e\x3ctable role\x3d'treegrid' tabindex\x3d'0'\x3e\x3ccolgroup\x3e\x3c/colgroup\x3e\x3ctbody /\x3e\x3c/table\x3e\x3c/div\x3e");d+="\x3cdiv class\x3d'#\x3d gridContentWrap # k-auto-scrollable'\x3e\x3ctable role\x3d'treegrid' tabindex\x3d'0'\x3e\x3ccolgroup\x3e\x3c/colgroup\x3e\x3ctbody /\x3e\x3c/table\x3e\x3c/div\x3e";this.options.scrollable||(d="\x3ctable role\x3d'treegrid' tabindex\x3d'0'\x3e\x3ccolgroup\x3e\x3c/colgroup\x3e\x3cthead class\x3d'#\x3d gridHeader #' role\x3d'rowgroup' /\x3e\x3ctbody /\x3e\x3c/table\x3e");this.options.toolbar&&(d="\x3cdiv class\x3d'#\x3d header # #\x3d gridToolbar #' /\x3e"+d);b.append(kendo.template(d)(G)+"\x3cdiv class\x3d'k-status' /\x3e");this.toolbar=b.find("."+G.gridToolbar);var e=b.find("."+G.gridHeader).find("thead").addBack().filter("thead");this.thead=e.last();this.options.scrollable&&(d=kendo.support.isRtl(b),b.find("div."+G.gridHeader).css(d?"padding-left":"padding-right",kendo.support.scrollbar()));d=b.find("."+G.gridContentWrap);d.length?this.content=d:d=b;this.table=d.find("\x3etable");this.tbody=this.table.find("\x3etbody");this._hasLockedColumns&&(this.lockedHeader=e.first().closest(".k-grid-header-locked"),this.lockedContent=b.find(".k-grid-content-locked"),this.lockedTable=this.lockedContent.children());this._initVirtualTrees();this._renderCols();this._renderHeader();this.angular("compile",function(){return{elements:e.find("th.k-header").get(),data:c(a,function(a){return{column:a}})}})},_initVirtualTrees:function(){this._headerColsTree=new E.Tree(this.thead.prev()[0]);this._contentColsTree=new E.Tree(this.tbody.prev()[0]);this._headerTree=new E.Tree(this.thead[0]);this._contentTree=new E.Tree(this.tbody[0]);this._statusTree=new E.Tree(this.element.children(".k-status")[0]);this.lockedHeader&&(this._lockedHeaderColsTree=new E.Tree(this.lockedHeader.find("colgroup")[0]),this._lockedContentColsTree=new E.Tree(this.lockedTable.find("\x3ecolgroup")[0]),this._lockedHeaderTree=new E.Tree(this.lockedHeader.find("thead")[0]),this._lockedContentTree=new E.Tree(this.lockedTable.find("\x3etbody")[0]))},_toolbar:function(){var a=this.options.toolbar,c=this.toolbar;a&&(b.isArray(a)?(a=this._buildCommands(a),(new E.Tree(c[0])).render(a)):c.append(kendo.template(a)({})),this.angular("compile",function(){return{elements:c.get()}}))},_lockedColumns:function(){return w(this.columns,q("locked"))},_nonLockedColumns:function(){return w(this.columns,B(q("locked")))},_templateColumns:function(){return w(this.columns,q("template"))},_flushCache:function(){this.options.$angular&&this._templateColumns().length&&(this._contentTree.render([]),this._hasLockedColumns&&this._lockedContentTree.render([]))},_render:function(a){a=a||{};var c=this.options.messages,d=this.dataSource.rootNodes(),e=this.select().removeClass("k-state-selected").map(function(a,c){return b(c).attr(kendo.attr("uid"))});this._absoluteIndex=0;this._angularItems("cleanup");this._angularFooters("cleanup");this._flushCache();a.error?this._showStatus(kendo.template("#: messages.requestFailed # \x3cbutton class\x3d'#\x3d buttonClass #'\x3e#: messages.retry #\x3c/button\x3e")({buttonClass:[G.button,G.retry].join(" "),messages:c})):d.length?(this._hideStatus(),this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:a.aggregates,selected:e,data:d,visible:!0,level:0})),this._hasLockedColumns&&(this._absoluteIndex=0,this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:a.aggregates,selected:e,data:d,visible:!0,level:0})))):this._showStatus(kendo.htmlEncode(c.noRows));this._touchScroller&&this._touchScroller.contentResized();this._muteAngularRebind(function(){this._angularItems("compile");this._angularFooters("compile")});this._adjustRowsHeight()},_adjustRowsHeight:function(){if(this._hasLockedColumns){var a=this.table,b=this.lockedTable,c=a[0].rows,d=c.length,e,f=b[0].rows,a=a.add(b),b=a.length,g=[];e=this.lockedHeader.find("tr");var h=this.thead.find("tr");e.add(h).height("auto").height(Math.max(e.height(),h.height()));for(e=0;e<d&&f[e];e++){c[e].style.height&&(c[e].style.height=f[e].style.height="");var h=c[e].offsetHeight,k=f[e].offsetHeight,m=0;h>k?m=h:h<k&&(m=k);g.push(m)}for(e=0;e<b;e++)a[e].style.display="none";for(e=0;e<d;e++)g[e]&&(c[e].style.height=f[e].style.height=g[e]+1+"px");for(e=0;e<b;e++)a[e].style.display=""}},_ths:function(a){for(var b=[],c,d,e,f,g=0,h=a.length;g<h;g++)c=a[g],e=[],f=[G.header],d=c.headerTemplate?c.headerTemplate({}):c.title||c.field||"",d=c.headerTemplate?m(d):t(d),c.sortable?e.push(x("a",{href:"#",className:G.link},[d])):e.push(d),f={"data-field":c.field,"data-title":c.title,style:!0===c.hidden?{display:"none"}:{},className:f.join(" "),role:"columnheader"},f=A(!0,{},f,c.headerAttributes),b.push(x("th",f,e));return b},_cols:function(a){for(var b=[],c,d,e=0;e<a.length;e++)!0!==a[e].hidden&&(c=a[e].width,d={},c&&0!==parseInt(c,10)&&(d.style={width:"string"===typeof c?c:c+"px"}),b.push(x("col",d)));return b},_renderCols:function(){var a=this._nonLockedColumns();this._headerColsTree.render(this._cols(a));this.options.scrollable&&this._contentColsTree.render(this._cols(a));this._hasLockedColumns&&(a=this._lockedColumns(),this._lockedHeaderColsTree.render(this._cols(a)),this._lockedContentColsTree.render(this._cols(a)))},_renderHeader:function(){var a=this._nonLockedColumns();this._headerTree.render([x("tr",{role:"row"},this._ths(a))]);this._hasLockedColumns&&(a=this._lockedColumns(),this._lockedHeaderTree.render([x("tr",{role:"row"},this._ths(a))]),this._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){if(this._hasLockedColumns){var a=y(this.lockedHeader.find("\x3etable\x3ecolgroup\x3ecol")),b=this.thead.parent(),c=y(b.find("\x3ecolgroup\x3ecol")),d=this.wrapper[0].clientWidth,e=kendo.support.scrollbar();a>=d&&(a=d-3*e);this.lockedHeader.add(this.lockedContent).width(a);b.add(this.table).width(c);a=d-a-2;this.content.width(a);b.parent().width(a-e)}},_trs:function(a){var c,d,e,f,g,h,k,m=[],r=a.level,n=a.data,p=this.dataSource,q=p.aggregates()||{},t=a.columns;h=0;for(k=n.length;h<k;h++)e=[],c=n[h],f=(g=c.loaded()&&p.childNodes(c))&&g.length,d={role:"row"},d[kendo.attr("uid")]=c.uid,f&&(d["aria-expanded"]=!!c.expanded),a.visible?(0!==this._absoluteIndex%2&&e.push(G.alt),this._absoluteIndex++):d.style={display:"none"},0<=b.inArray(c.uid,a.selected)&&e.push(G.selected),f&&e.push(G.group),c._edit&&e.push("k-grid-edit-row"),d.className=e.join(" "),m.push(this._tds({model:c,attr:d,level:r},t,l(this._td,this))),f&&(m=m.concat(this._trs({columns:t,aggregates:q,selected:a.selected,visible:a.visible&&!!c.expanded,data:g,level:r+1})));this._hasFooterTemplate()&&(d={className:G.footerTemplate,"data-parentId":c.parentId},a.visible||(d.style={display:"none"}),m.push(this._tds({model:q[c.parentId],attr:d,level:r},t,this._footerTd)));return m},_footerTd:function(a){var c=[],d=a.column,e=a.column.footerTemplate||b.noop,f=a.model[d.field]||{},g={role:"gridcell",style:!0===d.hidden?{display:"none"}:{}};d.expandable&&(c=c.concat(C({level:a.level+1,className:G.iconPlaceHolder})));d.attributes&&A(g,d.attributes);c.push(m(e(f)||""));return x("td",g,c)},_hasFooterTemplate:function(){return!!w(this.columns,function(a){return a.footerTemplate}).length},_tds:function(a,b,c){for(var d=[],e,f=0,g=b.length;f<g;f++)e=b[f],d.push(c({model:a.model,column:e,level:a.level}));return x("tr",a.attr,d)},_td:function(a){var b=[],c=a.model,d=a.column,e={role:"gridcell",style:!0===d.hidden?{display:"none"}:{}};c._edit&&d.field&&c.editable(d.field)?e[kendo.attr("container-for")]=d.field:(d.expandable&&(b=C({level:a.level,className:G.iconPlaceHolder}),a=[G.icon],c.hasChildren?a.push(c.expanded?G.iconCollapse:G.iconExpand):a.push(G.iconHidden),c._error?a.push(G.refresh):!c.loaded()&&c.expanded&&a.push(G.loading),b.push(x("span",{className:a.join(" ")})),e.style["white-space"]="nowrap"),d.attributes&&A(!0,e,d.attributes),d.command?b=c._edit?this._buildCommands(["update","canceledit"]):this._buildCommands(d.command):b.push(this._cellContent(d,c)));return x("td",e,b)},_cellContent:function(a,b){var c;a.template?c=a.template(b):a.field&&(c=b.get(a.field),null!==c&&a.format&&(c=kendo.format(a.format,c)));if(null===c||"undefined"==typeof c)c="";return a.template||!a.encoded?m(c):t(c)},_buildCommands:function(a){var b,c=[];for(b=0;b<a.length;b++)c.push(this._button(a[b]));return c},_button:function(a){var b=(a.name||a).toLowerCase(),c=[];a=A({},P[b],{text:this.options.messages.commands[b]},a);a.imageClass&&c.push(x("span",{className:["k-icon",a.imageClass].join(" ")}));return x("button",{type:"button","data-command":b,className:["k-button k-button-icontext",a.className].join(" ")},c.concat([t(a.text||a.name)]))},_positionResizeHandle:function(a){var c=b(a.currentTarget),d=this.resizeHandle,e=c.position(),f=e.left,g=c.outerWidth(),h=c.closest("div");a=a.clientX+b(window).scrollLeft();var k=this.options.columnResizeHandleWidth||3,f=f+h.scrollLeft();d||(d=this.resizeHandle=b('\x3cdiv class\x3d"k-resize-handle"\x3e\x3cdiv class\x3d"k-resize-handle-inner" /\x3e\x3c/div\x3e'));var m=c.offset().left+g;if(a>m-k&&a<m+k){h.append(d);d.show().css({top:e.top,left:f+g-k-1,height:c.outerHeight(),width:3*k}).data("th",c);var l=this;d.off("dblclick.kendoTreeList").on("dblclick.kendoTreeList",function(){var a=c.index();b.contains(l.thead[0],c[0])&&(a+=w(l.columns,function(a){return a.locked&&!a.hidden}).length);l.autoFitColumn(a)})}else d.hide()},autoFitColumn:function(c){var e=this.options,f=this.columns,g,h=kendo.support.browser,k,m,l,n=this.lockedHeader?z(this.lockedHeader.find("\x3etable\x3ethead")).filter(u).length:0;if((c="number"==typeof c?f[c]:d(c)?w(f,function(a){return a===c})[0]:w(f,function(a){return a.field===c})[0])&&!c.hidden){g=a(c,f);m=(l=c.locked)?this.lockedHeader.children("table"):this.thead.parent();k=m.find("[data-index\x3d'"+g+"']");var r=l?this.lockedTable:this.table,p=this.footer||b();this.footer&&this.lockedContent&&(p=l?this.footer.children(".k-grid-footer-locked"):this.footer.children(".k-grid-footer-wrap"));p=p.find("table").first();this.lockedHeader&&n>=g&&!l&&(g-=n);for(l=0;l<f.length&&f[l]!==c;l++)f[l].hidden&&g--;l=e.scrollable?m.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+g+")").add(r.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+g+")")).add(p.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+g+")")):r.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+g+")");var q=m.add(r).add(p),f=k.outerWidth();l.width("");q.css("table-layout","fixed");l.width("auto");q.addClass("k-autofitting");q.css("table-layout","");g=Math.ceil(Math.max(k.outerWidth(),r.find("tr").eq(0).children("td:visible").eq(g).outerWidth(),p.find("tr").eq(0).children("td:visible").eq(g).outerWidth()));l.width(g);c.width=g;if(e.scrollable){var e=m.find("col"),t=0;k=0;for(r=e.length;k<r;k+=1)if((m=e[k].style.width)&&-1==m.indexOf("%"))t+=parseInt(m,10);else{t=0;break}t&&q.each(function(){this.style.width=t+"px"})}h.msie&&8==h.version&&(q.css("display","inline-table"),setTimeout(function(){q.css("display","table")},1));q.removeClass("k-autofitting");this.trigger("columnResize",{column:c,oldWidth:f,newWidth:g});this._applyLockedContainersWidth();this._syncLockedContentHeight();this._syncLockedHeaderHeight()}},_adjustLockedHorizontalScrollBar:function(){var a=this.table,b=a.parent(),a=a[0].offsetWidth>b[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(b.height()-a)},_syncLockedContentHeight:function(){this.lockedTable&&(this._touchScroller||this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var a=this.lockedHeader.children("table"),b=this.thead.parent();this._adjustRowsHeight(a,b);var c,a=a[0];c=b[0];if(a.rows.length!==c.rows.length){var b=a.offsetHeight,d=c.offsetHeight;b>d?(a=c.rows[c.rows.length-1],b-=d):(a=a.rows[a.rows.length-1],b=d-b);a.style.height=a.offsetHeight+b+"px"}}},_resizable:function(){if(this.options.resizable){this.resizable&&this.resizable.destroy();var a=this;b(this.lockedHeader).find("thead").add(this.thead).on("mousemove.kendoTreeList","th",b.proxy(this._positionResizeHandle,this));this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(c){var d=b(c.currentTarget).data("th"),e="col:eq("+b.inArray(d[0],d.parent().children().filter(":visible"))+")",f,g;a.wrapper.addClass("k-grid-column-resizing");a.lockedHeader&&b.contains(a.lockedHeader[0],d[0])?(f=a.lockedHeader,g=a.lockedTable):(f=a.thead.parent(),g=a.table);this.col=g.children("colgroup").find(e).add(f.find(e));this.th=d;this.startLocation=c.x.location;this.columnWidth=d.outerWidth();this.table=this.col.closest("table");this.totalWidth=this.table.width()},resize:function(a){a=a.x.location-this.startLocation;11>this.columnWidth+a&&(a=11-this.columnWidth);this.table.width(this.totalWidth+a);this.col.width(this.columnWidth+a)},resizeend:function(){a.wrapper.removeClass("k-grid-column-resizing");var b=this.th.attr("data-field"),c=w(a.columns,function(a){return a.field==b}),d=Math.floor(this.th.outerWidth());c[0].width=d;a._resize();a._adjustRowsHeight();a.trigger("columnResize",{column:c,oldWidth:this.columnWidth,newWidth:d});this.table=this.col=this.th=null}})}},_sortable:function(){var a=this.columns,c,d,e=b(this.lockedHeader).add(this.thead).find("th"),f,g,h,k=kendo.attr("field"),m=this.options.sortable;if(m)for(g=0,h=e.length;g<h;g++)c=a[g],!1!==c.sortable&&!c.command&&c.field&&(f=e.eq(g),(d=f.data("kendoColumnSorter"))&&d.destroy(),f.attr(k,c.field).kendoColumnSorter(A({},m,c.sortable,{dataSource:this.dataSource})))},_filterable:function(){var a=b(this.lockedHeader).add(this.thead).find("th"),c=this.options.filterable,d,e,f,g,h;if(c&&!this.options.columnMenu){var k=l(function(a){this.trigger("filterMenuInit",{field:a.field,container:a.container})},this);d=0;for(e=a.length;d<e;d++)f=this.columns[d],g=a.eq(d),(h=g.data("kendoFilterMenu"))&&h.destroy(),f.command||!1===f.filterable||g.kendoFilterMenu(A(!0,{},c,f.filterable,{dataSource:this.dataSource,init:k}))}},_change:function(){this.trigger("change")},_selectable:function(){var a=this.options.selectable,b,c=this.table,d;a&&(a=kendo.ui.Selectable.parseOptions(a),this._hasLockedColumns&&(c=c.add(this.lockedTable),d=a.multiple&&a.cell),b="\x3etbody\x3etr:not(.k-footer-template)",a.cell&&(b+="\x3etd"),this.selectable=new kendo.ui.Selectable(c,{filter:b,aria:!0,multiple:a.multiple,change:l(this._change,this),useAllItems:d,continuousItems:l(this._continuousItems,this,b,a.cell),relatedTarget:!a.cell&&this._hasLockedColumns?l(this._selectableTarget,this):k}))},_continuousItems:function(a,c){if(this.lockedContent){for(var d=b(a,this.lockedTable),e=b(a,this.table),f=c?this._lockedColumns().length:1,h=c?this.columns.length-f:1,k=[],m=0;m<d.length;m+=f)g.apply(k,d.slice(m,m+f)),g.apply(k,e.splice(0,h));return k}},_selectableTarget:function(c){for(var d,e=b(),f=0,g=c.length;f<g;f++)d=this._relatedRow(c[f]),0>a(d[0],c)&&(e=e.add(d));return e},_relatedRow:function(a){var c=this.lockedTable;a=b(a);if(!c)return a;var d=a.closest(this.table.add(this.lockedTable));a=d.find("\x3etbody\x3etr").index(a);d=d[0]===this.table[0]?c:this.table;return d.find("\x3etbody\x3etr").eq(a)},select:function(a){var c=this.selectable;if(!c)return b();"undefined"!==typeof a&&(c.options.multiple||(c.clear(),a=a.first()),this._hasLockedColumns&&(a=a.add(b.map(a,l(this._relatedRow,this)))));return c.value(a)},clearSelection:function(){this.select().length&&(this.selectable.clear(),this.trigger("change"))},_dataSource:function(a){var b=this.dataSource;b&&(b.unbind("change",this._refreshHandler),b.unbind("error",this._errorHandler),b.unbind("progress",this._progressHandler));this._refreshHandler=l(this.refresh,this);this._errorHandler=l(this._error,this);this._progressHandler=l(this._progress,this);b=this.dataSource=O.create(a);b.bind("change",this._refreshHandler);b.bind("error",this._errorHandler);b.bind("progress",this._progressHandler)},setDataSource:function(a){this._dataSource(a);this._sortable();this._filterable();this._contentTree.render([]);this.options.autoBind&&this.dataSource.fetch()},dataItem:function(a){if(a instanceof J)return a;a=b(a).closest("tr");return this.dataSource.getByUid(a.attr(kendo.attr("uid")))},editRow:function(a){"string"===typeof a&&(a=this.tbody.find(a));if(a=this.dataItem(a))"popup"!=this._editMode()&&(a._edit=!0),this._cancelEditor(),this._render(),this._createEditor(a),this.trigger("edit",{container:this.editor.wrapper,model:a})},_cancelEdit:function(a){a=A(a,{container:this.editor.wrapper,model:this.editor.model});this.trigger("cancel",a)||this.cancelRow()},cancelRow:function(){this._cancelEditor();this._render()},saveRow:function(){var a=this.editor,b;a&&(b={model:a.model,container:a.wrapper},a.end()&&!this.trigger("save",b)&&this.dataSource.sync())},addRow:function(a){var b=this.editor,c=0,d={};if(!b||b.end())a?(a instanceof J||(a=this.dataItem(a)),d[a.parentIdField]=a.id,c=this.dataSource.indexOf(a)+1,this.expand(a).then(l(this._insertAt,this,d,c))):this._insertAt(d,c)},_insertAt:function(a,b){a=this.dataSource.insert(b,a);var c=this.itemFor(a);this.editRow(c)},removeRow:function(a){var b=this.dataItem(a);a={model:b,row:a};b&&!this.trigger("remove",a)&&(this.dataSource.remove(b),this.dataSource.sync())},_cancelEditor:function(){var a;if(a=this.editor)a=a.model,this._destroyEditor(),this.dataSource.cancelChanges(a),a._edit=!1},_destroyEditor:function(){this.editor&&(this.editor.close(),this.editor=null)},_createEditor:function(a){var b=this.itemFor(a),b=b.add(this._relatedRow(b)),c=this._editMode();a={columns:this.columns,model:a,target:this,clearContainer:!1,template:this.options.editable.template};"inline"==c?this.editor=new H(b,a):(A(a,{window:this.options.editable.window,commandRenderer:l(function(){return this._buildCommands(["update","canceledit"])},this),fieldRenderer:this._cellContent,save:l(this.saveRow,this),cancel:l(this._cancelEdit,this),appendTo:this.wrapper}),this.editor=new Y(b,a))},_editMode:function(){var a="inline",b=this.options.editable;!0!==b&&(a="string"==typeof b?b:b.mode||a);return a.toLowerCase()},hideColumn:function(a){this._toggleColumnVisibility(a,!0)},showColumn:function(a){this._toggleColumnVisibility(a,!1)},_toggleColumnVisibility:function(a,b){(a=this._findColumn(a))&&a.hidden!==b&&(a.hidden=b,this._ensureExpandableColumn(),this._renderCols(),this._renderHeader(),this._render(),this._adjustTablesWidth(),this.trigger(b?"columnHide":"columnShow",{column:a}),b||a.width||this.table.add(this.thead.closest("table")).width(""))},_findColumn:function(a){return a="number"==typeof a?this.columns[a]:d(a)?w(this.columns,function(b){return b===a})[0]:w(this.columns,function(b){return b.field===a})[0]},_adjustTablesWidth:function(){var a,b,c=this.thead.prev().children(),d,e=0;a=0;for(b=c.length;a<b;a++)if((d=c[a].style.width)&&-1==d.indexOf("%"))e+=parseInt(d,10);else{e=0;break}e&&this.table.add(this.thead.closest("table")).width(e)},_reorderable:function(){if(this.options.reorderable){var a=(!0===this.options.scrollable?".k-grid-header:first ":"table:first\x3e.k-grid-header ")+"th.k-header",c=this;this._draggableInstance=new e.Draggable(this.wrapper,{group:kendo.guid(),filter:a,hint:function(a){return b('\x3cdiv class\x3d"k-header k-drag-clue" /\x3e').css({width:a.width(),paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight"),lineHeight:a.height()+"px",paddingTop:a.css("paddingTop"),paddingBottom:a.css("paddingBottom")}).html(a.attr(kendo.attr("title"))||a.attr(kendo.attr("field"))||a.text()).prepend('\x3cspan class\x3d"k-icon k-drag-status k-denied" /\x3e')}});this.reorderable=new e.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:l(this._allowDragOverContainers,this),inSameContainer:function(a){return b(a.source).parent()[0]===b(a.target).parent()[0]},change:function(a){var b=a.newIndex,d=a.oldIndex;a="before"===a.position;var e=c.columns[d];c.trigger("columnReorder",{newIndex:b,oldIndex:d,column:e});c.reorderColumn(b,e,a)}})}},_allowDragOverContainers:function(a){return!1!==this.columns[a].lockable},reorderColumn:function(c,d,e){var f,g=this.columns,h=a(d,g),m=!!g[c].locked;f=this._nonLockedColumns().length;h===c||m&&!d.locked&&1==f||!m&&d.locked&&1==g.length-f||(e===k&&(e=c<h),f=!!d.locked,f=f!=m,d.locked=m,g.splice(e?c:c+1,0,d),g.splice(h<c?h:h+1,1),this._renderCols(),g=b(this.lockedHeader).add(this.thead).find("th"),g.eq(h)[e?"insertBefore":"insertAfter"](g.eq(c)),g=this._headerTree.children[0].children,this._hasLockedColumns&&(g=this._lockedHeaderTree.children[0].children.concat(g)),g.splice(e?c:c+1,0,g[h]),g.splice(h<c?h:h+1,1),this._hasLockedColumns&&(this._lockedHeaderTree.children[0].children=g.splice(0,this._lockedColumns().length),this._headerTree.children[0].children=g),this._applyLockedContainersWidth(),this.refresh(),f&&(m?this.trigger("columnLock",{column:d}):this.trigger("columnUnlock",{column:d})))},lockColumn:function(a){var b=this.columns;(a="number"==typeof a?b[a]:w(b,function(b){return b.field===a})[0])&&!a.hidden&&(b=this._lockedColumns().length-1,this.reorderColumn(b,a,!1))},unlockColumn:function(a){var b=this.columns;(a="number"==typeof a?b[a]:w(b,function(b){return b.field===a})[0])&&!a.hidden&&(b=this._lockedColumns().length,this.reorderColumn(b,a,!0))},_columnMenu:function(){var a=b(this.lockedHeader).add(this.thead).find("th"),c=this.columns,d=this.options,e=d.columnMenu,f,g,h,k=l(this._columnMenuInit,this),m=this._lockedColumns().length;if(e){"boolean"==typeof e&&(e={});for(var n=0;n<a.length;n++)f=c[n],f.field&&((g=a.eq(n).data("kendoColumnMenu"))&&g.destroy(),g=!1,!1!==f.sortable&&!1!==e.sortable&&!1!==d.sortable&&(g=A({},d.sortable,{compare:(f.sortable||{}).compare})),h=!1,d.filterable&&!1!==f.filterable&&!1!==e.filterable&&(h=A({pane:this.pane},f.filterable,d.filterable)),f={dataSource:this.dataSource,values:f.values,columns:e.columns,sortable:g,filterable:h,messages:e.messages,owner:this,closeCallback:b.noop,init:k,pane:this.pane,lockedColumns:!1!==f.lockable&&0<m},d.$angular&&(f.$angular=d.$angular),a.eq(n).kendoColumnMenu(f))}},_columnMenuInit:function(a){this.trigger("columnMenuInit",{field:a.field,container:a.container})}});kendo.ExcelMixin&&kendo.ExcelMixin.extend(F.prototype);kendo.PDFMixin&&(kendo.PDFMixin.extend(F.prototype),F.fn._drawPDF=function(a){var c=new b.Deferred;this._drawPDFShadow({width:this.wrapper.width()},{avoidLinks:this.options.pdf.avoidLinks}).done(function(b){b={page:b,pageNumber:1,progress:1,totalPages:1};a.notify(b);c.resolve(b.page)}).fail(function(a){c.reject(a)});return c});A(!0,kendo.data,{TreeListDataSource:O,TreeListModel:J});A(!0,kendo.ui,{TreeList:F});e.plugin(F)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.validator",["kendo.core"],b)})(function(){(function(b,k){function q(k){return b.parseHTML?b(b.parseHTML(k)):b(k)}function B(k,e){for(var h=b(),m,n,q=0,f=k.length;q<f;q++)m=k[q],C.test(m.className)&&(n=m.getAttribute(u.attr("for")),n===e&&(h=h.add(m)));return h}var u=window.kendo,z=u.ui.Widget,C=/k-invalid-msg/i,y=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,F=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,A=b.proxy,E=function(b,e){"string"===typeof e&&(e=new RegExp("^(?:"+e+")$"));return e.test(b)},x=function(b,e,h){var k=b.val();return b.filter(e).length&&""!==k?E(k,h):!0};u.ui.validator||(u.ui.validator={rules:{},messages:{}});var t=z.extend({init:function(k,e){var h=u.ui.validator.ruleResolvers||{},m={},n;for(n in h)b.extend(!0,m,h[n].resolve(k));h="["+u.attr("validate")+"!\x3dfalse]";e=e||{};e.rules=b.extend({},u.ui.validator.rules,m.rules,e.rules);e.messages=b.extend({},u.ui.validator.messages,m.messages,e.messages);z.fn.init.call(this,k,e);this._errorTemplate=u.template(this.options.errorTemplate);this.element.is("form")&&this.element.attr("novalidate","novalidate");this._inputSelector=":input:not(:button,[type\x3dsubmit],[type\x3dreset],[disabled],[readonly])"+h;this._checkboxSelector=":checkbox:not([disabled],[readonly])"+h;this._errors={};this._attachEvents();this._isValidated=!1},events:["validate","change"],options:{name:"Validator",errorTemplate:'\x3cspan class\x3d"k-widget k-tooltip k-tooltip-validation"\x3e\x3cspan class\x3d"k-icon k-warning"\x3e \x3c/span\x3e #\x3dmessage#\x3c/span\x3e',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(b){var e=b.filter("[type\x3dcheckbox]").length&&!b.is(":checked"),h=b.val();b=b.length?null!=b[0].attributes.required:!1;return!(b&&(""===h||!h||e))},pattern:function(b){return b.filter("[type\x3dtext],[type\x3demail],[type\x3durl],[type\x3dtel],[type\x3dsearch],[type\x3dpassword]").filter("[pattern]").length&&""!==b.val()?E(b.val(),b.attr("pattern")):!0},min:function(b){if(b.filter("[type\x3dnumber],[type\x3drange],["+u.attr("type")+"\x3dnumber]").filter("[min]").length&&""!==b.val()){var e=parseFloat(b.attr("min"))||0;b=u.parseFloat(b.val());return e<=b}return!0},max:function(b){if(b.filter("[type\x3dnumber],[type\x3drange],["+u.attr("type")+"\x3dnumber]").filter("[max]").length&&""!==b.val()){var e=parseFloat(b.attr("max"))||0;b=u.parseFloat(b.val());return e>=b}return!0},step:function(b){if(b.filter("[type\x3dnumber],[type\x3drange],["+u.attr("type")+"\x3dnumber]").filter("[step]").length&&""!==b.val()){var e=parseFloat(b.attr("min"))||0,h=parseFloat(b.attr("step"))||1;b=parseFloat(b.val());var k;k=(h+"").split(".");k=1<k.length?k[1].length:0;var m;return k?(m=Math.pow(10,k),0===Math.floor((b-e)*m)%(h*m)/Math.pow(100,k)):0===(b-e)%h}return!0},email:function(b){return x(b,"[type\x3demail],["+u.attr("type")+"\x3demail]",y)},url:function(b){return x(b,"[type\x3durl],["+u.attr("type")+"\x3durl]",F)},date:function(b){return b.filter("[type^\x3ddate],["+u.attr("type")+"\x3ddate]").length&&""!==b.val()?null!==u.parseDate(b.val(),b.attr(u.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){z.fn.destroy.call(this);this.element.off(".kendoValidator")},value:function(){return this._isValidated?0===this.errors().length:!1},_submit:function(b){return this.validate()?!0:(b.stopPropagation(),b.stopImmediatePropagation(),b.preventDefault(),!1)},_checkElement:function(b){var e=this.value();this.validateInput(b);this.value()!==e&&this.trigger("change")},_attachEvents:function(){var k=this;if(k.element.is("form"))k.element.on("submit.kendoValidator",A(k._submit,k));if(k.options.validateOnBlur)if(k.element.is(":input:not(:button,[type\x3dsubmit],[type\x3dreset],[disabled],[readonly])")){if(k.element.on("blur.kendoValidator",function(){k._checkElement(k.element)}),k.element.is(":checkbox:not([disabled],[readonly])"))k.element.on("click.kendoValidator",function(){k._checkElement(k.element)})}else k.element.on("blur.kendoValidator",k._inputSelector,function(){k._checkElement(b(this))}),k.element.on("click.kendoValidator",k._checkboxSelector,function(){k._checkElement(b(this))})},validate:function(){var b,e,h,k=this.value();this._errors={};if(this.element.is(":input:not(:button,[type\x3dsubmit],[type\x3dreset],[disabled],[readonly])"))b=this.validateInput(this.element);else{var n=!1;b=this.element.find(this._inputSelector);e=0;for(h=b.length;e<h;e++)this.validateInput(b.eq(e))||(n=!0);b=!n}this.trigger("validate",{valid:b});k!==b&&this.trigger("change");return b},validateInput:function(k){k=b(k);this._isValidated=!0;var e=this._errorTemplate,h=this._checkValidity(k),m=h.valid,n=k.attr("name")||"",t=this._findMessageContainer(n).add(k.next(".k-invalid-msg").filter(function(){var e=b(this);return e.filter("["+u.attr("for")+"]").length?e.attr(u.attr("for"))===n:!0})).hide();k.removeAttr("aria-invalid");m?delete this._errors[n]:(h=this._extractMessage(k,h.key),this._errors[n]=h,e=q(e({message:h.replace(/&amp/g,"\x26amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e")})),h=t.attr("id"),this._decorateMessageContainer(e,n),h&&e.attr("id",h),t.replaceWith(e).length||e.insertAfter(k),e.show(),k.attr("aria-invalid",!0));k.toggleClass("k-invalid",!m);k.toggleClass("k-valid",m);return m},hideMessages:function(){var b=this.element;b.is(":input:not(:button,[type\x3dsubmit],[type\x3dreset],[disabled],[readonly])")?b.next(".k-invalid-msg").hide():b.find(".k-invalid-msg").hide()},_findMessageContainer:function(k){for(var e=u.ui.validator.messageLocators,h,m=b(),n=0,q=this.element.length;n<q;n++)m=m.add(B(this.element[n].getElementsByTagName("*"),k));for(h in e)m=m.add(e[h].locate(this.element,k));return m},_decorateMessageContainer:function(b,e){var h=u.ui.validator.messageLocators,k;b.addClass("k-invalid-msg").attr(u.attr("for"),e||"");for(k in h)h[k].decorate(b,e);b.attr("role","alert")},_extractMessage:function(b,e){var h=this.options.messages[e],k=b.attr("name"),h=u.isFunction(h)?h(b):h;return u.format(b.attr(u.attr(e+"-msg"))||b.attr("validationMessage")||b.attr("title")||h||"",k,b.attr(e)||b.attr(u.attr(e)))},_checkValidity:function(b){var e=this.options.rules,h;for(h in e)if(!e[h].call(this,b))return{valid:!1,key:h};return{valid:!0}},errors:function(){var b=[],e=this._errors,h;for(h in e)b.push(e[h]);return b}});u.ui.plugin(t)})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});(function(b,k){k("kendo.treeview.draganddrop",["kendo.data","kendo.draganddrop"],b)})(function(){(function(b,k){var q=window.kendo,B=q.ui,u=b.proxy,z=b.extend;B.HierarchicalDragAndDrop=q.Class.extend({init:function(k,y){this.hovered=this.element=k;this.options=z({dragstart:b.noop,drag:b.noop,drop:b.noop,dragend:b.noop},y);this._draggable=new B.Draggable(k,{ignore:"input,a,textarea,.k-multiselect-wrap,select,button,a.k-button\x3e.k-icon,button.k-button\x3e.k-icon,span.k-icon.k-i-expand,span.k-icon.k-i-collapse",filter:y.filter,autoScroll:y.autoScroll,cursorOffset:{left:10,top:q.support.mobileOS?-40/q.support.zoomLevel():10},hint:u(this._hint,this),dragstart:u(this.dragstart,this),dragcancel:u(this.dragcancel,this),drag:u(this.drag,this),dragend:u(this.dragend,this),$angular:y.$angular})},_hint:function(b){return"\x3cdiv class\x3d'k-header k-drag-clue'\x3e\x3cspan class\x3d'k-icon k-drag-status' /\x3e"+this.options.hintText(b)+"\x3c/div\x3e"},_removeTouchHover:function(){q.support.touch&&this.hovered&&(this.hovered.find(".k-state-hover").removeClass("k-state-hover"),this.hovered=!1)},_hintStatus:function(k){var q=this._draggable.hint.find(".k-drag-status")[0];if(k)q.className="k-icon k-drag-status "+k;else return b.trim(q.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(k){this.source=k.currentTarget.closest(this.options.itemSelector);this.options.dragstart(this.source)&&k.preventDefault();this.dropHint=this.options.reorderable?b("\x3cdiv class\x3d'k-drop-hint' /\x3e").css("visibility","hidden").appendTo(this.element):b()},drag:function(k){var u=this.options,z=this.source,A=this.dropTarget=b(q.eventTarget(k)),C=A.closest(u.allowedContainers),x,t,m,e,h,p,n,B;C.length?z[0]==A[0]||u.contains(z[0],A[0])?B="k-denied":(B="k-insert-middle",n=u.itemFromTarget(A),x=n.item,x.length?(this._removeTouchHover(),t=x.outerHeight(),e=n.content,u.reorderable?(h=t/(0<e.length?4:2),m=q.getOffset(x).top,p=k.y.location<m+h,m=m+t-h<k.y.location,h=e.length&&!p&&!m):(h=!0,m=p=!1),this.hovered=h?C:!1,this.dropHint.css("visibility",h?"hidden":"visible"),this._lastHover&&this._lastHover[0]!=e[0]&&this._lastHover.removeClass("k-state-hover"),this._lastHover=e.toggleClass("k-state-hover",h),h?B="k-add":(C=x.position(),C.top+=p?0:t,this.dropHint.css(C)[p?"prependTo":"appendTo"](u.dropHintContainer(x)),p&&n.first&&(B="k-insert-top"),m&&n.last&&(B="k-insert-bottom"))):A[0]!=this.dropHint[0]&&(this._lastHover&&this._lastHover.removeClass("k-state-hover"),B=b.contains(this.element[0],C[0])?"k-denied":"k-add")):(B="k-denied",this._removeTouchHover());this.options.drag({originalEvent:k.originalEvent,source:z,target:A,pageY:k.y.location,pageX:k.x.location,status:B.substring(2),setStatus:function(b){B=b}});0!==B.indexOf("k-insert")&&this.dropHint.css("visibility","hidden");this._hintStatus(B)},dragcancel:function(){this.dropHint.remove()},dragend:function(b){var k="over",q=this.source,u,z=this.dropHint,x=this.dropTarget,t;"visible"==z.css("visibility")?(k=this.options.dropPositionFrom(z),u=z.closest(this.options.itemSelector)):x&&(u=x.closest(this.options.itemSelector),u.length||(u=x.closest(this.options.allowedContainers)));x={originalEvent:b.originalEvent,source:q[0],destination:u[0],valid:"k-denied"!=this._hintStatus(),setValid:function(b){this.valid=b},dropTarget:x[0],position:k};t=this.options.drop(x);z.remove();this._removeTouchHover();this._lastHover&&this._lastHover.removeClass("k-state-hover");!x.valid||t?this._draggable.dropped=x.valid:(this._draggable.dropped=!0,this.options.dragend({originalEvent:b.originalEvent,source:q,destination:u,position:k}))},destroy:function(){this._lastHover=this.hovered=null;this._draggable.destroy()}})})(window.kendo.jQuery);return window.kendo},"function"==typeof define&&define.amd?define:function(b,k,q){(q||k)()});